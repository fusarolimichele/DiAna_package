[{"path":"https://fusarolimichele.github.io/DiAna_package/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 DiAna authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v01_Start_Subproject.html","id":"requisites","dir":"Articles","previous_headings":"","what":"Requisites","title":"v01_Start_Subproject","text":"tutorial requires first: installed R R Studio, installed DiAna package, set project folder. Otherwise get back ReadMe follow instructions.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v01_Start_Subproject.html","id":"starting-a-subproject","dir":"Articles","previous_headings":"","what":"Starting a subproject","title":"v01_Start_Subproject","text":"DiAna main project, now want create subproject specific tutorial. first thing open new R script (white paper green white cross top left corner rstudio) insert details project. specified , every time use # inserting comment. Comments extremely useful document explain project, run affect results. can also see can create kind skeleton/structure script : using one # first level headings, ## second level headings, … adding dashes heading point R studio actually heading. nice thing starting work organized way make script readable researchers future. also forces aware entire study design moment, reducing possibility creating overlapping chunks codes making errors. Finally, allows easily navigate script using window pane can access clicking writing left corner script. included information deem necessary document script, upload DiAna package.","code":"# Information ----------------------------------------------------------------- ## Project title -------------------------------------------------------------- ### Setting up a DiAna subproject  ## Data ----------------------------------------------------------------------- ### FDA Adverse Event Reporting System Quarterly Data  ## Authors -------------------------------------------------------------------- ### Michele Fusaroli  ## Version -------------------------------------------------------------------- ### Set up: 2024-07-23 ### Last update: 2024-07-23 # Set up ---------------------------------------------------------------------- ## upload DiAna --------------------------------------------------------------- library(DiAna) #> Loading required package: data.table #> Loading required package: ggplot2 #> Welcome to DiAna package. A tool for standardized, flexible, and transparent pharmacovigilance analyses on the FAERS. #>  #> To cite this package in your work and publications use: Fusaroli M., Giunchi V. - DiAna version 2.1.0 (2024-08-14). An open access toolkit for DIsproportionality ANAlysis and other pharmacovigilance investigations in the FAERS. https://github.com/fusarolimichele/DiAna_package; https://github.com/fusarolimichele/DiAna; https://osf.io/zqu89/. #>  #> DiAna contributors for specific functions were: Zoffoli V. for helping developing the cleaning procedure for the FAERS, Van Holle L. for time to onset analysis (cfr. https://doi.org/10.1002/pds.3226), Sakai T. and Trinh N. for pregnancy algorithm (cfr. 10.3389/fphar.2022.1063625) #>  #> Additional reference: Fusaroli M, Giunchi V, Battini V, Puligheddu S, Khouri C, Carnovale C, Raschi E, Poluzzi E. Enhancing Transparency in Defining Studied Drugs: The Open-Source Living DiAna Dictionary for Standardizing Drug Names in the FAERS. Drug Saf. 2024 Mar;47(3):271-284. doi: 10.1007/s40264-023-01391-4. #>  #> The MedDRA version used is 26.1"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v01_Start_Subproject.html","id":"setting-up-your-diana-subproject","dir":"Articles","previous_headings":"Starting a subproject","what":"Setting Up Your DiAna Subproject","title":"v01_Start_Subproject","text":"section, guide setting subproject within DiAna analysis environment. following R code chunk creates new directory named “tutorial” within “projects” folder DiAna folder. ::() function helps locate current DiAna package directory, project_path variable defined point “tutorial” folder storing output. want give better name project just change string assinged variable project_name. running code, establish structured subproject environment. “tutorial” folder contain necessary files configurations subproject, ensuring seamless organized analysis experience. Finally, save script subproject folder, using blue floppy icon script finding right directory. suggest give script name folder.","code":"## Project_path --------------------------------------------------------------- DiAna_path <- here::here() project_name <- \"tutorial\" project_path <- paste0(DiAna_path, \"/projects/\", project_name) if (!file.exists(project_path)) {   dir.create(project_path) } project_path <- paste0(project_path, \"/\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v01_Start_Subproject.html","id":"input-data-and-packages","dir":"Articles","previous_headings":"Starting a subproject","what":"Input data and packages","title":"v01_Start_Subproject","text":"DiAna package, seamless data import crucial aspect empowering pharmacovigilance analyses. first set FAERS version, last quarter want included analysis. Note first download data using setup_DiAna, following information ReadMe, otherwise find data folder data want import. structure help , needed, update results new quarter just changing quarter rerunning whole script. second code chunk utilizes import() function load essential datasets FDA Adverse Event Reporting System (FAERS). uses FAERS_version provided, set , see error remembering set FAERS_version. importing datasets like “DRUG”, “REAC”, “DEMO”, “INDI” DiAna equips users comprehensive information drugs, adverse reactions, patient demographics, indications. act importing prints also sample data console. Furthermore, note sample FAERS dataset (including also Outc, Ther, Doses, Demo_Supp, Drug_Supp, Drug_Name) information 1000 random reports available package can accessed calling “sample_” name dataset, shown (may run , may include script): Notably, can get information information stored FAERS database just running name dataset interested preceded question mark (, may run may include script). help window R studio, usually lower right corner, include documentation. Moreover, DiAna offers functionality import data related Anatomical Therapeutic Chemical (ATC) classification linked active ingredients translated DiAna dictionary. ATC file crucial component grouping drugs based therapeutic use. DiAna make available Medical Dictionary Regulatory Activities (MedDRA, hierarchical dictionary used code events), upon subscription, makes available import_MedDRA function. access MedDRA, can follow instructions DiAna GitHub repository create MedDRA file import_MedDRA function.","code":"## FAERS_version -------------------------------------------------------------- FAERS_version <- \"24Q1\" ## Import data ---------------------------------------------------------------- import(\"DRUG\") import(\"REAC\") import(\"DEMO\") import(\"INDI\") sample_Demo #>       primaryid    sex age_in_days wt_in_kgs             occr_country event_dt #>           <num> <fctr>       <num>     <num>                   <fctr>    <int> #>    1:   4315260      M          NA        NA                     <NA>       NA #>    2:   4329569      F          NA        NA                     <NA>       NA #>    3:   4447614      F          NA        NA                     <NA>       NA #>    4:   4450462      M       21900        NA                     <NA> 20031203 #>    5:   4458274      F       16790        NA                     <NA>       NA #>   ---                                                                          #>  996: 221121011      F          NA        NA United States of America       NA #>  997: 221339931   <NA>          NA        NA United States of America       NA #>  998: 221399731      F       29200        NA United States of America       NA #>  999: 220166883      M       18250        92 United States of America 20230214 #> 1000: 220784242      F       16790        NA United States of America 20230222 #>       occp_cod         reporter_country rept_cod init_fda_dt   fda_dt #>         <fctr>                   <fctr>   <fctr>       <int>    <int> #>    1:       OT                     <NA>      EXP          NA 20040309 #>    2:       CN                     <NA>      PER          NA 20040319 #>    3:       CN                     <NA>      PER          NA 20040823 #>    4:     <NA>                     <NA>      EXP          NA 20040914 #>    5:       CN                     <NA>      PER          NA 20040917 #>   ---                                                                 #>  996:       CN United States of America      PER    20230318 20230318 #>  997:       CN United States of America      PER    20230324 20230324 #>  998:       HP United States of America      EXP    20230327 20230327 #>  999:       CN United States of America      PER    20230221 20230328 #> 1000:       MD United States of America      PER    20230309 20230330 #>       premarketing literature RB_duplicates RB_duplicates_only_susp #>             <lgcl>     <lgcl>        <lgcl>                  <lgcl> #>    1:        FALSE      FALSE         FALSE                    TRUE #>    2:        FALSE      FALSE          TRUE                    TRUE #>    3:        FALSE      FALSE         FALSE                   FALSE #>    4:        FALSE      FALSE         FALSE                   FALSE #>    5:        FALSE      FALSE         FALSE                   FALSE #>   ---                                                               #>  996:        FALSE      FALSE         FALSE                   FALSE #>  997:        FALSE      FALSE         FALSE                   FALSE #>  998:        FALSE       TRUE         FALSE                   FALSE #>  999:        FALSE      FALSE         FALSE                   FALSE #> 1000:        FALSE      FALSE         FALSE                   FALSE ?sample_Demo import_ATC()"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v01_Start_Subproject.html","id":"summing-up","dir":"Articles","previous_headings":"Starting a subproject","what":"Summing up","title":"v01_Start_Subproject","text":"vignette showed initiate subproject folder, setup FAERS version, import access FAERS data documentation. plausible repeat script every time start new FAERS project. promote clarity standardization, time gratify laziness, way include entire script automatically instead manually. called snippet: chunk code can included script just writing script short snippet command. can get set useful snippets running DiAna command snippets_install_github() console, internet connection. Note way extremely easy share scripts FAERS studies. running function, can just open new R script write “new_FAERS_project” (R Studio says us snippet), autocompile script something similar following chunk. just need include details specific study.","code":"# Information ----------------------------------------------------------------- ## Project title -------------------------------------------------------------- ### TITLE  ## Data ----------------------------------------------------------------------- ### FDA Adverse Event Reporting System Quarterly Data  ## Authors -------------------------------------------------------------------- ### NAME SURNAME  ## Version -------------------------------------------------------------------- ### Set up: yyyy-mm-dd ### Last update: yyyy-mm-dd ### DiAna version: X.X.X  # Set up ---------------------------------------------------------------------- ## upload DiAna --------------------------------------------------------------- library(DiAna)  ## Project_path --------------------------------------------------------------- DiAna_path <- here::here() project_name <- \"project_name\" project_path <- paste0(DiAna_path, \"/projects/\", project_name) if (!file.exists(project_path)) {   dir.create(project_path) } project_path <- paste0(project_path, \"/\")  ## FAERS_version --------------------------------------------------------------  FAERS_version <- \"24Q1\"  ## Import data ---------------------------------------------------------------- import(\"DRUG\") import(\"REAC\") import(\"DEMO\") import(\"DEMO_SUPP\") import(\"INDI\") import(\"DOSES\") import(\"THER\") import(\"OUTC\") import(\"DRUG_SUPP\") import(\"DRUG_NAME\") import_MedDRA() import_ATC()  ## Input files ---------------------------------------------------------------  ## Output files --------------------------------------------------------------"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"requisites","dir":"Articles","previous_headings":"","what":"Requisites","title":"v02_Disproportionality_Analysis","text":"tutorial requires first: installed R R Studio, installed DiAna package, set project folder. Otherwise get back ReadMe follow instructions. also recommended, necessary, read previous vignettes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"start-the-subproject","dir":"Articles","previous_headings":"","what":"Start the subproject","title":"v02_Disproportionality_Analysis","text":"DiAna main project, open new R script run snippet ‘new_FAERS_project’ set project.","code":"# Information ----------------------------------------------------------------- ## Project title -------------------------------------------------------------- ### v02_Disproportionality analysis ## Data ----------------------------------------------------------------------- ### FDA Adverse Event Reporting System Quarterly Data  ## Authors -------------------------------------------------------------------- ### Michele Fusaroli  ## Version -------------------------------------------------------------------- ### Set up: 2024-07-29 ### Last update: 2024-07-29 ### DiAna version: 2.1.0  # Set up ---------------------------------------------------------------------- ## upload DiAna --------------------------------------------------------------- library(DiAna)  ## Project_path --------------------------------------------------------------- DiAna_path <- here::here() project_name <- \"v02_Disproportionality_Analysis\" project_path <- paste0(DiAna_path, \"/projects/\", project_name) if (!file.exists(project_path)) {   dir.create(project_path) } project_path <- paste0(project_path, \"/\")  ## FAERS_version --------------------------------------------------------------  FAERS_version <- \"24Q1\"  ## Import data ---------------------------------------------------------------- import(\"DRUG\") #>           primaryid   drug_seq       substance role_cod #>               <num>      <int>          <fctr>    <ord> #>        1:   4261825 1004486228        atropine        C #>        2:   4261825 1004486228   diphenoxylate        C #>        3:   4262057 1004487206     amoxicillin       PS #>        4:   4262057 1004487206 clavulanic acid       PS #>        5:   4262057 1004487210        macrogol        C #>       ---                                               #> 69763501: 992001227        580      loratadine       SS #> 69763502: 992001227        581      loratadine       SS #> 69763503: 992001227        582      loratadine       SS #> 69763504: 992001227        586       magnesium        C #> 69763505: 992001227        587       magnesium        C import(\"REAC\") #>           primaryid                            pt drug_rec_act #>               <num>                         <ord>        <ord> #>        1:   4204616                abdominal pain         <NA> #>        2:   4204616          heart rate increased         <NA> #>        3:   4204616                        nausea         <NA> #>        4:   4204616                       pyrexia         <NA> #>        5:   4204616            uterine tenderness         <NA> #>       ---                                                      #> 52222720: 237079291         chemical burn of skin         <NA> #> 52222721: 237079291    toxicity to various agents         <NA> #> 52222722: 237079291                          scar         <NA> #> 52222723: 237203351 injection site discolouration         <NA> #> 52222724: 237203351       injection site bruising         <NA>  ## Input files ----------------------------------------------------------------  ## Output files ---------------------------------------------------------------  ## Definitions ----------------------------------------------------------------  ## Reference groups -----------------------------------------------------------  ## Descriptive analysis -------------------------------------------------------  ## Disproportionality analysis ------------------------------------------------  ## Case by case analysis ------------------------------------------------------"},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"basic-application","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Basic application","title":"v02_Disproportionality_Analysis","text":"Let’s explore disproportionality_analysis function. investigating possibility role “aripiprazole” causing “impulse control disorder”, therefore draft definitions objects study. Already using simple definitions, can ran simplest disproportionality analysis: want save object called disproportionality_df, results disproportionality analysis drug reaction specified. run command message appears console: “events selected found database, check following terms misspelling alternative nomenclature: impulse control disorder. like revise query? (Yes//cancel)”. message implies exact term “impulse control disorder” exists database. can proceed? write “Yes” console run command “return”. function warns us revise query, definition object study. can check correct spelling? can look MedDRA , quickly search directly database following command, run just console since need keep script. previous command can read : “within database Reac, count many times (.N) preferred term occurs (=”pt”). order pt decreasing N (order(-N)). Finally, filter rows pattern “impuls” pt. can see two terms plausibly include analysis: impulsive behaviour, term used even even consider , “impulse-control disorder” term wanted consider also dash first two words. First, let’s fix definition. get back definition section script fix including dash reaction pt follows rerun disproportionality analysis: time error appears, seconds can see environment (window pane usually upper right) populated dataset called disproportionalitY_df. Calling name object prints console, can see object now dataset one row (per drug-event combination) 19 columns, including name substance event, instances contingency table, median 95% confidence interval Reporting Odds Ratio ROR Information component, results summarised string following format “median (lower limit-upper limit) [N cases]”. Bonferroni column specifies whether ROR still significant correcting multiple comparison, two columns summarise whether signal exists (SDR) (SDR) exists disappear correction multiple comparison (weak SDR). case found signal disproportionate reporting using analyses. columns exist simplify input functions, , example, visualization using render_forest. forest plots see x axis information component (default) ROR specify index parameter. median shown using dot, whose size proportional number cases. 95% confidence interval shown line. dashed vertical axis (0 IC 1 ROR) highlights threshold statistical significance, compared lower limit confidence interval must higher identify signal disproportionate reporting. case, identified clear signal disproportionate reporting using methods.","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\" reac_selected <- \"impulse control disorder\" ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) Reac[, .N, by = \"pt\"][order(-N)][grepl(\"impuls\", pt)] #>                          pt     N #>                       <ord> <int> #> 1:      impulsive behaviour  3264 #> 2: impulse-control disorder  1733 ## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\" reac_selected <- \"impulse-control disorder\"  ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) disproportionality_df #>       substance                    event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper #>          <fctr>                    <ord> <num>  <num>  <num> <num> <num>    <num>      <num>     <num>     <num> #> 1: aripiprazole impulse-control disorder   286 111261 111547  1447  1733 17485485      31.06     27.28     35.25 #>    IC_median IC_lower IC_upper                 label_ROR               label_IC Bonferroni ROR_signal IC_signal #>        <num>    <num>    <num>                    <char>                 <char>     <lgcl>      <ord>     <ord> #> 1:      4.64     4.44     4.78 31.06 (27.28-35.25) [286] 4.64 (4.44-4.78) [286]       TRUE        SDR       SDR render_forest(disproportionality_df) render_forest(disproportionality_df, index = \"ROR\") #> Error in knitr::include_graphics(\"render_forest-1.png\", dpi = 144): Cannot find the file(s): \"render_forest-1.png\" #> Error in knitr::include_graphics(\"render_forest-2.png\", dpi = 144): Cannot find the file(s): \"render_forest-2.png\""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"extend-queries","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Extend queries","title":"v02_Disproportionality_Analysis","text":"said , definition exhaustive, risk missing many cases impulsivity used different PT “impulse-control disorder”. fact undetected cases part background reference group potentially distort results. can extend definition? Let’s go back definition paragraph add interesting terms definition impulse-control disorder, using named list. see now number cases increased 286 701, still find SDR.","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\" reac_selected <- list(\"impulse-control disorder\" = list(   \"impulse-control disorder\",   \"impulsive behaviour\" ))  ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) disproportionality_df #>       substance                    event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper #>          <fctr>                   <char> <num>  <num>  <num> <num> <num>    <num>      <num>     <num>     <num> #> 1: aripiprazole impulse-control disorder   701 110846 111547  4258  4959 17482674      25.94     23.94     28.13 #>    IC_median IC_lower IC_upper                 label_ROR               label_IC Bonferroni ROR_signal IC_signal #>        <num>    <num>    <num>                    <char>                 <char>     <lgcl>      <ord>     <ord> #> 1:      4.45     4.33     4.54 25.94 (23.94-28.13) [701] 4.45 (4.33-4.54) [701]       TRUE        SDR       SDR render_forest(disproportionality_df) #> Error in knitr::include_graphics(\"extend_query-1.png\", dpi = 144): Cannot find the file(s): \"extend_query-1.png\""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"multiple-queries","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Multiple queries","title":"v02_Disproportionality_Analysis","text":"Taking , consider impulsivity manifests often pervasive behaviors, gambling, compulsive shopping, hyperphagia, hypersexuality. add extended query impulse-control disorders refined years (see Parkinsonism Related Disorders 90 (2021) 79–83 documentation obtained first definition combining scoping review disproportionality analysis). also use feature disproportionality_analysis function run analysis parallel several possible behavioral manifestations impulsivity, just adding named elements list. Specifically, first define named list called ICDs subqueries related different manifestations (e.g., gambling disorder reported either gambling disorder gambling), run rlist append store reac_selected parameter individual sub-queries full query. run analysis see message terms (“erotophonophilia” “frotteurism” found, case know terms spelled correctly (just case noone used FAERS yet) run “” console let analysis proceed. case also add parameter render_forest function, make print event different line results now show 16 rows (one per drug-event combination), found SDR apart excessive exercise overwork found less 3 cases (minimum identify SDR IC. can see render forests confidence interval larger combinations fewer cases (compare different size dots).","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\"  ICDs <- list(   \"gambling disorder\" = list(\"gambling disorder\", \"gambling\"),   \"hypersexuality\" = list(     \"compulsive sexual behaviour\",     \"hypersexuality\",     \"excessive masturbation\",     \"excessive sexual fantasies\",     \"libido increased\",     \"sexual activity increased\",     \"kluver-bucy syndrome\"   ),   \"paraphilia\" = list(     \"erotophonophilia\", \"exhibitionism\",     \"fetishism\", \"frotteurism\",     \"masochism\", \"paraphilia\", \"paedophilia\",     \"sadism\", \"transvestism\", \"voyeurism\",     \"sexually inappropriate behaviour\"   ),   \"compulsive shopping\" = list(\"compulsive shopping\"),   \"hyperphagia\" = list(     \"binge eating\", \"food craving\", \"hyperphagia\",     \"increased appetite\"   ),   \"gaming disorder\" = list(\"gaming disorder\"),   \"pyromania\" = list(\"pyromania\"),   \"kleptomania\" = list(\"kleptomania\", \"shoplifting\"),   \"compulsive hoarding\" = list(\"compulsive hoarding\"),   \"excessive exercise\" = list(\"excessive exercise\"),   \"overwork\" = list(\"overwork\"),   \"poriomania\" = list(\"poriomania\"),   \"body-focused disorder\" = list(     \"compulsive cheek biting\",     \"compulsive lip biting\",     \"dermatillomania\",     \"dermatophagia\", \"nail picking\",     \"compulsive handwashing\",     \"trichotemnomania\",     \"trichotillomania\", \"onychophagia\",     \"thumb sucking\"   ),   \"stereotypy\" = list(\"automatism\", \"stereotypy\"),   \"impulsivity\" = list(     \"impulse-control disorder\",     \"impulsive behaviour\",     \"disinhibition\", \"behavioural addiction\",     \"abnormal behaviour\"   ) ) reac_selected <- rlist::list.append(ICDs, \"ICD\" = as.list(unlist(purrr::flatten(ICDs))))  ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) disproportionality_df #>        substance                 event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper IC_median #>           <fctr>                <char> <num>  <num>  <num> <num> <num>    <num>      <num>     <num>     <num>     <num> #>  1: aripiprazole           impulsivity  2324 109223 111547 39764 42088 17447168       9.33      8.94      9.73      3.12 #>  2: aripiprazole                   ICD  5898 105649 111547 66398 72296 17420534      14.64     14.24     15.04      3.68 #>  3: aripiprazole           hyperphagia  1114 110433 111547 20160 21274 17466772       8.73      8.21      9.28      3.04 #>  4: aripiprazole     gambling disorder  2479 109068 111547  2589  5068 17484343     153.42    144.49    162.66      6.24 #>  5: aripiprazole body-focused disorder   200 111347 111547  1109  1309 17485823      28.33     24.23     32.98      4.51 #>  6: aripiprazole        hypersexuality  1119 110428 111547  3077  4196 17483855      57.56     53.72     61.60      5.36 #>  7: aripiprazole            paraphilia    92 111455 111547   511   603 17486421      28.25     22.37     35.30      4.41 #>  8: aripiprazole           kleptomania   195 111352 111547   149   344 17486783     206.74    164.42    258.48      6.18 #>  9: aripiprazole            stereotypy    60 111487 111547   942  1002 17485990       9.98      7.56     12.97      3.14 #> 10: aripiprazole    excessive exercise     1 111546 111547    84    85 17486848       1.86      0.04     10.68      0.53 #> 11: aripiprazole             pyromania     6 111541 111547    91    97 17486841      10.33      3.69     23.36      2.54 #> 12: aripiprazole            poriomania    16 111531 111547   157   173 17486775      15.97      8.91     26.77      3.36 #> 13: aripiprazole              overwork     2 111545 111547    70    72 17486862       4.47      0.53     16.79      1.38 #> 14: aripiprazole   compulsive hoarding   245 111302 111547    75   320 17486857     511.88    396.39    674.49      6.60 #> 15: aripiprazole   compulsive shopping  1108 110439 111547   782  1890 17486150     224.01    203.60    247.78      6.47 #> 16: aripiprazole       gaming disorder     3 111544 111547     6     9 17486926      78.38     12.68    365.96      2.65 #>     IC_lower IC_upper                     label_ROR                label_IC Bonferroni       ROR_signal        IC_signal #>        <num>    <num>                        <char>                  <char>     <lgcl>            <ord>            <ord> #>  1:     3.05     3.17       9.33 (8.94-9.73) [2324] 3.12 (3.05-3.17) [2324]       TRUE              SDR              SDR #>  2:     3.64     3.71    14.64 (14.24-15.04) [5898] 3.68 (3.64-3.71) [5898]       TRUE              SDR              SDR #>  3:     2.94     3.11       8.73 (8.21-9.28) [1114] 3.04 (2.94-3.11) [1114]       TRUE              SDR              SDR #>  4:     6.18     6.29 153.42 (144.49-162.66) [2479] 6.24 (6.18-6.29) [2479]       TRUE              SDR              SDR #>  5:     4.27     4.67     28.33 (24.23-32.98) [200]  4.51 (4.27-4.67) [200]       TRUE              SDR              SDR #>  6:     5.26     5.44     57.56 (53.72-61.6) [1119] 5.36 (5.26-5.44) [1119]       TRUE              SDR              SDR #>  7:     4.07     4.66       28.25 (22.37-35.3) [92]   4.41 (4.07-4.66) [92]       TRUE              SDR              SDR #>  8:     5.95     6.36  206.74 (164.42-258.48) [195]  6.18 (5.95-6.36) [195]       TRUE              SDR              SDR #>  9:     2.71     3.45        9.98 (7.56-12.97) [60]   3.14 (2.71-3.45) [60]       TRUE              SDR              SDR #> 10:    -3.26     2.21         1.86 (0.04-10.68) [1]   0.53 (-3.26-2.21) [1]      FALSE not enough cases not enough cases #> 11:     1.12     3.45        10.33 (3.69-23.36) [6]    2.54 (1.12-3.45) [6]       TRUE              SDR              SDR #> 12:     2.52     3.95       15.97 (8.91-26.77) [16]   3.36 (2.52-3.95) [16]       TRUE              SDR              SDR #> 13:    -1.21     2.77         4.47 (0.53-16.79) [2]   1.38 (-1.21-2.77) [2]      FALSE not enough cases not enough cases #> 14:     6.39     6.75  511.88 (396.39-674.49) [245]   6.6 (6.39-6.75) [245]       TRUE              SDR              SDR #> 15:     6.37     6.54  224.01 (203.6-247.78) [1108] 6.47 (6.37-6.54) [1108]       TRUE              SDR              SDR #> 16:     0.58     3.85      78.38 (12.68-365.96) [3]    2.65 (0.58-3.85) [3]       TRUE              SDR              SDR render_forest(disproportionality_df, row = \"event\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"positive-and-negative-controls","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Positive and negative controls","title":"v02_Disproportionality_Analysis","text":"considerations can fact performed also drug (may want check association aripiprazole alone pharmacological class group (third generation antipsychotics: also brexpiprazole cariprazine), can used include also negative positive controls: may include “pramipexole” positive control (drug known cause impulsivity), “paracetamol” negative control (drug known cause impulsivity), potentially also events known reactions aripiprazole (e.g., insomnia, headache) events known good certainty reactions aripiprazole (“liver injury”). case may want add render forest option give drug facet, seen script. see extensive association impulsive manifestations aripiprazole, class (fact almost aripiprazole two drugs far less used), positive control pramipexole (shows also enough cases excessive exercise, even enough cases pyromania). Aripiprazole associated liver injury headache (expected), instead paracetamol associated , first known reaction, second reverse causality (take paracetamol treat headache). Paracetamol associated many impulsivity manifestations, still associated impulsivity, ICD, gambling overwork (see red dots plot identify SDR). possible explanations may present: overwork use paracetamol fight subsequent migraine comprehensible association, also impulsivity intended general irritability due pain.","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- list(   \"aripiprazole\" = list(\"aripiprazole\"),   \"TGAs\" = list(\"aripiprazole\", \"brexpiprazole\", \"cariprazine\"),   \"pramipexole\" = list(\"pramipexole\"), # positive control   \"paracetamol\" = list(\"paracetamol\") ) # negative control  ICDs <- list(   \"gambling disorder\" = list(\"gambling disorder\", \"gambling\"),   \"hypersexuality\" = list(     \"compulsive sexual behaviour\",     \"hypersexuality\",     \"excessive masturbation\",     \"excessive sexual fantasies\",     \"libido increased\",     \"sexual activity increased\",     \"kluver-bucy syndrome\"   ),   \"paraphilia\" = list(     \"erotophonophilia\", \"exhibitionism\",     \"fetishism\", \"frotteurism\",     \"masochism\", \"paraphilia\", \"paedophilia\",     \"sadism\", \"transvestism\", \"voyeurism\",     \"sexually inappropriate behaviour\"   ),   \"compulsive shopping\" = list(\"compulsive shopping\"),   \"hyperphagia\" = list(     \"binge eating\", \"food craving\", \"hyperphagia\",     \"increased appetite\"   ),   \"gaming disorder\" = list(\"gaming disorder\"),   \"pyromania\" = list(\"pyromania\"),   \"kleptomania\" = list(\"kleptomania\", \"shoplifting\"),   \"compulsive hoarding\" = list(\"compulsive hoarding\"),   \"excessive exercise\" = list(\"excessive exercise\"),   \"overwork\" = list(\"overwork\"),   \"poriomania\" = list(\"poriomania\"),   \"body-focused disorder\" = list(     \"compulsive cheek biting\",     \"compulsive lip biting\",     \"dermatillomania\",     \"dermatophagia\", \"nail picking\",     \"compulsive handwashing\",     \"trichotemnomania\",     \"trichotillomania\", \"onychophagia\",     \"thumb sucking\"   ),   \"stereotypy\" = list(\"automatism\", \"stereotypy\"),   \"impulsivity\" = list(     \"impulse-control disorder\",     \"impulsive behaviour\",     \"disinhibition\", \"behavioural addiction\",     \"abnormal behaviour\"   ) ) reac_selected <- rlist::list.append(ICDs,   \"ICD\" = as.list(unlist(purrr::flatten(ICDs))),   \"insomnia\" = list(\"insomnia\"), # positive control   \"headache\" = list(\"headache\"), # positive control   \"liver injury\" = list(\"liver injury\") ) # negative control  ## Disproportionality analysis ---------------------------------------------------------- # Positive and negative controls disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) disproportionality_df #>        substance                 event   D_E   D_nE      D   nD_E      E    nD_nE ROR_median ROR_lower ROR_upper #>           <char>                <char> <num>  <num>  <num>  <num>  <num>    <num>      <num>     <num>     <num> #>  1:  paracetamol              headache 42550 886402 928952 495075 537625 16174452       1.56      1.55      1.58 #>  2:         TGAs              headache  3297 125209 128506 534328 537625 16935645       0.83      0.80      0.86 #>  3: aripiprazole              headache  2901 108646 111547 534724 537625 16952208       0.84      0.81      0.87 #>  4:  pramipexole              headache  1218  32344  33562 536407 537625 17028510       1.19      1.12      1.26 #>  5:  paracetamol              insomnia 18338 910614 928952 213916 232254 16455611       1.54      1.52      1.57 #>  6:         TGAs              insomnia  4158 124348 128506 228096 232254 17241877       2.52      2.44      2.60 #>  7: aripiprazole              insomnia  3649 107898 111547 228605 232254 17258327       2.55      2.46      2.63 #>  8:  pramipexole              insomnia  1368  32194  33562 230886 232254 17334031       3.19      3.01      3.36 #>  9:  paracetamol           impulsivity  2670 926282 928952  39418  42088 16630109       1.21      1.16      1.26 #> 10:         TGAs           impulsivity  2463 126043 128506  39625  42088 17430348       8.59      8.24      8.95 #> 11: aripiprazole           impulsivity  2324 109223 111547  39764  42088 17447168       9.33      8.94      9.73 #> 12:  pramipexole           impulsivity   846  32716  33562  41242  42088 17523675      10.98     10.24     11.77 #> 13:  paracetamol                   ICD  4319 924633 928952  67977  72296 16601550       1.14      1.10      1.17 #> 14:         TGAs                   ICD  6379 122127 128506  65917  72296 17404056      13.79     13.42     14.16 #> 15: aripiprazole                   ICD  5898 105649 111547  66398  72296 17420534      14.64     14.24     15.04 #> 16:  pramipexole                   ICD  2669  30893  33562  69627  72296 17495290      21.70     20.84     22.61 #> 17:  paracetamol           hyperphagia  1170 927782 928952  20104  21274 16649423       1.04      0.98      1.10 #> 18:         TGAs           hyperphagia  1310 127196 128506  19964  21274 17450009       9.00      8.50      9.52 #> 19: aripiprazole           hyperphagia  1114 110433 111547  20160  21274 17466772       8.73      8.21      9.28 #> 20:  pramipexole           hyperphagia   346  33216  33562  20928  21274 17543989       8.73      7.82      9.71 #> 21:  paracetamol     gambling disorder   311 928641 928952   4757   5068 16664770       1.17      1.04      1.31 #> 22:         TGAs     gambling disorder  2568 125938 128506   2500   5068 17467473     142.23    135.00    151.42 #> 23: aripiprazole     gambling disorder  2479 109068 111547   2589   5068 17484343     153.42    144.49    162.66 #> 24:  pramipexole     gambling disorder  1593  31969  33562   3475   5068 17561442     252.51    237.49    270.92 #> 25:  paracetamol body-focused disorder    74 928878 928952   1235   1309 16668292       1.07      0.83      1.36 #> 26:         TGAs body-focused disorder   207 128299 128506   1102   1309 17468871      25.55     21.93     29.71 #> 27: aripiprazole body-focused disorder   200 111347 111547   1109   1309 17485823      28.33     24.23     32.98 #> 28:  pramipexole body-focused disorder    16  33546  33562   1293   1309 17563624       6.47      3.69     10.56 #> 29:  paracetamol        hypersexuality   216 928736 928952   3980   4196 16665547       0.97      0.84      1.11 #> 30:         TGAs        hypersexuality  1161 127345 128506   3035   4196 17466938      52.53     49.01     56.26 #> 31: aripiprazole        hypersexuality  1119 110428 111547   3077   4196 17483855      57.56     53.72     61.60 #> 32:  pramipexole        hypersexuality   584  32978  33562   3612   4196 17561305      86.13     78.75     93.91 #> 33:  paracetamol            paraphilia    22 928930 928952    581    603 16668946       0.67      0.42      1.03 #> 34:         TGAs            paraphilia    95 128411 128506    508    603 17469465      25.42     20.20     31.75 #> 35: aripiprazole            paraphilia    92 111455 111547    511    603 17486421      28.25     22.37     35.30 #> 36:  pramipexole            paraphilia    62  33500  33562    541    603 17564376      60.09     45.36     78.41 #> 37:  paracetamol           kleptomania    19 928933 928952    325    344 16669202       1.04      0.62      1.66 #> 38:         TGAs           kleptomania   197 128309 128506    147    344 17469826     182.18    146.94    229.05 #> 39: aripiprazole           kleptomania   195 111352 111547    149    344 17486783     206.74    164.42    258.48 #> 40:  pramipexole           kleptomania    17  33545  33562    327    344 17564590      27.23     15.65     44.28 #> 41:  paracetamol            stereotypy    28 928924 928952    974   1002 16668553       0.51      0.34      0.75 #> 42:         TGAs            stereotypy    63 128443 128506    939   1002 17469034       9.12      6.95     11.78 #> 43: aripiprazole            stereotypy    60 111487 111547    942   1002 17485990       9.98      7.56     12.97 #> 44:  pramipexole            stereotypy    96  33466  33562    906   1002 17564011      55.63     44.52     68.79 #> 45:  paracetamol    excessive exercise     5 928947 928952     80     85 16669447       1.12      0.35      2.72 #> 46:         TGAs    excessive exercise     2 128504 128506     83     85 17469890       3.27      0.39     12.21 #> 47: aripiprazole    excessive exercise     1 111546 111547     84     85 17486848       1.86      0.04     10.68 #> 48:  pramipexole    excessive exercise     7  33555  33562     78     85 17564839      46.93     18.28    101.36 #> 49:  paracetamol             pyromania     1 928951 928952     96     97 16669431       0.18      0.00      1.06 #> 50:         TGAs             pyromania     6 128500 128506     91     97 17469882       8.96      3.20     20.27 #> 51: aripiprazole             pyromania     6 111541 111547     91     97 17486841      10.33      3.69     23.36 #>     IC_median IC_lower IC_upper                     label_ROR                   label_IC Bonferroni       ROR_signal #>         <num>    <num>    <num>                        <char>                     <char>     <lgcl>            <ord> #>  1:      0.58     0.56     0.59      1.56 (1.55-1.58) [42550]   0.58 (0.56-0.59) [42550]       TRUE              SDR #>  2:     -0.26    -0.31    -0.22        0.83 (0.8-0.86) [3297] -0.26 (-0.31--0.22) [3297]      FALSE           no SDR #>  3:     -0.24    -0.30    -0.19       0.84 (0.81-0.87) [2901]  -0.24 (-0.3--0.19) [2901]      FALSE           no SDR #>  4:      0.24     0.15     0.31       1.19 (1.12-1.26) [1218]    0.24 (0.15-0.31) [1218]       TRUE              SDR #>  5:      0.58     0.55     0.59      1.54 (1.52-1.57) [18338]   0.58 (0.55-0.59) [18338]       TRUE              SDR #>  6:      1.29     1.24     1.33        2.52 (2.44-2.6) [4158]    1.29 (1.24-1.33) [4158]       TRUE              SDR #>  7:      1.30     1.25     1.34       2.55 (2.46-2.63) [3649]     1.3 (1.25-1.34) [3649]       TRUE              SDR #>  8:      1.62     1.53     1.69       3.19 (3.01-3.36) [1368]    1.62 (1.53-1.69) [1368]       TRUE              SDR #>  9:      0.26     0.20     0.31       1.21 (1.16-1.26) [2670]     0.26 (0.2-0.31) [2670]       TRUE              SDR #> 10:      3.00     2.93     3.04       8.59 (8.24-8.95) [2463]       3 (2.93-3.04) [2463]       TRUE              SDR #> 11:      3.12     3.05     3.17       9.33 (8.94-9.73) [2324]    3.12 (3.05-3.17) [2324]       TRUE              SDR #> 12:      3.38     3.27     3.47     10.98 (10.24-11.77) [846]     3.38 (3.27-3.47) [846]       TRUE              SDR #> 13:      0.17     0.12     0.21        1.14 (1.1-1.17) [4319]    0.17 (0.12-0.21) [4319]       TRUE              SDR #> 14:      3.59     3.55     3.62    13.79 (13.42-14.16) [6379]    3.59 (3.55-3.62) [6379]       TRUE              SDR #> 15:      3.68     3.64     3.71    14.64 (14.24-15.04) [5898]    3.68 (3.64-3.71) [5898]       TRUE              SDR #> 16:      4.26     4.20     4.31     21.7 (20.84-22.61) [2669]     4.26 (4.2-4.31) [2669]       TRUE              SDR #> 17:      0.05    -0.04     0.12        1.04 (0.98-1.1) [1170]   0.05 (-0.04-0.12) [1170]      FALSE           no SDR #> 18:      3.07     2.98     3.13           9 (8.5-9.52) [1310]    3.07 (2.98-3.13) [1310]       TRUE              SDR #> 19:      3.04     2.94     3.11       8.73 (8.21-9.28) [1114]    3.04 (2.94-3.11) [1114]       TRUE              SDR #> 20:      3.07     2.89     3.20        8.73 (7.82-9.71) [346]      3.07 (2.89-3.2) [346]       TRUE              SDR #> 21:      0.21     0.02     0.35        1.17 (1.04-1.31) [311]     0.21 (0.02-0.35) [311]      FALSE              SDR #> 22:      6.09     6.03     6.14    142.23 (135-151.42) [2568]    6.09 (6.03-6.14) [2568]       TRUE              SDR #> 23:      6.24     6.18     6.29 153.42 (144.49-162.66) [2479]    6.24 (6.18-6.29) [2479]       TRUE              SDR #> 24:      7.29     7.20     7.35 252.51 (237.49-270.92) [1593]     7.29 (7.2-7.35) [1593]       TRUE              SDR #> 25:      0.09    -0.29     0.37         1.07 (0.83-1.36) [74]     0.09 (-0.29-0.37) [74]      FALSE           no SDR #> 26:      4.36     4.13     4.53     25.55 (21.93-29.71) [207]     4.36 (4.13-4.53) [207]       TRUE              SDR #> 27:      4.51     4.27     4.67     28.33 (24.23-32.98) [200]     4.51 (4.27-4.67) [200]       TRUE              SDR #> 28:      2.46     1.61     3.04        6.47 (3.69-10.56) [16]      2.46 (1.61-3.04) [16]       TRUE              SDR #> 29:     -0.04    -0.27     0.12        0.97 (0.84-1.11) [216]   -0.04 (-0.27-0.12) [216]      FALSE           no SDR #> 30:      5.22     5.12     5.29    52.53 (49.01-56.26) [1161]    5.22 (5.12-5.29) [1161]       TRUE              SDR #> 31:      5.36     5.26     5.44     57.56 (53.72-61.6) [1119]    5.36 (5.26-5.44) [1119]       TRUE              SDR #> 32:      6.10     5.96     6.20     86.13 (78.75-93.91) [584]       6.1 (5.96-6.2) [584]       TRUE              SDR #> 33:     -0.53    -1.24    -0.03         0.67 (0.42-1.03) [22]   -0.53 (-1.24--0.03) [22]      FALSE           no SDR #> 34:      4.28     3.94     4.52       25.42 (20.2-31.75) [95]      4.28 (3.94-4.52) [95]       TRUE              SDR #> 35:      4.41     4.07     4.66       28.25 (22.37-35.3) [92]      4.41 (4.07-4.66) [92]       TRUE              SDR #> 36:      5.24     4.82     5.54      60.09 (45.36-78.41) [62]      5.24 (4.82-5.54) [62]       TRUE              SDR #> 37:      0.06    -0.71     0.60         1.04 (0.62-1.66) [19]      0.06 (-0.71-0.6) [19]      FALSE           no SDR #> 38:      6.03     5.79     6.20  182.18 (146.94-229.05) [197]      6.03 (5.79-6.2) [197]       TRUE              SDR #> 39:      6.18     5.95     6.36  206.74 (164.42-258.48) [195]     6.18 (5.95-6.36) [195]       TRUE              SDR #> 40:      3.92     3.10     4.48      27.23 (15.65-44.28) [17]       3.92 (3.1-4.48) [17]       TRUE              SDR #> 41:     -0.91    -1.54    -0.46         0.51 (0.34-0.75) [28]   -0.91 (-1.54--0.46) [28]      FALSE           no SDR #> 42:      3.02     2.60     3.32        9.12 (6.95-11.78) [63]       3.02 (2.6-3.32) [63]       TRUE              SDR #> 43:      3.14     2.71     3.45        9.98 (7.56-12.97) [60]      3.14 (2.71-3.45) [60]       TRUE              SDR #> 44:      5.32     4.98     5.56      55.63 (44.52-68.79) [96]      5.32 (4.98-5.56) [96]       TRUE              SDR #> 45:      0.14    -1.43     1.12          1.12 (0.35-2.72) [5]      0.14 (-1.43-1.12) [5]      FALSE           no SDR #> 46:      1.15    -1.44     2.54         3.27 (0.39-12.21) [2]      1.15 (-1.44-2.54) [2]      FALSE not enough cases #> 47:      0.53    -3.26     2.21         1.86 (0.04-10.68) [1]      0.53 (-3.26-2.21) [1]      FALSE not enough cases #> 48:      3.50     2.19     4.35      46.93 (18.28-101.36) [7]        3.5 (2.19-4.35) [7]       TRUE              SDR #> 49:     -1.91    -5.69    -0.22             0.18 (0-1.06) [1]    -1.91 (-5.69--0.22) [1]      FALSE not enough cases #> 50:      2.42     1.01     3.33          8.96 (3.2-20.27) [6]       2.42 (1.01-3.33) [6]       TRUE              SDR #> 51:      2.54     1.12     3.45        10.33 (3.69-23.36) [6]       2.54 (1.12-3.45) [6]       TRUE              SDR #>            IC_signal #>                <ord> #>  1:              SDR #>  2:           no SDR #>  3:           no SDR #>  4:              SDR #>  5:              SDR #>  6:              SDR #>  7:              SDR #>  8:              SDR #>  9:              SDR #> 10:              SDR #> 11:              SDR #> 12:              SDR #> 13:              SDR #> 14:              SDR #> 15:              SDR #> 16:              SDR #> 17:           no SDR #> 18:              SDR #> 19:              SDR #> 20:              SDR #> 21:              SDR #> 22:              SDR #> 23:              SDR #> 24:              SDR #> 25:           no SDR #> 26:              SDR #> 27:              SDR #> 28:              SDR #> 29:           no SDR #> 30:              SDR #> 31:              SDR #> 32:              SDR #> 33:           no SDR #> 34:              SDR #> 35:              SDR #> 36:              SDR #> 37:           no SDR #> 38:              SDR #> 39:              SDR #> 40:              SDR #> 41:           no SDR #> 42:              SDR #> 43:              SDR #> 44:              SDR #> 45:           no SDR #> 46: not enough cases #> 47: not enough cases #> 48:              SDR #> 49: not enough cases #> 50:              SDR #> 51:              SDR #>  [ reached getOption(\"max.print\") -- omitted 26 rows ] render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"focusing-on-suspected-drugs","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Focusing on suspected drugs","title":"v02_Disproportionality_Analysis","text":"fact, paracetamol used much many cases just recorded concomitant. reason next step performing analysis considering suspected drugs. going change anymore definition section. Let’s work disproportionality one, specifying temp_drug (drug database want use, entire drug default) drugs recorded primary secondary suspect (rol_cod %% c(“PS”,“SS”)). Remember respond “” console function asks want refine query. see way associations impulsivity paracetamol disappear, including, interestingly, also one headache (one overwork).","code":"## Disproportionality analysis ---------------------------------------------------------- # Suspected drugs disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected,   temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")] ) disproportionality_df #>        substance                 event   D_E   D_nE      D   nD_E      E    nD_nE ROR_median ROR_lower ROR_upper #>           <char>                <char> <num>  <num>  <num>  <num>  <num>    <num>      <num>     <num>     <num> #>  1:  paracetamol              headache  8275 334670 342945 529350 537625 16725628       0.78      0.76      0.79 #>  2: aripiprazole              headache  1697  79728  81425 535928 537625 16980570       0.67      0.64      0.70 #>  3:         TGAs              headache  1970  94009  95979 535655 537625 16966289       0.66      0.63      0.69 #>  4:  pramipexole              headache   269  10828  11097 537356 537625 17049470       0.78      0.69      0.88 #>  5:  paracetamol              insomnia  4630 338315 342945 227624 232254 17027354       1.02      0.99      1.05 #>  6: aripiprazole              insomnia  2749  78676  81425 229505 232254 17286993       2.63      2.53      2.73 #>  7:         TGAs              insomnia  3192  92787  95979 229062 232254 17272882       2.59      2.50      2.68 #>  8:  pramipexole              insomnia   554  10543  11097 231700 232254 17355126       3.93      3.60      4.28 #>  9:  paracetamol           impulsivity   791 342154 342945  41297  42088 17213681       0.96      0.89      1.03 #> 10: aripiprazole           impulsivity  1901  79524  81425  40187  42088 17476311      10.39      9.91     10.89 #> 11:         TGAs           impulsivity  2029  93950  95979  40059  42088 17461885       9.41      8.99      9.84 #> 12:  pramipexole           impulsivity   667  10430  11097  41421  42088 17545405      27.09     25.00     29.32 #> 13:  paracetamol                   ICD   962 341983 342945  71334  72296 17183644       0.67      0.63      0.72 #> 14: aripiprazole                   ICD  5208  76217  81425  67088  72296 17449410      17.77     17.25     18.30 #> 15:         TGAs                   ICD  5666  90313  95979  66630  72296 17435314      16.41     15.96     16.89 #> 16:  pramipexole                   ICD  2376   8721  11097  69920  72296 17516906      68.26     65.14     71.25 #> 17:  paracetamol           hyperphagia   108 342837 342945  21166  21274 17233812       0.25      0.21      0.30 #> 18: aripiprazole           hyperphagia   935  80490  81425  20339  21274 17496159       9.99      9.34     10.67 #> 19:         TGAs           hyperphagia  1124  94855  95979  20150  21274 17481794      10.27      9.67     10.92 #> 20:  pramipexole           hyperphagia   293  10804  11097  20981  21274 17565845      22.70     20.12     25.51 #> 21:  paracetamol     gambling disorder     9 342936 342945   5059   5068 17249919       0.08      0.04      0.17 #> 22: aripiprazole     gambling disorder  2470  78955  81425   2598   5068 17513900     210.01    199.18    223.51 #> 23:         TGAs     gambling disorder  2559  93420  95979   2509   5068 17499435     192.03    180.40    202.70 #> 24:  pramipexole     gambling disorder  1543   9554  11097   3525   5068 17583301     803.07    748.12    869.09 #> 25:  paracetamol body-focused disorder    18 342927 342945   1291   1309 17253687       0.70      0.41      1.11 #> 26: aripiprazole body-focused disorder   190  81235  81425   1119   1309 17515379      36.60     31.21     42.79 #> 27:         TGAs body-focused disorder   194  95785  95979   1115   1309 17500829      31.79     27.12     37.07 #> 28:  pramipexole body-focused disorder    13  11084  11097   1296   1309 17585530      15.91      8.44     27.32 #> 29:  paracetamol        hypersexuality    10 342935 342945   4186   4196 17250792       0.12      0.05      0.22 #> 30: aripiprazole        hypersexuality  1050  80375  81425   3146   4196 17513352      72.72     67.81     78.04 #> 31:         TGAs        hypersexuality  1092  94887  95979   3104   4196 17498840      64.89     60.39     69.69 #> 32:  pramipexole        hypersexuality   544  10553  11097   3652   4196 17583174     249.04    224.63    270.52 #> 33:  paracetamol            paraphilia     7 342938 342945    596    603 17254382       0.59      0.23      1.22 #> 34: aripiprazole            paraphilia    83  81342  81425    520    603 17515978      34.37     26.92     43.39 #> 35:         TGAs            paraphilia    85  95894  95979    518    603 17501426      29.95     23.51     37.70 #> 36:  pramipexole            paraphilia    61  11036  11097    542    603 17586284     180.22    135.62    232.69 #> 37:  paracetamol           kleptomania     3 342942 342945    341    344 17254637       0.44      0.09      1.30 #> 38: aripiprazole           kleptomania   193  81232  81425    151    344 17516347     274.75    220.79    349.42 #> 39:         TGAs           kleptomania   195  95784  95979    149    344 17501795     240.10    192.47    297.18 #> 40:  pramipexole           kleptomania    13  11084  11097    331    344 17586495      62.35     32.82    108.31 #> 41:  paracetamol            stereotypy    11 342934 342945    991   1002 17253987       0.55      0.27      1.00 #> 42: aripiprazole            stereotypy    55  81370  81425    947   1002 17515551      12.50      9.34     16.41 #> 43:         TGAs            stereotypy    58  95921  95979    944   1002 17501000      11.21      8.44     14.62 #> 44:  pramipexole            stereotypy    87  11010  11097    915   1002 17585911     152.33    120.89    188.92 #> 45:  paracetamol    excessive exercise     1 342944 342945     84     85 17254894       0.59      0.01      3.42 #> 46: aripiprazole    excessive exercise     1  81424  81425     84     85 17516414       2.56      0.06     14.66 #> 47:         TGAs    excessive exercise     2  95977  95979     83     85 17501861       4.39      0.52     16.37 #> 48:  pramipexole    excessive exercise     7  11090  11097     78     85 17586748     142.26     55.35    306.66 #> 49:  paracetamol             pyromania     1 342944 342945     96     97 17254882       0.52      0.01      2.99 #> 50: aripiprazole             pyromania     6  81419  81425     91     97 17516407      14.18      5.07     32.10 #> 51:         TGAs             pyromania     6  95973  95979     91     97 17501853      12.02      4.29     27.19 #>     IC_median IC_lower IC_upper                     label_ROR                   label_IC Bonferroni       ROR_signal #>         <num>    <num>    <num>                        <char>                     <char>     <lgcl>            <ord> #>  1:     -0.35    -0.38    -0.32       0.78 (0.76-0.79) [8275] -0.35 (-0.38--0.32) [8275]      FALSE           no SDR #>  2:     -0.56    -0.64    -0.50        0.67 (0.64-0.7) [1697]  -0.56 (-0.64--0.5) [1697]      FALSE           no SDR #>  3:     -0.58    -0.65    -0.52       0.66 (0.63-0.69) [1970] -0.58 (-0.65--0.52) [1970]      FALSE           no SDR #>  4:     -0.34    -0.54    -0.19        0.78 (0.69-0.88) [269]  -0.34 (-0.54--0.19) [269]      FALSE           no SDR #>  5:      0.03    -0.02     0.06       1.02 (0.99-1.05) [4630]   0.03 (-0.02-0.06) [4630]      FALSE           no SDR #>  6:      1.35     1.29     1.40       2.63 (2.53-2.73) [2749]     1.35 (1.29-1.4) [2749]       TRUE         weak SDR #>  7:      1.33     1.27     1.37        2.59 (2.5-2.68) [3192]    1.33 (1.27-1.37) [3192]       TRUE         weak SDR #>  8:      1.91     1.77     2.01         3.93 (3.6-4.28) [554]     1.91 (1.77-2.01) [554]       TRUE         weak SDR #>  9:     -0.06    -0.17     0.03        0.96 (0.89-1.03) [791]   -0.06 (-0.17-0.03) [791]      FALSE           no SDR #> 10:      3.28     3.20     3.33     10.39 (9.91-10.89) [1901]     3.28 (3.2-3.33) [1901]       TRUE         weak SDR #> 11:      3.14     3.06     3.19       9.41 (8.99-9.84) [2029]    3.14 (3.06-3.19) [2029]       TRUE         weak SDR #> 12:      4.62     4.49     4.71        27.09 (25-29.32) [667]     4.62 (4.49-4.71) [667]       TRUE         weak SDR #> 13:     -0.56    -0.66    -0.48        0.67 (0.63-0.72) [962]  -0.56 (-0.66--0.48) [962]      FALSE           no SDR #> 14:      3.95     3.91     3.99     17.77 (17.25-18.3) [5208]    3.95 (3.91-3.99) [5208]       TRUE         weak SDR #> 15:      3.84     3.79     3.87    16.41 (15.96-16.89) [5666]    3.84 (3.79-3.87) [5666]       TRUE         weak SDR #> 16:      5.68     5.62     5.73    68.26 (65.14-71.25) [2376]    5.68 (5.62-5.73) [2376]       TRUE         weak SDR #> 17:     -1.94    -2.26    -1.71         0.25 (0.21-0.3) [108]  -1.94 (-2.26--1.71) [108]      FALSE           no SDR #> 18:      3.24     3.13     3.31       9.99 (9.34-10.67) [935]     3.24 (3.13-3.31) [935]       TRUE         weak SDR #> 19:      3.27     3.17     3.34     10.27 (9.67-10.92) [1124]    3.27 (3.17-3.34) [1124]       TRUE         weak SDR #> 20:      4.39     4.20     4.53      22.7 (20.12-25.51) [293]      4.39 (4.2-4.53) [293]       TRUE         weak SDR #> 21:     -3.39    -4.53    -2.63          0.08 (0.04-0.17) [9]    -3.39 (-4.53--2.63) [9]      FALSE           no SDR #> 22:      6.68     6.62     6.73 210.01 (199.18-223.51) [2470]    6.68 (6.62-6.73) [2470]       TRUE         weak SDR #> 23:      6.50     6.44     6.55   192.03 (180.4-202.7) [2559]     6.5 (6.44-6.55) [2559]       TRUE         weak SDR #> 24:      8.70     8.62     8.76 803.07 (748.12-869.09) [1543]     8.7 (8.62-8.76) [1543]       TRUE         weak SDR #> 25:     -0.50    -1.29     0.06          0.7 (0.41-1.11) [18]     -0.5 (-1.29-0.06) [18]      FALSE           no SDR #> 26:      4.86     4.62     5.03      36.6 (31.21-42.79) [190]     4.86 (4.62-5.03) [190]       TRUE         weak SDR #> 27:      4.67     4.43     4.84     31.79 (27.12-37.07) [194]     4.67 (4.43-4.84) [194]       TRUE         weak SDR #> 28:      3.34     2.40     3.99       15.91 (8.44-27.32) [13]       3.34 (2.4-3.99) [13]       TRUE         weak SDR #> 29:     -2.97    -4.05    -2.25         0.12 (0.05-0.22) [10]   -2.97 (-4.05--2.25) [10]      FALSE           no SDR #> 30:      5.72     5.61     5.79    72.72 (67.81-78.04) [1050]    5.72 (5.61-5.79) [1050]       TRUE         weak SDR #> 31:      5.54     5.44     5.61    64.89 (60.39-69.69) [1092]    5.54 (5.44-5.61) [1092]       TRUE         weak SDR #> 32:      7.43     7.29     7.53  249.04 (224.63-270.52) [544]     7.43 (7.29-7.53) [544]       TRUE         weak SDR #> 33:     -0.71    -2.02     0.14          0.59 (0.23-1.22) [7]     -0.71 (-2.02-0.14) [7]      FALSE           no SDR #> 34:      4.66     4.30     4.92      34.37 (26.92-43.39) [83]       4.66 (4.3-4.92) [83]       TRUE         weak SDR #> 35:      4.49     4.13     4.75       29.95 (23.51-37.7) [85]      4.49 (4.13-4.75) [85]       TRUE         weak SDR #> 36:      6.12     5.70     6.43   180.22 (135.62-232.69) [61]       6.12 (5.7-6.43) [61]       TRUE         weak SDR #> 37:     -1.05    -3.12     0.16           0.44 (0.09-1.3) [3]     -1.05 (-3.12-0.16) [3]      FALSE           no SDR #> 38:      6.53     6.29     6.70  274.75 (220.79-349.42) [193]      6.53 (6.29-6.7) [193]       TRUE         weak SDR #> 39:      6.36     6.12     6.53   240.1 (192.47-297.18) [195]     6.36 (6.12-6.53) [195]       TRUE         weak SDR #> 40:      4.23     3.29     4.87     62.35 (32.82-108.31) [13]      4.23 (3.29-4.87) [13]       TRUE         weak SDR #> 41:     -0.81    -1.83    -0.11            0.55 (0.27-1) [11]   -0.81 (-1.83--0.11) [11]      FALSE           no SDR #> 42:      3.43     2.98     3.75        12.5 (9.34-16.41) [55]      3.43 (2.98-3.75) [55]       TRUE         weak SDR #> 43:      3.29     2.85     3.60       11.21 (8.44-14.62) [58]       3.29 (2.85-3.6) [58]       TRUE         weak SDR #> 44:      6.27     5.91     6.52   152.33 (120.89-188.92) [87]      6.27 (5.91-6.52) [87]       TRUE         weak SDR #> 45:     -0.53    -4.31     1.16          0.59 (0.01-3.42) [1]     -0.53 (-4.31-1.16) [1]      FALSE not enough cases #> 46:      0.74    -3.04     2.43         2.56 (0.06-14.66) [1]      0.74 (-3.04-2.43) [1]      FALSE not enough cases #> 47:      1.37    -1.22     2.76         4.39 (0.52-16.37) [2]      1.37 (-1.22-2.76) [2]      FALSE not enough cases #> 48:      3.75     2.45     4.61     142.26 (55.35-306.66) [7]       3.75 (2.45-4.61) [7]       TRUE         weak SDR #> 49:     -0.68    -4.46     1.01          0.52 (0.01-2.99) [1]     -0.68 (-4.46-1.01) [1]      FALSE not enough cases #> 50:      2.77     1.36     3.68         14.18 (5.07-32.1) [6]       2.77 (1.36-3.68) [6]       TRUE         weak SDR #> 51:      2.65     1.24     3.57        12.02 (4.29-27.19) [6]       2.65 (1.24-3.57) [6]       TRUE         weak SDR #>            IC_signal #>                <ord> #>  1:           no SDR #>  2:           no SDR #>  3:           no SDR #>  4:           no SDR #>  5:           no SDR #>  6:              SDR #>  7:              SDR #>  8:              SDR #>  9:           no SDR #> 10:              SDR #> 11:              SDR #> 12:              SDR #> 13:           no SDR #> 14:              SDR #> 15:              SDR #> 16:              SDR #> 17:           no SDR #> 18:              SDR #> 19:              SDR #> 20:              SDR #> 21:           no SDR #> 22:              SDR #> 23:              SDR #> 24:              SDR #> 25:           no SDR #> 26:              SDR #> 27:              SDR #> 28:              SDR #> 29:           no SDR #> 30:              SDR #> 31:              SDR #> 32:              SDR #> 33:           no SDR #> 34:              SDR #> 35:              SDR #> 36:              SDR #> 37:           no SDR #> 38:              SDR #> 39:              SDR #> 40:              SDR #> 41:           no SDR #> 42:              SDR #> 43:              SDR #> 44:              SDR #> 45: not enough cases #> 46: not enough cases #> 47: not enough cases #> 48:              SDR #> 49: not enough cases #> 50:              SDR #> 51:              SDR #>  [ reached getOption(\"max.print\") -- omitted 26 rows ] render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"removing-duplicates","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Removing duplicates","title":"v02_Disproportionality_Analysis","text":"Duplicates may also distort results. problem sure reports duplicates . Applying deduplication algorithm may therefore introduce even distortion. DiAna package already comes multiple rule-based strategies detect potential duplicates, soon add even advanced probabilistic algorithms. results duplicates detection stored DEMO dataset. therefore first import , going back dedicated section adding following row together two importing Drug Reac: printed dataset see last two columns RB_duplicates RB_duplicates_only_susp: first conservative, considering duplicates reports sex, age, country, event list, event date, suspected drug list, also concomitants. second algorithm considers instead suspected drugs drug list. Let’s reduce queries considered among reactions visualize better differences disproportionality results obtained two different algorithms compared raw analysis. can comment previous generation reac_selected # want keep go back previous definition later. disproportionality_analysis section know include loop several possible restrictions background reference group: raw deduplicated datasets using different algorithms (raw entire dataset, RB1 conservative RB2 speculative deduplication). answer console every time asked (three times). disproportionality_df now row drug-event-background combination, background specified “nested” column, specified “nested” parameter render_forest. forest plot shows fact almost difference using raw analysis compared two different rule-based deduplication algorithms available DiAna investigated drug-event combination, resulting significant difference paracetamol (signal impulsivity appears deduplicating, independently algorithm). drug-event combinations, expect find small differences deduplicating, always recommended provide raw deduplicated analyses.","code":"## Import data ---------------------------------------------------------------- import(\"DEMO\") #>           primaryid    sex age_in_days wt_in_kgs occr_country event_dt occp_cod          reporter_country rept_cod #>               <num> <fctr>       <num>     <num>       <fctr>    <int>   <fctr>                    <fctr>   <fctr> #>        1:  45217461      M        9855        NA         <NA> 19861106       MD  United States of America      DIR #>        2:  57910401   <NA>          NA        NA         <NA>       NA     <NA>  United States of America      DIR #>        3:  56962401   <NA>          NA        NA         <NA> 19960123     <NA>  United States of America      DIR #>        4:  54662121      F       22630        NA         <NA> 19960919       CN South Africa, Republic of      EXP #>        5:  31231172      F       21535        68         <NA> 19970927       MD  United States of America      EXP #>       ---                                                                                                          #> 17598475: 236937711      F        9490        68         <NA> 20240318       CN  United States of America      DIR #> 17598476: 236937721      M        6205        NA         <NA> 20240101       CN  United States of America      DIR #> 17598477: 236937741      F       13140       134         <NA> 20240322       CN  United States of America      DIR #> 17598478: 237079261      F       15695        90         <NA>       NA       CN  United States of America      DIR #> 17598479: 237079291      M       22265       108         <NA> 20240228       CN  United States of America      DIR #>           init_fda_dt   fda_dt premarketing literature RB_duplicates RB_duplicates_only_susp #>                 <int>    <int>       <lgcl>     <lgcl>        <lgcl>                  <lgcl> #>        1:    19861224 19861224        FALSE      FALSE         FALSE                   FALSE #>        2:    19920917 19920917        FALSE      FALSE         FALSE                   FALSE #>        3:    19960126 19960126        FALSE      FALSE         FALSE                   FALSE #>        4:    19961022 19961022        FALSE      FALSE         FALSE                   FALSE #>        5:    19971203 19971212        FALSE      FALSE         FALSE                   FALSE #>       ---                                                                                    #> 17598475:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598476:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598477:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598478:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598479:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE ## Definitions --------------------------------------------------------------------------  # .....all the content before....  # reac_selected <- rlist::list.append(ICDs,\"ICD\"=as.list(unlist(purrr::flatten(ICDs)))) reac_selected <- list(\"ICD\" = as.list(unlist(purrr::flatten(ICDs))))  ## Disproportionality analysis ---------------------------------------------------------- # Deduplication restrictions <- list(   \"raw\" = list(Demo$primaryid),   \"RB1\" = list(Demo[RB_duplicates == FALSE]$primaryid),   \"RB2\" = list(Demo[RB_duplicates_only_susp == FALSE]$primaryid) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } disproportionality_df #>        substance  event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper IC_median IC_lower #>           <char> <char> <num>  <num>  <num> <num> <num>    <num>      <num>     <num>     <num>     <num>    <num> #>  1:  paracetamol    ICD   962 341983 342945 71334 72296 17183644       0.67      0.63      0.72     -0.56    -0.66 #>  2: aripiprazole    ICD  5208  76217  81425 67088 72296 17449410      17.77     17.25     18.30      3.95     3.91 #>  3:         TGAs    ICD  5666  90313  95979 66630 72296 17435314      16.41     15.96     16.89      3.84     3.79 #>  4:  pramipexole    ICD  2376   8721  11097 69920 72296 17516906      68.26     65.14     71.25      5.68     5.62 #>  5:  paracetamol    ICD   930 225399 226329 67187 68117 14166693       0.86      0.81      0.92     -0.20    -0.31 #>  6: aripiprazole    ICD  4684  61702  66386 63433 68117 14330390      17.16     16.62     17.69      3.90     3.85 #>  7:         TGAs    ICD  5127  73112  78239 62990 68117 14318980      15.94     15.48     16.41      3.79     3.75 #>  8:  pramipexole    ICD  2091   7702   9793 66026 68117 14384390      59.11     56.24     62.03      5.48     5.41 #>  9:  paracetamol    ICD   909 210723 211632 66283 67192 13701560       0.89      0.83      0.95     -0.17    -0.28 #> 10: aripiprazole    ICD  4530  57485  62015 62662 67192 13854798      17.42     16.87     17.98      3.92     3.87 #> 11:         TGAs    ICD  4958  68306  73264 62234 67192 13843977      16.14     15.67     16.63      3.81     3.76 #> 12:  pramipexole    ICD  2050   7260   9310 65142 67192 13905023      60.29     57.27     63.24      5.50     5.42 #>     IC_upper                  label_ROR                  label_IC Bonferroni ROR_signal IC_signal nested #>        <num>                     <char>                    <char>     <lgcl>      <ord>     <ord> <char> #>  1:    -0.48     0.67 (0.63-0.72) [962] -0.56 (-0.66--0.48) [962]      FALSE     no SDR    no SDR    raw #>  2:     3.99  17.77 (17.25-18.3) [5208]   3.95 (3.91-3.99) [5208]       TRUE   weak SDR       SDR    raw #>  3:     3.87 16.41 (15.96-16.89) [5666]   3.84 (3.79-3.87) [5666]       TRUE   weak SDR       SDR    raw #>  4:     5.73 68.26 (65.14-71.25) [2376]   5.68 (5.62-5.73) [2376]       TRUE   weak SDR       SDR    raw #>  5:    -0.12     0.86 (0.81-0.92) [930]  -0.2 (-0.31--0.12) [930]      FALSE     no SDR    no SDR    RB1 #>  6:     3.93 17.16 (16.62-17.69) [4684]    3.9 (3.85-3.93) [4684]       TRUE   weak SDR       SDR    RB1 #>  7:     3.82 15.94 (15.48-16.41) [5127]   3.79 (3.75-3.82) [5127]       TRUE   weak SDR       SDR    RB1 #>  8:     5.53 59.11 (56.24-62.03) [2091]   5.48 (5.41-5.53) [2091]       TRUE   weak SDR       SDR    RB1 #>  9:    -0.09     0.89 (0.83-0.95) [909] -0.17 (-0.28--0.09) [909]      FALSE     no SDR    no SDR    RB2 #> 10:     3.95 17.42 (16.87-17.98) [4530]   3.92 (3.87-3.95) [4530]       TRUE   weak SDR       SDR    RB2 #> 11:     3.84 16.14 (15.67-16.63) [4958]   3.81 (3.76-3.84) [4958]       TRUE   weak SDR       SDR    RB2 #> 12:     5.55 60.29 (57.27-63.24) [2050]    5.5 (5.42-5.55) [2050]       TRUE   weak SDR       SDR    RB2 render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"restricting-on-indication","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Restricting on indication","title":"v02_Disproportionality_Analysis","text":"Another important application made possible disproportionality_analysis function related addressing expected biases. investigating potential causal role aripiprazole inducing impulsivity, consider bipolar disorder, major indication using aripiprazole, also known risk factor impulsivity impulsive behaviors. sufficient explain association (SDR) found? address, least partly, indication bias answer question can restrict analysis patients sharing diagnosis bipolar disorder, checking population homogeneous values confounder whether impulsivity often recorded together aripiprazole drugs. pedagogical article chose background reference group (restricting confounder preferred adjusting ) see https://doi.org/10.31219/osf.io/h5w9u. check presence confounder among indications, therefore import Indi database adding import data section. can search Indi dataset recording bipolar disorder, select primaryids. exhaustive identification reports concerning patients diagnosed bipolar disorder, thus collecting greater number reports analysis, search bipolar disorder also Reac database (confusion may arisen compilation), lithium (specific tratment bipolar disorder) among drugs. forest plot see general, restricting confounder bipolar disorder, see smaller IC. paracetamol show difference, bipolar disorder configures competitive exposure rather confounder (.e., confounder, factor cause drug event, bipolar disorder increase chance prescribed paracetamol). also see confidence interval smaller manage retrieve bigger background reference groups, therefore using information included Indi, Drug, Reac suggested. can also consider bipolar disorder may reported using many terms. can use MedDRA HLGT “manic bipolar mood disorders disturbances” make even bigger reference group, still addressing bias? Note chunk script works MedDRA subscription followed https://github.com/fusarolimichele/DiAna instructions make DiAna-compatible MedDRA.","code":"## Import data ---------------------------------------------------------------- import(\"INDI\") #>           primaryid   drug_seq                                 indi_pt #>               <num>      <int>                                   <ord> #>        1:   4204616 1004278786                        abortion induced #>        2:   4223542 1004334703                         crohn's disease #>        3:   4250482 1004434717                         crohn's disease #>        4:   4261823 1004486217                     bronchial carcinoma #>        5:   4261823 1004486218                     bronchial carcinoma #>       ---                                                              #> 41380269: 992001227        583     product used for unknown indication #> 41380270: 992001227        586     product used for unknown indication #> 41380271: 236936391          1 beta haemolytic streptococcal infection #> 41380272: 237079291          1                    acrochordon excision #> 41380273: 237203351          1     product used for unknown indication ## Reference groups -------------------------------------------------------------------- bipolar_disorder_indi_pt <- unique(Indi[indi_pt == \"bipolar disorder\"]$primaryid) bipolar_disorder_reac_pt <- unique(Reac[pt == \"bipolar disorder\"]$primaryid) bipolar_disorder_drug <- unique(Drug[substance == \"lithium\"]$primaryid) bipolar_disorder_total_pt <- union(union(bipolar_disorder_indi_pt, bipolar_disorder_reac_pt), bipolar_disorder_drug)  ## Disproportionality analysis ----------------------------------------------------------  restrictions <- list(   \"raw\" = as.list(Demo$primaryid),   \"indi_pt\" = as.list(bipolar_disorder_indi_pt),   \"reac_pt\" = as.list(bipolar_disorder_reac_pt),   \"drug\" = as.list(bipolar_disorder_drug),   \"total\" = as.list(bipolar_disorder_total_pt) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } disproportionality_df #>        substance  event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper IC_median IC_lower #>           <char> <char> <num>  <num>  <num> <num> <num>    <num>      <num>     <num>     <num>     <num>    <num> #>  1:  paracetamol    ICD   962 341983 342945 71334 72296 17183644       0.67      0.63      0.72     -0.56    -0.66 #>  2: aripiprazole    ICD  5208  76217  81425 67088 72296 17449410      17.77     17.25     18.30      3.95     3.91 #>  3:         TGAs    ICD  5666  90313  95979 66630 72296 17435314      16.41     15.96     16.89      3.84     3.79 #>  4:  pramipexole    ICD  2376   8721  11097 69920 72296 17516906      68.26     65.14     71.25      5.68     5.62 #>  5:  paracetamol    ICD    17    473    490  2890  2907    72658       0.90      0.52      1.46     -0.14    -0.96 #>  6: aripiprazole    ICD  1310   8131   9441  1597  2907    65000       6.55      6.06      7.08      1.85     1.76 #>  7:         TGAs    ICD  1371   9580  10951  1536  2907    63551       5.92      5.48      6.39      1.71     1.62 #>  8:  pramipexole    ICD     7     49     56  2900  2907    73082       3.59      1.37      7.99      1.50     0.20 #>  9:  paracetamol    ICD    17    254    271   582   599     9017       1.03      0.59      1.70      0.04    -0.77 #> 10: aripiprazole    ICD    40    281    321   559   599     8990       2.28      1.58      3.23      1.01     0.49 #> 11:         TGAs    ICD    47    318    365   552   599     8953       2.39      1.70      3.30      1.06     0.58 #> 12:  pramipexole    ICD    26     20     46   573   599     9251      20.98     11.18     39.88      3.00     2.35 #> 13:  paracetamol    ICD    14    957    971  1305  1319    43236       0.48      0.26      0.82     -0.99    -1.89 #> 14: aripiprazole    ICD   351   3424   3775   968  1319    40769       4.31      3.79      4.90      1.67     1.50 #> 15:         TGAs    ICD   374   3774   4148   945  1319    40419       4.23      3.73      4.80      1.63     1.46 #> 16:  pramipexole    ICD    14     67     81  1305  1319    44126       7.06      3.65     12.72      2.34     1.44 #> 17:  paracetamol    ICD    41   1598   1639  4245  4286   111477       0.67      0.48      0.91     -0.55    -1.07 #> 18: aripiprazole    ICD  1566  10649  12215  2720  4286   102426       5.53      5.18      5.91      1.81     1.72 #> 19:         TGAs    ICD  1645  12356  14001  2641  4286   100719       5.07      4.75      5.41      1.68     1.60 #> 20:  pramipexole    ICD    35    117    152  4251  4286   112958       7.94      5.27     11.70      2.55     1.98 #>        substance  event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper IC_median IC_lower #>     IC_upper                  label_ROR                  label_IC Bonferroni ROR_signal IC_signal  nested #>        <num>                     <char>                    <char>     <lgcl>      <ord>     <ord>  <char> #>  1:    -0.48     0.67 (0.63-0.72) [962] -0.56 (-0.66--0.48) [962]      FALSE     no SDR    no SDR     raw #>  2:     3.99  17.77 (17.25-18.3) [5208]   3.95 (3.91-3.99) [5208]       TRUE   weak SDR       SDR     raw #>  3:     3.87 16.41 (15.96-16.89) [5666]   3.84 (3.79-3.87) [5666]       TRUE   weak SDR       SDR     raw #>  4:     5.73 68.26 (65.14-71.25) [2376]   5.68 (5.62-5.73) [2376]       TRUE   weak SDR       SDR     raw #>  5:     0.43       0.9 (0.52-1.46) [17]   -0.14 (-0.96-0.43) [17]      FALSE     no SDR    no SDR indi_pt #>  6:     1.92    6.55 (6.06-7.08) [1310]   1.85 (1.76-1.92) [1310]       TRUE   weak SDR       SDR indi_pt #>  7:     1.77    5.92 (5.48-6.39) [1371]   1.71 (1.62-1.77) [1371]       TRUE   weak SDR       SDR indi_pt #>  8:     2.35       3.59 (1.37-7.99) [7]        1.5 (0.2-2.35) [7]       TRUE   weak SDR       SDR indi_pt #>  9:     0.61       1.03 (0.59-1.7) [17]    0.04 (-0.77-0.61) [17]      FALSE     no SDR    no SDR reac_pt #> 10:     1.39      2.28 (1.58-3.23) [40]     1.01 (0.49-1.39) [40]       TRUE   weak SDR       SDR reac_pt #> 11:     1.41        2.39 (1.7-3.3) [47]     1.06 (0.58-1.41) [47]       TRUE   weak SDR       SDR reac_pt #> 12:     3.47   20.98 (11.18-39.88) [26]        3 (2.35-3.47) [26]       TRUE   weak SDR       SDR reac_pt #> 13:    -0.37      0.48 (0.26-0.82) [14]  -0.99 (-1.89--0.37) [14]      FALSE     no SDR    no SDR    drug #> 14:     1.80      4.31 (3.79-4.9) [351]      1.67 (1.5-1.8) [351]       TRUE   weak SDR       SDR    drug #> 15:     1.75      4.23 (3.73-4.8) [374]    1.63 (1.46-1.75) [374]       TRUE   weak SDR       SDR    drug #> 16:     2.96     7.06 (3.65-12.72) [14]     2.34 (1.44-2.96) [14]       TRUE   weak SDR       SDR    drug #> 17:    -0.17      0.67 (0.48-0.91) [41]  -0.55 (-1.07--0.17) [41]      FALSE     no SDR    no SDR   total #> 18:     1.87    5.53 (5.18-5.91) [1566]   1.81 (1.72-1.87) [1566]       TRUE   weak SDR       SDR   total #> 19:     1.74    5.07 (4.75-5.41) [1645]    1.68 (1.6-1.74) [1645]       TRUE   weak SDR       SDR   total #> 20:     2.95      7.94 (5.27-11.7) [35]     2.55 (1.98-2.95) [35]       TRUE   weak SDR       SDR   total #>     IC_upper                  label_ROR                  label_IC Bonferroni ROR_signal IC_signal  nested render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\") ## Reference groups -------------------------------------------------------------------- # .... import_MedDRA() #>           def                                            soc                                                  hlgt #>        <char>                                         <char>                                                <char> #>     1:   cong     congenital, familial and genetic disorders        metabolic and nutritional disorders congenital #>     2:    inv                                 investigations          endocrine investigations (incl sex hormones) #>     3:    inv                                 investigations          endocrine investigations (incl sex hormones) #>     4:    inv                                 investigations          endocrine investigations (incl sex hormones) #>     5:    inv                                 investigations          endocrine investigations (incl sex hormones) #>    ---                                                                                                             #> 25408:  inj&p injury, poisoning and procedural complications     procedural related injuries and complications nec #> 25409:   preg pregnancy, puerperium and perinatal conditions pregnancy, labour, delivery and postpartum conditions #> 25410:   surg                surgical and medical procedures   obstetric and gynaecological therapeutic procedures #> 25411:   surg                surgical and medical procedures             male genital tract therapeutic procedures #> 25412:  blood           blood and lymphatic system disorders                            white blood cell disorders #>                                                  hlt                               pt #>                                               <char>                           <char> #>     1:            inborn errors of steroid synthesis   11-beta-hydroxylase deficiency #>     2:                 reproductive hormone analyses            17 ketosteroids urine #>     3:                 reproductive hormone analyses  17 ketosteroids urine decreased #>     4:                 reproductive hormone analyses  17 ketosteroids urine increased #>     5:                 reproductive hormone analyses     17 ketosteroids urine normal #>    ---                                                                                #> 25408:    non-site specific procedural complications     incision site skin puckering #> 25409:         normal pregnancy, labour and delivery spontaneous rupture of membranes #> 25410:                 cervix therapeutic procedures           cervix stent placement #> 25411: male genital tract therapeutic procedures nec           sperm cryopreservation #> 25412:                        eosinophilic disorders      paraneoplastic eosinophilia bipolar_disorder_total_hlgt <- union(   union(     Indi[indi_pt %in% MedDRA[hlgt == \"manic and bipolar mood disorders and disturbances\"]$pt]$primaryid,     Reac[pt %in% MedDRA[hlgt == \"manic and bipolar mood disorders and disturbances\"]$pt]$primaryid   ),   bipolar_disorder_drug )  ## Disproportionality analysis ----------------------------------------------------------  restrictions <- list(   \"raw\" = as.list(Demo$primaryid),   \"total_pt\" = as.list(bipolar_disorder_total_pt),   \"total_hlgt\" = as.list(bipolar_disorder_total_hlgt) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } disproportionality_df #>        substance  event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper IC_median IC_lower #>           <char> <char> <num>  <num>  <num> <num> <num>    <num>      <num>     <num>     <num>     <num>    <num> #>  1:  paracetamol    ICD   962 341983 342945 71334 72296 17183644       0.67      0.63      0.72     -0.56    -0.66 #>  2: aripiprazole    ICD  5208  76217  81425 67088 72296 17449410      17.77     17.25     18.30      3.95     3.91 #>  3:         TGAs    ICD  5666  90313  95979 66630 72296 17435314      16.41     15.96     16.89      3.84     3.79 #>  4:  pramipexole    ICD  2376   8721  11097 69920 72296 17516906      68.26     65.14     71.25      5.68     5.62 #>  5:  paracetamol    ICD    41   1598   1639  4245  4286   111477       0.67      0.48      0.91     -0.55    -1.07 #>  6: aripiprazole    ICD  1566  10649  12215  2720  4286   102426       5.53      5.18      5.91      1.81     1.72 #>  7:         TGAs    ICD  1645  12356  14001  2641  4286   100719       5.07      4.75      5.41      1.68     1.60 #>  8:  pramipexole    ICD    35    117    152  4251  4286   112958       7.94      5.27     11.70      2.55     1.98 #>  9:  paracetamol    ICD    64   1791   1855  6243  6307   135909       0.77      0.59      0.99     -0.35    -0.76 #> 10: aripiprazole    ICD  1776  13032  14808  4531  6307   124668       3.74      3.53      3.97      1.45     1.37 #> 11:         TGAs    ICD  1890  15505  17395  4417  6307   122195       3.37      3.18      3.56      1.31     1.23 #> 12:  pramipexole    ICD   104    196    300  6203  6307   137504      11.76      9.16     15.01      2.93     2.61 #>     IC_upper                  label_ROR                  label_IC Bonferroni ROR_signal IC_signal     nested #>        <num>                     <char>                    <char>     <lgcl>      <ord>     <ord>     <char> #>  1:    -0.48     0.67 (0.63-0.72) [962] -0.56 (-0.66--0.48) [962]      FALSE     no SDR    no SDR        raw #>  2:     3.99  17.77 (17.25-18.3) [5208]   3.95 (3.91-3.99) [5208]       TRUE   weak SDR       SDR        raw #>  3:     3.87 16.41 (15.96-16.89) [5666]   3.84 (3.79-3.87) [5666]       TRUE   weak SDR       SDR        raw #>  4:     5.73 68.26 (65.14-71.25) [2376]   5.68 (5.62-5.73) [2376]       TRUE   weak SDR       SDR        raw #>  5:    -0.17      0.67 (0.48-0.91) [41]  -0.55 (-1.07--0.17) [41]      FALSE     no SDR    no SDR   total_pt #>  6:     1.87    5.53 (5.18-5.91) [1566]   1.81 (1.72-1.87) [1566]       TRUE   weak SDR       SDR   total_pt #>  7:     1.74    5.07 (4.75-5.41) [1645]    1.68 (1.6-1.74) [1645]       TRUE   weak SDR       SDR   total_pt #>  8:     2.95      7.94 (5.27-11.7) [35]     2.55 (1.98-2.95) [35]       TRUE   weak SDR       SDR   total_pt #>  9:    -0.05      0.77 (0.59-0.99) [64]  -0.35 (-0.76--0.05) [64]      FALSE     no SDR    no SDR total_hlgt #> 10:     1.50    3.74 (3.53-3.97) [1776]    1.45 (1.37-1.5) [1776]       TRUE   weak SDR       SDR total_hlgt #> 11:     1.36    3.37 (3.18-3.56) [1890]   1.31 (1.23-1.36) [1890]       TRUE   weak SDR       SDR total_hlgt #> 12:     3.17   11.76 (9.16-15.01) [104]    2.93 (2.61-3.17) [104]       TRUE   weak SDR       SDR total_hlgt render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"addressing-notoriety-bias","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Addressing notoriety bias","title":"v02_Disproportionality_Analysis","text":"FDA warning 2016-03-05 concerning aripiprazole-induced impulsivity may inflated reporting distorting results (.e., notoriety bias). address bias can restrict reports submitted date warning, repeat disproportionality analysis. compare result raw analysis, restriction bipolar disorder, restriction bipolar disorder pre-warning, finally last complete restriction also deduplication. analyses performed considering suspected drugs. see green results analysis restricting pre-warning. can see analysis affect bipolar disorder headache, affects impulse control disorders apart gambling. Plausibly FDA warning based mainly suspect aripiprazole-induced gambling disorder. Therefore, can see even warning taking account considered biases, FDA enough information publish warning.","code":"## Reference groups --------------------------------------------------------------------- warning_date <- 20160305 pre_warning <- Demo[ifelse(is.na(init_fda_dt), fda_dt < warning_date, init_fda_dt < warning_date)]$primaryid  ## Disproportionality analysis ----------------------------------------------------------  restrictions <- list(   \"raw\" = as.list(Demo$primaryid),   \"indication_bias\" = as.list(bipolar_disorder_total_pt),   \"notoriety_bias\" = as.list(pre_warning),   \"both_biases\" = as.list(intersect(     bipolar_disorder_total_pt,     pre_warning   )),   \"both_biases_dedup\" = as.list(intersect(     intersect(       bipolar_disorder_total_pt, pre_warning     ),     Demo[RB_duplicates == FALSE]$primaryid   )) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } disproportionality_df #>        substance  event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper IC_median IC_lower #>           <char> <char> <num>  <num>  <num> <num> <num>    <num>      <num>     <num>     <num>     <num>    <num> #>  1:  paracetamol    ICD   962 341983 342945 71334 72296 17183644       0.67      0.63      0.72     -0.56    -0.66 #>  2: aripiprazole    ICD  5208  76217  81425 67088 72296 17449410      17.77     17.25     18.30      3.95     3.91 #>  3:         TGAs    ICD  5666  90313  95979 66630 72296 17435314      16.41     15.96     16.89      3.84     3.79 #>  4:  pramipexole    ICD  2376   8721  11097 69920 72296 17516906      68.26     65.14     71.25      5.68     5.62 #>  5:  paracetamol    ICD    41   1598   1639  4245  4286   111477       0.67      0.48      0.91     -0.55    -1.07 #>  6: aripiprazole    ICD  1566  10649  12215  2720  4286   102426       5.53      5.18      5.91      1.81     1.72 #>  7:         TGAs    ICD  1645  12356  14001  2641  4286   100719       5.07      4.75      5.41      1.68     1.60 #>  8:  pramipexole    ICD    35    117    152  4251  4286   112958       7.94      5.27     11.70      2.55     1.98 #>  9:  paracetamol    ICD   415  79782  80197 37167 37582  6296895       0.88      0.79      0.97     -0.18    -0.35 #> 10: aripiprazole    ICD  1062  31287  32349 36520 37582  6345390       5.89      5.53      6.27      2.48     2.38 #> 11:         TGAs    ICD  1081  31812  32893 36501 37582  6344865       5.90      5.55      6.28      2.48     2.38 #> 12:  pramipexole    ICD  1846   4831   6677 35736 37582  6371846      68.14     64.42     72.04      5.54     5.46 #> 13:  paracetamol    ICD    17    573    590  1914  1931    60406       0.93      0.54      1.51     -0.09    -0.91 #> 14: aripiprazole    ICD   198   4771   4969  1733  1931    56208       1.34      1.15      1.56      0.37     0.14 #> 15:         TGAs    ICD   201   4809   5010  1730  1931    56170       1.35      1.16      1.57      0.38     0.15 #> 16:  pramipexole    ICD    25     63     88  1906  1931    60916      12.68      7.62     20.50      2.99     2.32 #> 17:  paracetamol    ICD    17    547    564  1889  1906    57300       0.94      0.54      1.52     -0.08    -0.90 #> 18: aripiprazole    ICD   188   4194   4382  1718  1906    53653       1.39      1.19      1.63      0.42     0.18 #> 19:         TGAs    ICD   191   4231   4422  1715  1906    53616       1.41      1.20      1.64      0.43     0.19 #> 20:  pramipexole    ICD    25     63     88  1881  1906    57784      12.19      7.32     19.69      2.94     2.27 #>        substance  event   D_E   D_nE      D  nD_E     E    nD_nE ROR_median ROR_lower ROR_upper IC_median IC_lower #>     IC_upper                  label_ROR                  label_IC Bonferroni ROR_signal IC_signal            nested #>        <num>                     <char>                    <char>     <lgcl>      <ord>     <ord>            <char> #>  1:    -0.48     0.67 (0.63-0.72) [962] -0.56 (-0.66--0.48) [962]      FALSE     no SDR    no SDR               raw #>  2:     3.99  17.77 (17.25-18.3) [5208]   3.95 (3.91-3.99) [5208]       TRUE   weak SDR       SDR               raw #>  3:     3.87 16.41 (15.96-16.89) [5666]   3.84 (3.79-3.87) [5666]       TRUE   weak SDR       SDR               raw #>  4:     5.73 68.26 (65.14-71.25) [2376]   5.68 (5.62-5.73) [2376]       TRUE   weak SDR       SDR               raw #>  5:    -0.17      0.67 (0.48-0.91) [41]  -0.55 (-1.07--0.17) [41]      FALSE     no SDR    no SDR   indication_bias #>  6:     1.87    5.53 (5.18-5.91) [1566]   1.81 (1.72-1.87) [1566]       TRUE   weak SDR       SDR   indication_bias #>  7:     1.74    5.07 (4.75-5.41) [1645]    1.68 (1.6-1.74) [1645]       TRUE   weak SDR       SDR   indication_bias #>  8:     2.95      7.94 (5.27-11.7) [35]     2.55 (1.98-2.95) [35]       TRUE   weak SDR       SDR   indication_bias #>  9:    -0.07     0.88 (0.79-0.97) [415] -0.18 (-0.35--0.07) [415]      FALSE     no SDR    no SDR    notoriety_bias #> 10:     2.55    5.89 (5.53-6.27) [1062]   2.48 (2.38-2.55) [1062]       TRUE   weak SDR       SDR    notoriety_bias #> 11:     2.55     5.9 (5.55-6.28) [1081]   2.48 (2.38-2.55) [1081]       TRUE   weak SDR       SDR    notoriety_bias #> 12:     5.59 68.14 (64.42-72.04) [1846]   5.54 (5.46-5.59) [1846]       TRUE   weak SDR       SDR    notoriety_bias #> 13:     0.47      0.93 (0.54-1.51) [17]   -0.09 (-0.91-0.47) [17]      FALSE     no SDR    no SDR       both_biases #> 14:     0.54     1.34 (1.15-1.56) [198]    0.37 (0.14-0.54) [198]       TRUE   weak SDR       SDR       both_biases #> 15:     0.55     1.35 (1.16-1.57) [201]    0.38 (0.15-0.55) [201]       TRUE   weak SDR       SDR       both_biases #> 16:     3.46     12.68 (7.62-20.5) [25]     2.99 (2.32-3.46) [25]       TRUE   weak SDR       SDR       both_biases #> 17:     0.48      0.94 (0.54-1.52) [17]    -0.08 (-0.9-0.48) [17]      FALSE     no SDR    no SDR both_biases_dedup #> 18:     0.60     1.39 (1.19-1.63) [188]     0.42 (0.18-0.6) [188]       TRUE   weak SDR       SDR both_biases_dedup #> 19:     0.60      1.41 (1.2-1.64) [191]     0.43 (0.19-0.6) [191]       TRUE   weak SDR       SDR both_biases_dedup #> 20:     3.41    12.19 (7.32-19.69) [25]     2.94 (2.27-3.41) [25]       TRUE   weak SDR       SDR both_biases_dedup #>     IC_upper                  label_ROR                  label_IC Bonferroni ROR_signal IC_signal            nested render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"disproportionality-trend","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Disproportionality trend","title":"v02_Disproportionality_Analysis","text":"Can check exactly signal appeared FAERS? example case disproportionality restricted bipolar disorder suspected drugs ? inquiry, DiAna proposes specific function: disproportionality_trend, allow adopt granularity month, quarter, year.","code":"## Import data -------------------------------------------------------------------------- import(\"DEMO_SUPP\") #>           primaryid rpsr_cod   caseid caseversion i_f_cod auth_num  e_sub lit_ref  rept_dt to_mfr         mfr_sndr #>               <num>   <fctr>    <int>      <fctr>  <fctr>   <char> <fctr>  <char>    <int> <char>           <char> #>        1:  45217461       HP  4521746           1       I     <NA>      N    <NA>       NA   <NA>             <NA> #>        2:  57910401     <NA>  5791040           1       I     <NA>      N    <NA>       NA   <NA>             <NA> #>        3:  56962401     <NA>  5696240           1       I     <NA>      N    <NA>       NA   <NA>             <NA> #>        4:  54662121      FGN  5466212           1       I     <NA>      N    <NA> 19961015   <NA> ELI LILLY AND CO #>        5:  54662121       HP  5466212           1       I     <NA>      N    <NA> 19961015   <NA> ELI LILLY AND CO #>       ---                                                                                                          #> 18283734: 236937711      CSM 23693771           1       I   697702      N    <NA> 20240331      N          FDA-CTU #> 18283735: 236937721      CSM 23693772           1       I   697662      N    <NA> 20240331      N          FDA-CTU #> 18283736: 236937741      CSM 23693774           1       I   697678      N    <NA> 20240331   <NA>          FDA-CTU #> 18283737: 237079261      CSM 23707926           1       I   697660      N    <NA> 20240331      Y          FDA-CTU #> 18283738: 237079291      CSM 23707929           1       I   697693      N    <NA> 20240331      Y          FDA-CTU #>               mfr_num   mfr_dt quarter #>                <char>    <int>  <fctr> #>        1:        <NA>       NA    20Q3 #>        2:        <NA>       NA    20Q3 #>        3:        <NA>       NA    20Q3 #>        4: ZA96101984A 19961010    20Q3 #>        5: ZA96101984A 19961010    20Q3 #>       ---                              #> 18283734:        <NA> 20240331    24Q1 #> 18283735:        <NA> 20240331    24Q1 #> 18283736:        <NA> 20240331    24Q1 #> 18283737:        <NA> 20240331    24Q1 #> 18283738:        <NA> 20240331    24Q1 ## Disproportionality analysis ---------------------------------------------------------- disproportionality_trend_df <- disproportionality_trend(   drug_selected = \"brexpiprazole\",   reac_selected = unlist(reac_selected),   temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],   time_granularity = \"year\" ) plot_disproportionality_trend(disproportionality_trend_results = disproportionality_trend_df)"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/v02_Disproportionality_Analysis.html","id":"comparing-several-disproportionality-metrics","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Comparing several disproportionality metrics","title":"v02_Disproportionality_Analysis","text":"ROR IC, extremely common pharmacovigilance, disproportionality metrics. compare results disproportionality metrics can use disproportionality_comparison function","code":"disproportionality_comparison(   drug_count = length(unique(Drug[substance == \"aripiprazole\" & role_cod %in% c(\"PS\", \"SS\")]$primaryid)),   event_count = length(unique(Reac[pt == \"impulsive behaviour\"]$primaryid)),   drug_event_count = length(intersect(Drug[substance == \"aripiprazole\" & role_cod %in% c(\"PS\", \"SS\")]$primaryid, Reac[pt == \"impulsive behaviour\"]$primaryid)),   tot = nrow(Demo) ) #>       E       nE #> D   379    81046 #> nD 2885 17514169 #>  #>  #> ROR = 28.39 (25.4-31.58) #> PRR = 28.26 (25.4-31.45) #> RRR = 25.1 (22.57-27.91) #> IC = 4.6 (4.43-4.72) #> IC_gamma = 4.48 (4.46-4.75)"},{"path":"https://fusarolimichele.github.io/DiAna_package/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michele Fusaroli. Author, maintainer. Valentina Giunchi. Author. Violetta Zoffoli. Contributor. Lionel Van Holle. Contributor. Takamasa Sakai. Contributor. Nhung Trinh. Contributor.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Fusaroli M, Giunchi V (2024). DiAna: DIsproportionality ANAlysis Pharmacovigilance FAERS. R package version 2.1.0, https://github.com/fusarolimichele/DiAna, https://osf.io/zqu89/, https://fusarolimichele.github.io/DiAna_package/, https://github.com/fusarolimichele/DiAna_package.","code":"@Manual{,   title = {DiAna: DIsproportionality ANAlysis and Pharmacovigilance in the FAERS},   author = {Michele Fusaroli and Valentina Giunchi},   year = {2024},   note = {R package version 2.1.0,     https://github.com/fusarolimichele/DiAna, https://osf.io/zqu89/,     https://fusarolimichele.github.io/DiAna_package/},   url = {https://github.com/fusarolimichele/DiAna_package}, }"},{"path":"https://fusarolimichele.github.io/DiAna_package/index.html","id":"diana","dir":"","previous_headings":"","what":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","title":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","text":"goal DiAna enchance transparency, flexibility,replicability, tool exchange capabilities within domain pharmacovigilance studies. specialized R package meticulously crafted facilitate intricate process disproportionality analysis FDA Adverse Event Reporting System (FAERS) data. DiAna empowers researchers pharmacovigilance professionals comprehensive toolkit conduct rigorous transparent analyses. providing customizable functions clear documentation, package ensures step analysis fully understood reproducible. Pharmacovigilance studies often require tailored approaches due diverse nature adverse event data. package offers range versatile tools can seamlessly adapted different study designs, data structures, analytical goals. Researchers can effortlessly modify parameters methods suit specific requirements. Collaboration knowledge-sharing fundamental advancing pharmacovigilance research. DiAna plays pivotal role enabling exchange tools methodologies among researchers. modular design encourages development integration new analysis techniques, fostering dynamic environment innovation. DiAna simplifies process importing cleaned FAERS data, retrieving cases interest, conducting descriptive analysis, performing disproportionality analysis. Whether ’re novice expert pharmacovigilance, DiAna designed make analyses easy efficient.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/index.html","id":"prerequisites-installing-r-and-r-studio","dir":"","previous_headings":"","what":"Prerequisites: Installing R and R Studio","title":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","text":"can start using DiAna, need R R Studio installed system. haven’t installed yet, follow simple steps: Installing R Visit official R project website (https://cran.r-project.org) download appropriate version R operating system (Windows, macOS, Linux). Run installer follow instructions complete installation. R provides powerful flexible environment statistical computing graphics, forming foundation data analysis DiAna. Installing R Studio R Studio integrated development environment (IDE) R makes R programming easier efficient. R installed, go R Studio website (https://posit.co/download/rstudio-desktop/) download free version R Studio Desktop. Install R Studio following installation instructions operating system. R R Studio installed, comprehensive user-friendly environment ready conducting pharmacovigilance analyses using DiAna.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/index.html","id":"setting-up-your-diana-project","dir":"","previous_headings":"","what":"Setting Up Your DiAna Project","title":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","text":"organized efficient workflow, recommend creating dedicated project DiAna analyses. Follow steps set DiAna project R Studio: Open R Studio: Start opening R Studio computer. ’ve just installed R Studio, can find applications programs menu. Create New Project: R Studio, click File upper left corner, select New Project. Choose New Directory New Project. Name project (e.g., “DiAna”) specify location Desktop preferred directory. Install DiAna package: Begin installing DiAna package GitHub writing running following lines console: may useful run command time time download latest update package (e.g., bugs solved, new improved functions) Setup DiAna project: first time use DiAna, set folder data stored together results analyses. command require good internet connection. better internet connection, faster download. usually takes minutes 20 minutes. console, run two rows (note rows preceded # comments commands): library DiAna imported DiAna package (.e., toolbox functions use analyses). setup_DiAna(quarter=“24Q1”) automaticatilly setting project: create folder store cleaned FAERS data, downloaded OSF repository (particular downloading entire FAERS database, including quarters 24Q1). entire cleaning process made transparent github (https://github.com/fusarolimichele/DiAna). also create folder external sources folder store projects. external sources, also download DiAna dictionary used translate free text drug names active ingredients, linkage ATC code, useful data sources. external sources available download require subscription (e.g., MedDRA).","code":"install.packages(\"devtools\") devtools::install_github(\"fusarolimichele/DiAna_package\") library(DiAna) setup_DiAna(quarter = \"24Q1\") # input yes when asked to download the FAERS"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna-package.html","id":null,"dir":"Reference","previous_headings":"","what":"DiAna: DIsproportionality ANAlysis and Pharmacovigilance in the FAERS — DiAna-package","title":"DiAna: DIsproportionality ANAlysis and Pharmacovigilance in the FAERS — DiAna-package","text":"'DiAna' (Disproportionality Analysis) package offers advanced tools analyzing FDA Adverse Event Reporting System (FAERS) data, enhancing drug safety research. enables users download cleaned FAERS data import relational datasets, facilitating case identification control selection minimize confounding analyses. package includes functions descriptive disproportionality analysis, time--onset analysis, network analysis, retrieval algorithms, visualization.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"DiAna: DIsproportionality ANAlysis and Pharmacovigilance in the FAERS — DiAna-package","text":"Maintainer: Michele Fusaroli michele.fusaroli2@unibo.(ORCID) Authors: Valentina Giunchi valentina.giunchi2@unibo.(ORCID) contributors: Violetta Zoffoli [contributor] Lionel Van Holle lionel.vanholle@opensourcepv.com (ORCID) [contributor] Takamasa Sakai tksakai@meijo-u.ac.jp [contributor] Nhung Trinh nhung.trinh@farmasi.uio.[contributor]","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":null,"dir":"Reference","previous_headings":"","what":"Get DiAna reference — DiAna_reference","title":"Get DiAna reference — DiAna_reference","text":"function provides DiAna reference, used using DiAna.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get DiAna reference — DiAna_reference","text":"","code":"DiAna_reference(print = TRUE)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get DiAna reference — DiAna_reference","text":"print Logical, output printed? Default TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get DiAna reference — DiAna_reference","text":"DiAna reference","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get DiAna reference — DiAna_reference","text":"","code":"if (FALSE) { # \\dontrun{ # DiAna_reference() } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":null,"dir":"Reference","previous_headings":"","what":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"function provides specifics dictionaries used cleaning specified database version","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"","code":"FAERS_quarter_specifics(quarter = FAERS_version, print = TRUE)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"quarter quarter specifics needed. Default FAERS_version. print Logical, output printed? Default TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"Specifics","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"","code":"if (FALSE) { # \\dontrun{ # FAERS_quarter_specifics() } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":null,"dir":"Reference","previous_headings":"","what":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"function updates DiAna dictionary based changes specified Excel file. imports necessary data, identifies records fixed, updates dictionary accordingly.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"","code":"Fix_DiAna_dictionary_locally(changes_xlsx_name)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"changes_xlsx_name string specifying name Excel file containing changes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"data.table updated Drug information.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"function performs following steps: Reads changes specified Excel file. Imports necessary data tables (DRUG_NAME DRUG) already exist. Identifies records Drug_name need fixed based changes. Joins changes identified records updates Drug table. Removes old records adds updated records Drug table.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"","code":"if (FALSE) { # \\dontrun{ Drug <- Fix_DiAna_dictionary_locally(\"changes.xlsx\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Country Dictionary Dataset — country_dictionary","title":"Country Dictionary Dataset — country_dictionary","text":"dataset containing mappings country names, abbreviations, respective continents.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Country Dictionary Dataset — country_dictionary","text":"","code":"country_dictionary"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Country Dictionary Dataset — country_dictionary","text":"data frame 3 variables: countryname Character. name country, can include official names various abbreviations. country Character. official name country. continent Character. continent country belongs.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Country Dictionary Dataset — country_dictionary","text":"dataset provides comprehensive mapping country names respective continents. includes various forms country names official names abbreviations. used internally functions descriptive.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Descriptive Statistics for a Sample — descriptive","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"function generates descriptive statistics sample data, including cases non-cases, saves results Excel file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"","code":"descriptive(   pids_cases,   RG = NULL,   drug = NULL,   save_in_excel = TRUE,   file_name = \"Descriptives.xlsx\",   vars = c(\"sex\", \"Submission\", \"Reporter\", \"age_range\", \"Outcome\", \"country\",     \"continent\", \"age_in_years\", \"wt_in_kgs\", \"Reactions\", \"Indications\", \"Substances\",     \"year\", \"role_cod\", \"time_to_onset\"),   list_pids = list(),   method = \"independence_test\",   temp_demo = Demo,   temp_drug = Drug,   temp_reac = Reac,   temp_indi = Indi,   temp_outc = Outc,   temp_ther = Ther )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"pids_cases vector primary IDs cases. RG vector primary IDs: reference group. Default NULL. drug vector drug names. Default NULL. save_in_excel Whether save outcome excel. Defaults TRUE file_name name Excel file save results. Default \"Descriptives.xlsx\". works save_in_excel TRUE. vars character vector variable names include analysis. list_pids list vectors primary IDs custom groups whose distribution described. Default empty list. method method Chi-square test analysis, either \"independence_test\" \"goodness_of_fit\". Default \"independence_test\". applies comparisons cases non-cases. temp_demo Demo dataset. Defaults Demo. Can se sample_Demo testing temp_drug Drug dataset. Can set sample_Drug testing temp_reac Reac dataset. Can set sample_Reac testing temp_indi Indi dataset. Can set sample_Indi testing temp_outc Outc dataset. Can set sample_Outc testing temp_ther Ther dataset. Can set sample_Ther testing","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"function generates descriptive statistics gt_table potentially saves Excel file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"","code":"if (FALSE) { # \\dontrun{ import(\"DEMO\", quarter = \"23Q1\") pids_cases <- sample(Demo$primaryid, 100) RG <- sample(Demo[!primaryid %in% pids_cases]$primaryid, 100)  # Generate descriptive statistics for cases descriptive(pids_cases = pids_cases) descriptive(pids_cases = pids_cases, drug = \"paracetamol\")  # Generate descriptive statistics for cases and non-cases descriptive(pids_cases = pids_cases, RG = RG) descriptive(pids_cases = pids_cases, RG = RG, drug = \"paracetamol\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Disproportionality Analysis — disproportionality_analysis","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"performs disproportionality analysis returns results.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"","code":"disproportionality_analysis(   drug_selected,   reac_selected,   temp_drug = Drug,   temp_reac = Reac,   meddra_level = \"pt\",   drug_level = \"substance\",   restriction = \"none\",   minimum_cases = 3,   frequentist_threshold = 1,   log2_threshold = 0,   multiple_comparison = TRUE,   store_pids = FALSE,   save_in_excel = FALSE,   file_name = \"disproportionality_results\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"drug_selected list drugs analysis. Can list lists (collapse terms together). reac_selected list adverse events analysis. Can list lists (collapse terms together). temp_drug Drug dataset. Can set sample_Drug testing temp_reac Reac dataset. Can set sample_Reac testing meddra_level desired MedDRA level analysis (default \"pt\"). drug_level desired drug level analysis (default \"substance\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). restriction Primary IDs consider analysis (default \"none\", includes entire population). set Demo[!RB_duplicates_only_susp]$primaryid, example, allows exclude duplicates according one deduplication algorithms. minimum_cases Threshold minimum cases calculating identifyin signal (default 3). frequentist_threshold Threshold defining significance lower limit Reporting Odds Ratio (default 1). log2_threshold Threshold defining significance lower limit Information Component (default 0). multiple_comparison Logical specifying whether perform Bonferroni correction multiple testing ROR. Default TRUE. Particularly important running disproportionality many combinations. store_pids Logical specifying whether store primaryids recording drug primaryids recording event lists. Default FALSE. save_in_excel Whether save outcome excel. Defaults TRUE file_name name Excel file save results. Default \"Descriptives.xlsx\". works save_in_excel TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"data.table containing disproportionality analysis results.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"function performs disproportionality analysis drug-event combinations FAERS dataset, calculating various metrics Reporting Odds Ratio (ROR), Proportional Reporting Ratio (PRR), Relative Reporting Ratio (RRR), Information Component (IC).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"","code":"disproportionality_comparison(   drug_count = length(pids_drug),   event_count = length(pids_event),   drug_event_count = length(intersect(pids_drug, pids_event)),   tot = nrow(Demo),   print_results = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"drug_count integer representing number reports drug interest. Default length pids_drug. event_count integer representing number reports event interest. Default length pids_event. drug_event_count integer representing number reports drug-event combination. Default length intersection pids_drug pids_event. tot integer representing total number reports dataset. Default number rows Demo table. print_results logical control whether results also printed, besides stored results.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"function prints contingency table several disproportionality metrics (also stored list): ROR: Reporting Odds Ratio confidence intervals. PRR: Proportional Reporting Ratio confidence intervals. RRR: Relative Reporting Ratio confidence intervals. IC: Information Component confidence intervals. IC_gamma: Gamma distribution-based Information Component confidence intervals.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"function constructs contingency table drug-event combination computes following metrics: ROR Reporting Odds Ratio: Based odds ratio PRR Proportional Reporting Ratio: expected probability event calculated population drug interest. RRR Relative Reporting Ratio: expected probability event calculated entire population. IC Information Component: measure based Bayesian confidence propagation neural network models. log2 shrinked RRR. IC_gamma Gamma distribution-based Information Component: alternative IC calculation using gamma distribution. appropriate small databases","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage disproportionality_comparison(   drug_count = 100, event_count = 50,   drug_event_count = 10, tot = 10000 ) } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"function calculates disproportionality time trend given drug-event combination.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"","code":"disproportionality_trend(   drug_selected,   reac_selected,   temp_drug = Drug,   temp_reac = Reac,   temp_demo = Demo,   temp_demo_supp = Demo_supp[, .(primaryid, quarter)],   meddra_level = \"pt\",   drug_level = \"substance\",   restriction = \"none\",   time_granularity = \"year\",   cumulative = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"drug_selected Drug selected reac_selected Event selected temp_drug Drug dataset. Can set sample_Drug testing temp_reac Reac dataset. Can set sample_Reac testing temp_demo Demo dataset. Defaults Demo. Can se sample_Demo testing temp_demo_supp Data frame containing supplementary demographic data, particular quarter. Defaults Demo_supp\\[, .(primaryid, quarter)\\]. meddra_level desired MedDRA level analysis (default \"pt\"). drug_level desired drug level analysis (default \"substance\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). restriction Primary IDs consider analysis (default \"none\", includes entire population). set Demo[!RB_duplicates_only_susp]$primaryid, example, allows exclude duplicates according one deduplication algorithms. time_granularity Character string specifying time granularity. Options \"year\", \"quarter\", \"month\". Defaults \"year\". cumulative Logical indicating whether calculate cumulative values. Defaults TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"data frame containing disproportionality results time, including: period Time period. Deafult 'year'. values 'quarter' 'month'. using 'quarter' Demo_supp required TOT Total number reports D_E Number reports drug event D_nE Number reports drug event D Total number reports drug nD_E Number reports event drug E Total number reports event nD_nE Number reports neither drug event ROR_median Reporting odds ratio (ROR) median ROR_lower ROR lower bound (2.5%) ROR_upper ROR upper bound (97.5%) p_value_fisher Fisher's exact test p-value Bonferroni Bonferroni-corrected p-value IC_median Information component (IC) median IC_lower IC lower bound IC_upper IC upper bound label_ROR Formatted ROR label label_IC Formatted IC label","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"function processes provided data calculate reporting odds ratio (ROR) information component (IC) specified drug-event combination time.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage drug_selected <- \"aspirin\" reac_selected <- \"headache\" result <- disproportionality_trend(drug_selected, reac_selected) } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Input for Disproportionality Analysis — format_input_disproportionality","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"function formats input drug reac selected disproportionality analysis. ensures input correct list format processes meet specific structural requirements, allowing researcher greater freedom calling function.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"","code":"format_input_disproportionality(input)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"input list object can converted list (specifically, drug_selected reac_selected).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"formatted list drugs events suitable disproportionality analysis","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Drug Names from FAERS Database — get_drugnames","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"function retrieves drug names occurrence percentages FDA Adverse Event Reporting System (FAERS) database specified drug substance.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"","code":"get_drugnames(drug, temp_d = Drug, temp_d_name = Drug_name)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"drug Character string representing drug substance drug names retrieved. temp_d Drug database. Can set sample_Drug testing. temp_d_name Drug_name database. Can set sample_Drug_Name testing.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"data table containing drug names corresponding occurrence percentages.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"function imports data \"DRUG\" \"DRUG_NAME\" tables specified quarter FAERS database. calculates total number occurrences unique drug name orders results descending order based occurrence count. resulting data table includes drug names occurrence percentages.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"","code":"if (FALSE) { # \\dontrun{ # Specify the FAERS_version variable before calling the function FAERS_version <- \"2023Q2\" # Retrieve drug names for the substance \"example_drug\" result <- get_drugnames(\"aripiprazole\") print(result) result <- get_drugnames(\"atogepant\") print(result) } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Hierarchy of events or substances — hierarchycal_rates","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"function generates hierarchy reporting rates specified entity based different MedDRA ATC levels writes result xlsx file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"","code":"hierarchycal_rates(   pids_cases,   entity = \"reaction\",   file_name = paste0(project_path, \"reporting_rates.xlsx\"),   drug_role = c(\"PS\", \"SS\", \"I\", \"C\") )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"pids_cases Vector primary IDs identifying sample interest. entity Entity investigated. can one following: reaction; indication; substance. file_name Path save XLSX file containing hierarchy. drug_role entity substance, possible specify drug roles considered","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"None. function generates writes hierarchy xlsx. indications reactions, SOCs ordered occurrences , within, HLGTs, HLTs, PTs. substances, ATC hierarchy followed.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"","code":"if (FALSE) { # \\dontrun{ hierarchycal_rates(pids, \"reaction\", \"reactions_rates.xlsx\") hierarchycal_rates(pids, \"indication\", \"indications_rates.xlsx\") hierarchycal_rates(pids, \"substance\", \"substances_rates.xlsx\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":null,"dir":"Reference","previous_headings":"","what":"import — import","title":"import — import","text":"Imports specified FAERS relational database.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import — import","text":"","code":"import(   df_name,   quarter = FAERS_version,   pids = NA,   save_in_environment = TRUE,   env = .GlobalEnv )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"import — import","text":"df_name Name data file (without \".rds\" extension). can one following: DRUG =  Suspect concomitant drugs (active ingredient); REAC =  Suspect reactions (MedDRA PT); DEMO =  Demographics Reporting; DEMO_SUPP =  Demographics Reporting; INDI =  Reasons use; OUTC =  Outcomes; THER =  Drug regimen information; DOSES =  Dosage information; DRUG_SUPP =  Dechallenge, Rechallenge, route, form; DRUG_NAME =  Suspect concomitant drugs (raw terms); quarter quarter import data. updated analyses use last quarterly update, format 23Q1. Defaults value assigned FAERS_version. pids Optional vector primary IDs subset imported data. Defaults entire population. save_in_environment parameter automatically used within functions avoid imported databases overscribed. env environment data assigned. Default .GlobalEnv","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"import — import","text":"data.table containing imported data.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"import — import","text":"","code":"if (FALSE) { # \\dontrun{ # Import full DRUG dataset up to 23Q1 import(\"DRUG\", \"23Q1\")  # Import reac data for specific primary IDs in quarters up to 23Q1 import(\"REAC\", \"23Q1\", pids = c(\"pid1\", \"pid2\")) } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":null,"dir":"Reference","previous_headings":"","what":"Import ATC classification — import_ATC","title":"Import ATC classification — import_ATC","text":"function reads ATC (Anatomical Therapeutic Chemical) classification external source assigns global environment variable.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import ATC classification — import_ATC","text":"","code":"import_ATC(primary = T, env = .GlobalEnv)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import ATC classification — import_ATC","text":"primary Whether primary ATC retrieved. env environment data assigned. Default .GlobalEnv","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import ATC classification — import_ATC","text":"data frame containing dataset ATC linkage.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import ATC classification — import_ATC","text":"","code":"if (FALSE) { # \\dontrun{ import_ATC() } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":null,"dir":"Reference","previous_headings":"","what":"Import MedDRA Data — import_MedDRA","title":"Import MedDRA Data — import_MedDRA","text":"function imports MedDRA (Medical Dictionary Regulatory Activities) data CSV file stores global environment.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import MedDRA Data — import_MedDRA","text":"","code":"import_MedDRA(env = .GlobalEnv)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import MedDRA Data — import_MedDRA","text":"env environment data assigned. Default .GlobalEnv","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import MedDRA Data — import_MedDRA","text":"data table containing MedDRA data.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Import MedDRA Data — import_MedDRA","text":"function reads MedDRA data CSV file located path specified ()/external_sources/meddra_primary.csv. file exist, stop execution provide instructions obtain MedDRA data. file exists, load data, select specific columns (def, soc, hlgt, hlt, pt), remove duplicates, store global environment \"MedDRA\".","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import MedDRA Data — import_MedDRA","text":"","code":"if (FALSE) { # \\dontrun{ # Import MedDRA data import_MedDRA() } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Network Analysis and Visualization — network_analysis","title":"Perform Network Analysis and Visualization — network_analysis","text":"function performs network analysis provided data generates visualization network. uses IsingFit model network structure, clusters nodes using Louvain method, visualizes resulting network graph.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Network Analysis and Visualization — network_analysis","text":"","code":"network_analysis(   pids,   entity = \"reaction\",   remove_singlet = TRUE,   remove_negative_edges = TRUE,   file_name = paste0(project_path, \"network.tiff\"),   width = 1500,   height = 1500,   labs_size = 1,   restriction = NA,   temp_reac = Reac,   temp_indi = Indi,   temp_drug = Drug,   save_plot = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Network Analysis and Visualization — network_analysis","text":"pids Numeric vector unique identifiers network analysis performed. entity Character specifying type entity analyze (\"reaction\", \"indication\", \"substance\"). remove_singlet Logical indicating whether remove singleton nodes (nodes edges). Default TRUE. remove_negative_edges Logical indicating whether remove edges negative weights. Default TRUE. file_name Character string specifying file name (including path) save network visualization. Default \"network.tiff\". width Numeric specifying width saved image pixels. Default 1500. height Numeric specifying height saved image pixels. Default 1500. labs_size Size labels network visualization. Default 1. can changed visualization good. restriction Restriction performed analysis. Default NA. setted 'suspects' entity 'substance' restrict analysis primary secondary suspects temp_reac Reac dataset. Can set sample_Reac testing temp_indi Indi dataset. Can set sample_Indi testing temp_drug Drug dataset. Can set sample_Drug testing save_plot Whether plot saved tiff. Defaults true","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Network Analysis and Visualization — network_analysis","text":"NULL (invisibly). Saves network visualization TIFF file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Perform Network Analysis and Visualization — network_analysis","text":"Fusaroli M, Raschi E, Gatti M, De Ponti F, Poluzzi E. Development Network-Based Signal Detection Tool: COVID-19 Adversome FDA Adverse Event Reporting System. Front Pharmacol. 2021 Dec 8;12:740707. doi: 10.3389/fphar.2021.740707. PMID: 34955821; PMCID: PMC8694570. Fusaroli M, Polizzi S, Menestrina L, Giunchi V, Pellegrini L, Raschi E, et al. Unveiling Hidden Toll Drug-Induced Impulsivity: Network Analysis FDA Adverse Event Reporting System. 2023; : 2023.11.17.23298635. [Cited 2023 Nov 29] Available https://www.medrxiv.org/content/10.1101/2023.11.17.23298635v1","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform Network Analysis and Visualization — network_analysis","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage: # Perform network analysis for reactions with specified pids network_analysis(pids = c(1, 2, 3), entity = \"reaction\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"function generates KS plot comparing two distributions using Kolmogorov-Smirnov statistic.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"","code":"plot_KS(results_tto_analysis, RG = \"drug\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"results_tto_analysis results time--event analysis. RG Specifies whether drug-event combination interest compared reports \"drug\" \"event\".","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"ggplot object representing KS plot.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"function takes results time--event analysis compares two distributions based specified type data (drug event). uses ggplot2 package create KS plot, highlighting points greatest distance cumulative distribution functions (CDFs) two groups.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage: plot_KS(results_tto_analysis, RG = \"drug\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Disproportionality Trend — plot_disproportionality_trend","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"function plots disproportionality trend time given metric.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"","code":"plot_disproportionality_trend(   disproportionality_trend_results,   metric = \"IC\",   time_granularity = \"year\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"disproportionality_trend_results Data frame containing results disproportionality_trend function. metric Character string specifying metric plot. Options \"IC\" (information component) \"ROR\" (reporting odds ratio). Defaults \"IC\". time_granularity Character string specifying time frame. recommeded use specified 'disproportionality_trend' function. Default \"year\". Alternatives \"quarter\" \"month\".","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"ggplot object representing disproportionality trend plot specified metric.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"function creates plot visualize disproportionality trend drug-event combination time. Depending selected metric, plots either information component (IC) reporting odds ratio (ROR) corresponding confidence intervals.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage trend_results <- disproportionality_trend(drug_selected = \"aspirin\", reac_selected = \"headache\") plot_IC <- plot_disproportionality_trend(trend_results, metric = \"IC\") plot_ROR <- plot_disproportionality_trend(trend_results, metric = \"ROR\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":null,"dir":"Reference","previous_headings":"","what":"Render Forest Plot — render_forest","title":"Render Forest Plot — render_forest","text":"function generates forest plot visualization disproportions.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Render Forest Plot — render_forest","text":"","code":"render_forest(   disproportionality_df,   index = \"IC\",   row = \"substance\",   levs_row = NA,   nested = FALSE,   show_legend = TRUE,   transformation = \"identity\",   custom_threshold = NA,   text_size_legend = 15,   dodge = 0.3,   nested_colors = NA,   facet_v = NA,   facet_h = NA,   legend_position = \"right\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Render Forest Plot — render_forest","text":"disproportionality_df data frame containing disproportionality metrics. Generated disproportionality_analysis. index Type data use rendering: \"ROR\" \"IC\". row Variable rows forest plot (default \"drug\"). levs_row Levels rows forest plot. nested Variable indicating nested plotting required (default FALSE). nested plotting required name variable replace FALSE. show_legend Logical indicating whether show legend (default FALSE). transformation Transformation x-axis (default \"identity\"). custom_threshold Threshold value analysis (default 1). text_size_legend Size text legend (default 15). dodge Position adjustment dodging (default 0.3). nested_colors Vector colors plot elements. facet_v Variable vertical facetting (default \"event\"). facet_h Variable horizontal facetting (default NA). legend_position place legend.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Render Forest Plot — render_forest","text":"ggplot object representing forest plot visualization.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":null,"dir":"Reference","previous_headings":"","what":"TTO Render Forest Plot — render_tto","title":"TTO Render Forest Plot — render_tto","text":"function generates forest plot visualization time onset analysis","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"TTO Render Forest Plot — render_tto","text":"","code":"render_tto(   df,   row = \"substance\",   levs_row = NA,   nested = FALSE,   show_legend = TRUE,   transformation = \"log10\",   text_size_legend = 15,   dodge = 0.3,   nested_colors = NA,   facet_v = NA,   facet_h = NA )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"TTO Render Forest Plot — render_tto","text":"df Data.table containing data rendering forest plot. row Variable rows forest plot (default \"substance\"). levs_row Levels rows forest plot. nested Variable indicating nested plotting required (default FALSE). nested plotting required name variable replace FALSE. show_legend Logical indicating whether show legend (default FALSE). transformation Transformation x-axis (default \"identity\"). text_size_legend Size text legend (default 15). dodge Position adjustment dodging (default 0.3). nested_colors Vector colors plot elements. facet_v Variable vertical facetting (default \"NA\", setted e.g., \"event\"). facet_h Variable horizontal facetting (default NA).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"TTO Render Forest Plot — render_tto","text":"ggplot object representing forest plot visualization.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"Reporting rates of events or substances — reporting_rates","title":"Reporting rates of events or substances — reporting_rates","text":"counts occurrences reactions/indications/substance given set primary IDs. Calculates % proportion individuals recording event.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reporting rates of events or substances — reporting_rates","text":"","code":"reporting_rates(   pids_cases,   entity = \"reaction\",   level = \"pt\",   drug_role = c(\"PS\", \"SS\", \"I\", \"C\"),   drug_indi = NA,   temp_reac = Reac,   temp_drug = Drug,   temp_indi = Indi )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reporting rates of events or substances — reporting_rates","text":"pids_cases Vector primary IDs consider counting reactions. entity Entity investigated. can one following: reaction; indication; substance. level desired MedDRA ATC level counting (default \"pt\"). drug_role used substances. default suspect concomitant drugs included. drug_indi used indications. default indications drugs selected primaryids considered, can specify vector drugs. temp_reac Reac dataset. Can set sample_Reac testing temp_drug Drug dataset. Can set sample_Drug testing temp_indi Indi dataset. Can set sample_Indi testing","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reporting rates of events or substances — reporting_rates","text":"data.table containing counts percentages investigated entity specified level descending order.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reporting rates of events or substances — reporting_rates","text":"","code":"if (FALSE) { # \\dontrun{ reporting_rates(pids, \"reaction\", \"hlt\") reporting_rates(pids, \"indication\", \"pt\") reporting_rates(pids, entity = \"substance\", level = \"Class3\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve data for specific primaryids — retrieve","title":"Retrieve data for specific primaryids — retrieve","text":"function retrieves data specific group primaryids, allowing -depth case--case evaluation clinical reasoning. MedDRA available PTs clustered HLGT.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve data for specific primaryids — retrieve","text":"","code":"retrieve(   pids,   file_name = \"individual_cases\",   temp_reac = Reac,   temp_drug = Drug,   temp_demo = Demo,   temp_demo_supp = Demo_supp,   temp_outc = Outc,   temp_ther = Ther,   temp_doses = Doses,   temp_drug_supp = Drug_supp,   temp_indi = Indi,   temp_drug_name = Drug_name,   temp_meddra = NA,   temp_atc = NA,   save_in_excel = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve data for specific primaryids — retrieve","text":"pids Primaryids interest. file_name name output xlsx file (default \"individual cases\"). temp_reac Reac dataset. Can set sample_Reac testing temp_drug Drug dataset. Can set sample_Drug testing temp_demo Demo dataset. Defaults Demo. Can se sample_Demo testing temp_demo_supp Demo_supp databases. Can set sample_Demo_Supp testing temp_outc Outc dataset. Can set sample_Outc testing temp_ther Ther dataset. Can set sample_Ther testing temp_doses Doses databases. Can set sample_Doses testing temp_drug_supp Drug_supp databases. Can set sample_Drug_Supp testing temp_indi Indi dataset. Can set sample_Indi testing temp_drug_name Drug_name databases. Can set sample_Drug_Name testing temp_meddra MedDRA dictionary, available. Defaults NA subscription requirement. temp_atc ATC classification, available. Defaults NA testing. save_in_excel Whether save outcome excel. Defaults TRUE","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve data for specific primaryids — retrieve","text":"Two xlsx files individual cases information: one general row per ICSR, one drug information multiple rows per ICSR.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve data for specific primaryids — retrieve","text":"","code":"if (FALSE) { # \\dontrun{ retrieve(c(1, 2, 3), \"output_data\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"function retrieves identifiers pregnancy-related reports FDA Adverse Event Reporting System (FAERS) specified quarter.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"","code":"retrieve_pregnancy_pids(quarter = FAERS_version)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"quarter character string specifying FAERS quarter retrieve data . Default current FAERS version (FAERS_version). can also set \"sample\" use instead sample data, mainly testing.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"list containing five elements: high_specificity vector identifiers high specificity pregnancy-related reports. medium_specificity vector identifiers medium specificity pregnancy-related reports. low_specificity vector identifiers low specificity pregnancy-related reports. paternal_exposure vector identifiers paternal exposure-related reports. flowchart editable flowchart showing case retrieval","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"function processes data multiple FAERS tables (DEMO, DRUG, REAC, INDI, OUTC, THER, DRUG_SUPP) identify pregnancy-related reports based specific indications, reactions, drug routes. results filtered exclude reports unlikely related pregnancy (e.g., reports involving males, children, older adults). algorithm implementation evolution original pregnancy algorithm Sakai,ref. 10.3389/fphar.2022.1063625 #' @references Sakai T, Mori C, Ohtsu F. Potential safety signal pregnancy loss vascular endothelial growth factor inhibitor intraocular injection: disproportionality analysis using Food Drug Administration Adverse Event Reporting System. Front Pharmacol. 2022 Nov 10;13:1063625. doi: 10.3389/fphar.2022.1063625. PMID: 36438807; PMCID: PMC9684212.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"","code":"if (FALSE) { # \\dontrun{ # Retrieve pregnancy-related report identifiers for the default quarter FAERS_version <- \"23Q4\" pids_pregnancy <- retrieve_pregnancy_pids() pids_pregnancy$medium_specificity } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Demographic Data — sample_Demo","title":"Sample Demographic Data — sample_Demo","text":"dataset containing demographic information individuals various details sex, age days, weight kilograms, related information.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Demographic Data — sample_Demo","text":"","code":"sample_Demo"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Demographic Data — sample_Demo","text":"data frame 15 variables: primaryid Unique identifier individual (numeric). sex Sex individual (factor), levels M male F female. age_in_days Age individual days (numeric). wt_in_kgs Weight individual kilograms (numeric). occr_country Country event occurred (factor). event_dt Date event (integer), format YYYYMMDD. occp_cod Occupation reporter (factor), levels CN consumers/patients, MD medical doctors, PH pharmacist, RN registered nurse, HP healthcare professional, LW lawyer, OT occupation. reporter_country Country reporter (factor). rept_cod Report code (factor), levels EXP expedited (.e., serious unexpected reaction reported within 30 days first reception pharmaceutical company), PER periodic (.e., expected non-serious event, sent pharmaceutical company regulatory agency yearly basis), DIR directed reports (.e., submitted directly reporter MedWatch form, without going pharmaceutical companies). init_fda_dt First date reception FDA (integer), format YYYYMMDD. fda_dt Date reception last update FDA (integer), format YYYYMMDD. premarketing Logical indicator case premarketing (.e., clinical trials) (logical). literature Logical indicator case literature (logical). RB_duplicates Logical indicator case duplicate based Rule Based algorithm (logical). RB_duplicates_only_susp Logical indicator case duplicate based Rule Based algorithm considering suspected drugs (logical).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Demographic Data — sample_Demo","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Demographic Data — sample_Demo","text":"dataset subset actual Demo data (can downloaded using setup_DiAna()), providing glimpse structure database allowing tests documentation.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Supplementary Demographic Data — sample_Demo_Supp","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"dataset containing supplementary demographic information individuals, including reporter codes, case IDs, additional details.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"","code":"sample_Demo_Supp"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"data.table 10 variables: primaryid Unique identifier individual (numeric). rpsr_cod Report source code (factor). caseid Case ID link report public dashboard (integer). caseversion Case version case multiple updates (factor). i_f_cod Initial follow-version (factor). auth_num Authorization number (character). e_sub Electronic submission  (factor). lit_ref Literature reference case (character). rept_dt Reporting date (integer). to_mfr Sent manufacturer (character). mfr_sndr Manufacturer sender (character). mfr_num Manufacturer id number (character). mfr_dt Manufacturer date (integer). quarter FAERS Quarter report stored  (factor).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"subset Demo_Supp provides supplementary demographic information reports, including details related reporting manufacturer information. useful understanding additional context around adverse drug reaction reports.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Drug Doses — sample_Doses","title":"Sample Data on Drug Doses — sample_Doses","text":"dataset containing information drug doses administered, linking primary IDs dose details.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Drug Doses — sample_Doses","text":"","code":"sample_Doses"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Drug Doses — sample_Doses","text":"data.table 7 variables: primaryid Unique identifier individual (numeric). drug_seq Sequence number identifying specific drug report (integer). dose_vbm Verbatim (free-text) dose description (character). dose_unit Unit dose (character). cum_dose_chr Cumulative dose character (numeric). dose_amt Amount dose (character). cum_dose_unit Cumulative dose unit (character). dose_freq Frequency dose (factor).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Drug Doses — sample_Doses","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Drug Doses — sample_Doses","text":"subset Doses provides detailed information drug doses administered, including verbatim descriptions, units, cumulative doses, amounts, frequency administration, facilitating analysis related dosing patterns. can observed sample, dataset NA (info available).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Drug Administration — sample_Drug","title":"Sample Data on Drug Administration — sample_Drug","text":"dataset containing information drugs administered individuals, including substance names, roles.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Drug Administration — sample_Drug","text":"","code":"sample_Drug"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Drug Administration — sample_Drug","text":"data.table 4 variables: primaryid Unique identifier individual (numeric). drug_seq Sequence number identifying specific drug report (integer). substance Name drug substance (active ingredient), standardized using DiAna_Dictionary (factor). role_cod Role code indicating role drug (ordered), levels PS primary suspect, SS secondary suspect, C concomitant, interacting.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Drug Administration — sample_Drug","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Drug Administration — sample_Drug","text":"subset Drug provides detailed information drugs administered individuals, specifying suspected roles context adverse drug reactions.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Drug Names before standardization — sample_Drug_Name","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"dataset containing information drug names associated details, including drug names, additional attributes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"","code":"sample_Drug_Name"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"data.table 5 variables: primaryid Unique identifier report (numeric). drug_seq Sequence number identifying specific drug report (integer). val_vbm Validity flag indicating whether drug name valid free text (reliable) (integer). nda_num New Drug Application number (character). drugname Name drug recorded reporter (factor). prod_ai Product active ingredient recorded reporter (factor).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"subset Drug_Name provides detailed information drug names associated attributes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Supplementary Drug Information — sample_Drug_Supp","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"dataset containing supplementary information drugs administered, including administration routes, formulation, related details.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"","code":"sample_Drug_Supp"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"data.table 8 variables: primaryid Unique identifier report (numeric). drug_seq Sequence number identifying specific drug report (integer). route Route drug administration (factor). dose_form Form drug dose (factor). dechal Dechallenged flag indicating dechallenge verified: event abated discontinuation drug (factor). rechal Rechallenged flag indicating rechallenge verified: event reappeared readminstering drug (factor). lot_num Lot number drug (character). exp_dt Expiration date drug (numeric).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"dataset provides supplementary information drugs administered, including details administration routes, dose forms, dechallenge/rechallenge flags. complements adverse drug reaction data providing additional context drug usage.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample dataset containing indications for using reported drugs. — sample_Indi","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"dataset provides information indications. report (primaryid) can record multiple drugs therefore multiple indications (rows).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"","code":"sample_Indi"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"data.table 3 variables: primaryid Unique identifier report. drug_seq Sequence number identifying specific drug reported report. indi_pt Preferred term describing drug indication according Medical Dictionary Regulatory Activities.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"dataset provides detailed information drug indications reported individuals, categorized primary ID drug sequence, facilitating analysis related specific indications observed adverse drug reaction reports. report can record multiple drugs therefore multiple indications.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Individual Outcomes — sample_Outc","title":"Sample Data on Individual Outcomes — sample_Outc","text":"dataset containing individual-level outcomes associated adverse drug reactions, linking primary IDs outcome codes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Individual Outcomes — sample_Outc","text":"","code":"sample_Outc"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Individual Outcomes — sample_Outc","text":"data.table 2 variables: primaryid Unique identifier individual (numeric). outc_cod Outcome code indicating severity outcome adverse event (ordered), levels DE death, LT life-threatening, HO hospitalization, DS disability, RI required intervention, OT ","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Individual Outcomes — sample_Outc","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Individual Outcomes — sample_Outc","text":"dataset provides information outcomes associated reported adverse drug reactions, specifying severity nature event observed individuals.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"dataset provides information adverse drug reactions (ADRs). report (primaryid) can record multiple events (rows).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"","code":"sample_Reac"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"data.table 3 variables: primaryid Unique identifier report (primary ID) pt Preferred term describing adverse reaction according Medical Dictionary Regulatory Activities drug_rec_act Drug rechallenged action (event recurred rechallenge, going shown ).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"dataset subset actual Reac data (can downloaded using setup_DiAna()), providing glimpse structure database allowing tests documentation.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Therapy Details — sample_Ther","title":"Sample Data on Therapy Details — sample_Ther","text":"dataset containing details therapeutic interventions, including drug therapy start end dates, duration days, time onset events related therapy, event dates.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Therapy Details — sample_Ther","text":"","code":"sample_Ther"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Therapy Details — sample_Ther","text":"data.table 7 variables: primaryid Unique identifier individual (numeric). drug_seq Sequence number identifying specific drug within report (integer). start_dt Date first administration therapy (numeric), YYYYMMDD format. dur_in_days Duration therapy days (numeric). end_dt Date last administration therapy (numeric), YYYYMMDD format. time_to_onset Time onset related events days (numeric). TTO per drug, independently event, since event date report. TTO calculated difference event date start date. event_dt Date occurrence events (one per report even multiple events) (integer), YYYYMMDD format.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Therapy Details — sample_Ther","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Therapy Details — sample_Ther","text":"subset dataset provides detailed information therapeutic interventions, facilitates analysis therapy durations, onset times.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Up DiAna Environment — setup_DiAna","title":"Set Up DiAna Environment — setup_DiAna","text":"function sets DiAna environment creating necessary folders downloading DiAna data specified quarter DiAna dictionary together csv link drugs ATC.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Up DiAna Environment — setup_DiAna","text":"","code":"setup_DiAna(quarter = \"23Q1\", timeout = 1e+05)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Up DiAna Environment — setup_DiAna","text":"quarter quarter set DiAna environment (default \"23Q1\"). ones available: 23Q1 23Q3 23Q4 24Q1 timeout amount time R stops task still unfinished. Default 100000It may necessary increase case slow connection.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Up DiAna Environment — setup_DiAna","text":"None. function sets environment downloads data.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Up DiAna Environment — setup_DiAna","text":"","code":"if (FALSE) { # \\dontrun{ # Set up DiAna environment for the default quarter setup_DiAna() } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":null,"dir":"Reference","previous_headings":"","what":"Install RStudio Snippets from GitHub Repository — snippets_install_github","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"function installs RStudio code snippets specified GitHub repository.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"","code":"snippets_install_github(repo = \"fusarolimichele/DiAna_snippets\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"repo Character. GitHub repository containing snippets. Default \"fusarolimichele/DiAna_snippets\".","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"None. function called side effects, include installing RStudio snippets.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"","code":"if (FALSE) { # \\dontrun{ snippets_install_github() snippets_install_github(repo = \"anotheruser/snippets_repo\") } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":null,"dir":"Reference","previous_headings":"","what":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"function analyzes data frame disproportionality metrics categorizes signals based specified thresholds.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"","code":"tailor_disproportionality_threshold(   disproportionality_df,   minimum_cases = 3,   log2_threshold = 0,   frequentist_threshold = 1,   multiple_comparison = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"disproportionality_df data frame containing disproportionality metrics. Generated disproportionality_analysis. minimum_cases integer specifying minimum number cases required consider signal. Defaults 3. log2_threshold numeric value specifying threshold Information Component (IC) signal. Defaults 0. frequentist_threshold numeric value specifying threshold Reporting Odds Ratio (ROR) signal. Defaults 1. multiple_comparison logical value indicating whether apply multiple comparison adjustments (e.g., Bonferroni correction). Defaults TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"data frame two new columns: ROR_signal IC_signal, categorizing signals based provided thresholds.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"function categorizes signals four levels: \"enough cases\": number cases less minimum_cases. \"SDR\": signal meet specified threshold. \"weak SDR\": signal disappear multiple comparison adjustments. \"SDR\": signal remain multiple comparison.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"function conducts time--onset analysis associations drugs events based user-specified parameters.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"","code":"time_to_onset_analysis(   drug_selected,   reac_selected,   temp_d = Drug,   temp_r = Reac,   temp_t = Ther,   meddra_level = \"pt\",   drug_level = \"substance\",   restriction = \"none\",   minimum_cases = 3,   max_TTO = 365,   test = \"AD\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"drug_selected list drugs analysis. Can list lists (collapse terms together) drug_level set custom. reac_selected list adverse events analysis. Can list lists (collapse terms together) meddra_level set custom. temp_d Data table containing drug data (default Drug). set Drug[role_cod %% c(\"PS\",\"SS\")] allows investigate suspects. temp_r Data table containing reaction data (default Reac). temp_t Data table containing therapy temporal data (default Ther). meddra_level desired MedDRA level analysis (default \"pt\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). drug_level desired drug level analysis (default \"substance\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). restriction Primary IDs consider analysis (default \"none\", includes entire population). set Demo[!RB_duplicates_only_susp]$primaryid, example, allows exclude duplicates according one deduplication algorithms. minimum_cases minimum number cases required analysis (default 3). max_TTO maximum time onset considered analysis, days (default 365). test two-sample goodness fit test apply TTO analysis. Choices AD (Anderson-Darling test - default) KS (Kolmogorov-Smirnov test).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"data.table containing results time--onset analysis, including drug-event associations, KS test statistics, p-values.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"Van Holle, L., Zeinoun, Z., Bauchau, V. Verstraeten, T. (2012), Using time--onset detecting safety signals spontaneous reports adverse events following immunization: proof concept study. Pharmacoepidemiol Drug Saf, 21: 603-610. https://doi.org/10.1002/pds.3226","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage: df <- time_to_onset_analysis(\"aripiprazole\", \"gambling\") df1 <- time_to_onset_analysis(c(\"aripiprazole\", \"pramipexole\"), c(\"gambling\", \"gambling disorder\")) df2 <- time_to_onset_analysis(c(\"aripiprazole\", \"pramipexole\"),   list(     \"gambling_PT\" = c(\"gambling\"),     \"gambling_disorder_PT\" = c(\"gambling disorder\"),     \"gambling_query\" = c(\"gambling\", \"gambling disorder\")   ),   temp_d = Drug[role_cod %in% c(\"PS\", \"SS\")],   meddra_level = \"custom\",   max_TTO = 3 * 365 ) } # }"},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/news/index.html","id":"major-changes-2-1-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"DiAna 2.1.0","text":"Removed dependency tidyverse make download faster Included tests (coverage > 80%) Improved documentation Included sample data country dictionary package Names parameters standardized across functions Requires databases uploaded, make clear user databases used function. Give user decision whether save excel just keep results descriptive retrieve function environment. Necessary testing. Added website Added articles/tutorials setting subproject performing disproportionality analysis website","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/news/index.html","id":"minor-changes-and-bug-fixes-2-1-0","dir":"Changelog","previous_headings":"","what":"Minor changes and bug fixes","title":"DiAna 2.1.0","text":"Disproportionality functions robust: _they accept different formatting drug_selected event selected; _they warn unexpected drug event terms input; _meddra/pt_level == “custom” deprecated inferred input. Render forest function flexible: _It allows changing position legend. _Fixed bug providing colors shown. *Updating descriptive comply recent version gtsummary.","code":""}]
