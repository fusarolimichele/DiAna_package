[{"path":"https://fusarolimichele.github.io/DiAna_package/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2043 DiAna authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"requisites","dir":"Articles","previous_headings":"","what":"Requisites","title":"Causal inference","text":"tutorial requires first: installed R R Studio, installed DiAna package, set project folder. Otherwise get back ReadMe follow instructions. also recommended read previous vignettes. particular, disproportionality analysis tutorial extremely recommended.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"start-the-subproject","dir":"Articles","previous_headings":"","what":"Start the subproject","title":"Causal inference","text":"DiAna main project, open new R script run snippet ‘new_FAERS_project’ set project, tailor information thus precompiled (note running analysis including also quarter 24Q1, preprint limited 23Q1).","code":"# Information ----------------------------------------------------------------- ## Project title -------------------------------------------------------------- ### \"Causal inference tools for pharmacovigilance\" ## Data ----------------------------------------------------------------------- ### FDA Adverse Event Reporting System Quarterly Data  ## Authors of the preprint ---------------------------------------------------- ### - Michele Fusaroli ### - Joseph Mitchell ### - Annette Rudolph ### - Elena Rocca ### - Riccardo Fusaroli  ## Version -------------------------------------------------------------------- ### Set up: 2024-07-29 ### Last update: 2024-07-29 ### DiAna version: 2.1.0  # Set up ---------------------------------------------------------------------- ## upload DiAna --------------------------------------------------------------- library(DiAna)  ## Project_path --------------------------------------------------------------- DiAna_path <- here::here() project_name <- \"Causal inference\" project_path <- paste0(DiAna_path, \"/projects/\", project_name) if (!file.exists(project_path)) {   dir.create(project_path) } project_path <- paste0(project_path, \"/\")  ## FAERS_version --------------------------------------------------------------  FAERS_version <- \"24Q1\"  ## Import data ---------------------------------------------------------------- import(\"DRUG\") #>           primaryid   drug_seq       substance role_cod #>               <num>      <int>          <fctr>    <ord> #>        1:   4261825 1004486228        atropine        C #>        2:   4261825 1004486228   diphenoxylate        C #>        3:   4262057 1004487206     amoxicillin       PS #>        4:   4262057 1004487206 clavulanic acid       PS #>        5:   4262057 1004487210        macrogol        C #>       ---                                               #> 69763501: 992001227        580      loratadine       SS #> 69763502: 992001227        581      loratadine       SS #> 69763503: 992001227        582      loratadine       SS #> 69763504: 992001227        586       magnesium        C #> 69763505: 992001227        587       magnesium        C import(\"REAC\") #>           primaryid                            pt drug_rec_act #>               <num>                         <ord>        <ord> #>        1:   4204616                abdominal pain         <NA> #>        2:   4204616          heart rate increased         <NA> #>        3:   4204616                        nausea         <NA> #>        4:   4204616                       pyrexia         <NA> #>        5:   4204616            uterine tenderness         <NA> #>       ---                                                      #> 52222720: 237079291         chemical burn of skin         <NA> #> 52222721: 237079291    toxicity to various agents         <NA> #> 52222722: 237079291                          scar         <NA> #> 52222723: 237203351 injection site discolouration         <NA> #> 52222724: 237203351       injection site bruising         <NA> import(\"DEMO\") #>           primaryid    sex age_in_days wt_in_kgs occr_country event_dt occp_cod          reporter_country rept_cod #>               <num> <fctr>       <num>     <num>       <fctr>    <int>   <fctr>                    <fctr>   <fctr> #>        1:  45217461      M        9855        NA         <NA> 19861106       MD  United States of America      DIR #>        2:  57910401   <NA>          NA        NA         <NA>       NA     <NA>  United States of America      DIR #>        3:  56962401   <NA>          NA        NA         <NA> 19960123     <NA>  United States of America      DIR #>        4:  54662121      F       22630        NA         <NA> 19960919       CN South Africa, Republic of      EXP #>        5:  31231172      F       21535        68         <NA> 19970927       MD  United States of America      EXP #>       ---                                                                                                          #> 17598475: 236937711      F        9490        68         <NA> 20240318       CN  United States of America      DIR #> 17598476: 236937721      M        6205        NA         <NA> 20240101       CN  United States of America      DIR #> 17598477: 236937741      F       13140       134         <NA> 20240322       CN  United States of America      DIR #> 17598478: 237079261      F       15695        90         <NA>       NA       CN  United States of America      DIR #> 17598479: 237079291      M       22265       108         <NA> 20240228       CN  United States of America      DIR #>           init_fda_dt   fda_dt premarketing literature RB_duplicates RB_duplicates_only_susp #>                 <int>    <int>       <lgcl>     <lgcl>        <lgcl>                  <lgcl> #>        1:    19861224 19861224        FALSE      FALSE         FALSE                   FALSE #>        2:    19920917 19920917        FALSE      FALSE         FALSE                   FALSE #>        3:    19960126 19960126        FALSE      FALSE         FALSE                   FALSE #>        4:    19961022 19961022        FALSE      FALSE         FALSE                   FALSE #>        5:    19971203 19971212        FALSE      FALSE         FALSE                   FALSE #>       ---                                                                                    #> 17598475:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598476:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598477:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598478:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE #> 17598479:    20240331 20240331        FALSE      FALSE         FALSE                   FALSE import(\"INDI\") #>           primaryid   drug_seq                                 indi_pt #>               <num>      <int>                                   <ord> #>        1:   4204616 1004278786                        abortion induced #>        2:   4223542 1004334703                         crohn's disease #>        3:   4250482 1004434717                         crohn's disease #>        4:   4261823 1004486217                     bronchial carcinoma #>        5:   4261823 1004486218                     bronchial carcinoma #>       ---                                                              #> 41380269: 992001227        583     product used for unknown indication #> 41380270: 992001227        586     product used for unknown indication #> 41380271: 236936391          1 beta haemolytic streptococcal infection #> 41380272: 237079291          1                    acrochordon excision #> 41380273: 237203351          1     product used for unknown indication import(\"OUTC\") #>           primaryid outc_cod #>               <num>    <ord> #>        1:   4204616       HO #>        2:   4204616       RI #>        3:   4214534       DE #>        4:   4223542       OT #>        5:   4250482       OT #>       ---                    #> 12914603: 986902733       OT #> 12914604: 987122169       HO #> 12914605: 987122169       OT #> 12914606: 992001227       HO #> 12914607: 992001227       OT import_ATC() #>                                      substance    code primary_code   Lvl4 #>                                         <char>  <char>       <char> <char> #>    1:   lutetium (177lu) vipivotide tetraxetan V10XX05      V10XX05  V10XX #>    2:                lutetium (177lu) dotatate V10XX04      V10XX04  V10XX #>    3:                    radium-223 dichloride V10XX03      V10XX03  V10XX #>    4:                     ibritumomab tiuxetan V10XX02      V10XX02  V10XX #>    5:                        lutetium (lu 177)   V10XX        V10XX  V10XX #>   ---                                                                      #> 3205:                         sodium perborate A01AB19      A01AB19  A01AB #> 3206:                                 domiphen A01AB06      A01AB06  A01AB #> 3207:               sodium monofluorophosphate A01AA02      A01AA02  A01AA #> 3208:                          sodium fluoride A01AA01      A01AA01  A01AA #> 3209: stomatological preparations, unspecified    A01A         A01A   A01A #>                                                        Class4   Lvl3                               Class3   Lvl2 #>                                                        <char> <char>                               <char> <char> #>    1:                Various therapeutic radiopharmaceuticals   V10X Other diagnostic radiopharmaceutical    V10 #>    2:                Various therapeutic radiopharmaceuticals   V10X Other diagnostic radiopharmaceutical    V10 #>    3:                Various therapeutic radiopharmaceuticals   V10X Other diagnostic radiopharmaceutical    V10 #>    4:                Various therapeutic radiopharmaceuticals   V10X Other diagnostic radiopharmaceutical    V10 #>    5:                Various therapeutic radiopharmaceuticals   V10X Other diagnostic radiopharmaceutical    V10 #>   ---                                                                                                            #> 3205: Antiinfectives and antiseptics for local oral treatment   A01A          Stomatological preparations    A01 #> 3206: Antiinfectives and antiseptics for local oral treatment   A01A          Stomatological preparations    A01 #> 3207:                              Caries prophylactic agents   A01A          Stomatological preparations    A01 #> 3208:                              Caries prophylactic agents   A01A          Stomatological preparations    A01 #> 3209:                                                    <NA>   A01A          Stomatological preparations    A01 #>                                 Class2   Lvl1                    Class1 #>                                 <char> <char>                    <char> #>    1: Therapeutic radiopharmaceuticals      V                   Various #>    2: Therapeutic radiopharmaceuticals      V                   Various #>    3: Therapeutic radiopharmaceuticals      V                   Various #>    4: Therapeutic radiopharmaceuticals      V                   Various #>    5: Therapeutic radiopharmaceuticals      V                   Various #>   ---                                                                   #> 3205:      Stomatological preparations      A Alimentary and Metabolism #> 3206:      Stomatological preparations      A Alimentary and Metabolism #> 3207:      Stomatological preparations      A Alimentary and Metabolism #> 3208:      Stomatological preparations      A Alimentary and Metabolism #> 3209:      Stomatological preparations      A Alimentary and Metabolism import_MedDRA() #>           def                                            soc                                                  hlgt #>        <char>                                         <char>                                                <char> #>     1:   cong     congenital, familial and genetic disorders        metabolic and nutritional disorders congenital #>     2:    inv                                 investigations          endocrine investigations (incl sex hormones) #>     3:    inv                                 investigations          endocrine investigations (incl sex hormones) #>     4:    inv                                 investigations          endocrine investigations (incl sex hormones) #>     5:    inv                                 investigations          endocrine investigations (incl sex hormones) #>    ---                                                                                                             #> 25408:  inj&p injury, poisoning and procedural complications     procedural related injuries and complications nec #> 25409:   preg pregnancy, puerperium and perinatal conditions pregnancy, labour, delivery and postpartum conditions #> 25410:   surg                surgical and medical procedures   obstetric and gynaecological therapeutic procedures #> 25411:   surg                surgical and medical procedures             male genital tract therapeutic procedures #> 25412:  blood           blood and lymphatic system disorders                            white blood cell disorders #>                                                  hlt                               pt #>                                               <char>                           <char> #>     1:            inborn errors of steroid synthesis   11-beta-hydroxylase deficiency #>     2:                 reproductive hormone analyses            17 ketosteroids urine #>     3:                 reproductive hormone analyses  17 ketosteroids urine decreased #>     4:                 reproductive hormone analyses  17 ketosteroids urine increased #>     5:                 reproductive hormone analyses     17 ketosteroids urine normal #>    ---                                                                                #> 25408:    non-site specific procedural complications     incision site skin puckering #> 25409:         normal pregnancy, labour and delivery spontaneous rupture of membranes #> 25410:                 cervix therapeutic procedures           cervix stent placement #> 25411: male genital tract therapeutic procedures nec           sperm cryopreservation #> 25412:                        eosinophilic disorders      paraneoplastic eosinophilia  ## Tutorial -------------------------------------------------------------------"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"statistical-and-causal-dependence","dir":"Articles","previous_headings":"Start the subproject","what":"Statistical and causal dependence","title":"Causal inference","text":"inquiry (grey arrow question mark) concerns existence direct causal relationship drug event. Assuming, sake example, simplified scenario factor involved, sample size sufficient reliably exclude chance association, reporting bias, two possible scenarios: statistical independence suggesting causal independence statistical dependence suggesting causal dependence. Disproportionality analysis helps discriminate two scenarios.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"statistical-independence","dir":"Articles","previous_headings":"Start the subproject > Statistical and causal dependence","what":"Statistical independence","title":"Causal inference","text":"Based know, expect paracetamol causal dependence breast cancer. reason expect find association (statistical dependence) two. Note negative association find interpreted existence protective effect paracetamol breast cancer. First, DPA amongst goals identify early warnings ADRs, unexpected positive effects. Second, DPA relies reports likely representative patients susceptibility event administered drug. example imagine patients breast cancer less likely record paracetamol favour anticancer drugs relative patients diseases. Whether causal inference informed pharmacovigilance make better use negative associations outside scope tutorial.","code":"## Tutorial ------------------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = \"paracetamol\",   reac_selected = \"breast cancer\" ) paste0(\"IC = \",disproportionality_df$label_IC) #> [1] \"IC = -1.63 (-1.72--1.57) [1511]\" render_forest(disproportionality_df)"},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"direct-causality","dir":"Articles","previous_headings":"Start the subproject > Statistical and causal dependence > Statistical dependence","what":"Direct causality","title":"Causal inference","text":"well known example direct causality (actual adverse drug reaction) pramipexole-induced impulse-control disorder. find strong association reporting pramipexole reporting impulse-control disorders.","code":"disproportionality_df <- disproportionality_analysis(   drug_selected = \"pramipexole\",   reac_selected = \"impulse-control disorder\" ) paste0(\"IC = \",disproportionality_df$label_IC) #> [1] \"IC = 6.78 (6.61-6.89) [418]\" render_forest(disproportionality_df)"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"reverse-causality","dir":"Articles","previous_headings":"Start the subproject > Statistical and causal dependence > Statistical dependence","what":"Reverse causality","title":"Causal inference","text":"occurrence event may justify administration drug, case event indication using drug. example, edaravone used treat amyotrophic lateral sclerosis, expect find association two (DPA discriminate direct reverse causality). cases, clinical reasoning crucial correctly assess association.","code":"disproportionality_df <- disproportionality_analysis(   drug_selected = \"edaravone\",   reac_selected = \"amyotrophic lateral sclerosis\" ) paste0(\"IC = \",disproportionality_df$label_IC) #> [1] \"IC = 7.7 (7.46-7.88) [189]\" render_forest(disproportionality_df)"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"confounding-bias","dir":"Articles","previous_headings":"Start the subproject","what":"Confounding bias","title":"Causal inference","text":"Many pharmacovigilance biases can reframed confounding biases, , open backdoor paths information flows even absence causal dependencies, thus potentially resulting spurious association. cases solution : closing backdoor, conditioning directly element - confounder C -, nodes backdoor path.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"confounding-by-indication","dir":"Articles","previous_headings":"Start the subproject > Confounding bias","what":"Confounding by indication","title":"Causal inference","text":"Let us consider case indication bias (event associated drug fact caused drug indication). investigate relation haloperidol gambling, indeed find positive statistical association data (grey estimate). However, need consider schizophrenia likely common cause : schizophrenia approved indication haloperidol, often associated impulsivity. Since patients prescribed haloperidol likely schizophrenia, patients schizophrenia tend impulsive, might observe association haloperidol impulsivity even without causal effect D E. thus condition schizophrenia, instance restricting analysis reports recording schizophrenia among indications. , association haloperidol impulsivity disappears (gold estimate), suggesting lack causation. Note, however, restricting analysis reports mention schizophrenia effective closing backdoor: many reports might still pertain patients schizophrenia without specifying , indeed reports observe positive association (blue estimate) also observe without conditioning. scenario, appropriately conditioning confounder allowed us discard spurious signal disproportionate reporting signal refinement. negative association get suggest protective effect haloperidol impulsivity. seems indeed case: treating (aspects ) schizophrenia, also causes impulsivity, haloperidol can reduce impulsivity. However, pharmacovigilance negative associations typically considered. caution driven specific features disproportionality analysis. First, DPA amongst goals identify early warnings ADRs, unexpected positive effects. Second, DPA relies reports likely representative patients susceptibility event administered drug. Whether causal inference informed pharmacovigilance make better use negative associations outside scope tutorial.","code":"pids_schizophrenia <- unique(Indi[indi_pt%in%MedDRA[hlgt==\"schizophrenia and other psychotic disorders\"]$pt]$primaryid)  restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"schizophrenia\"=list(pids_schizophrenia))#,\"not_schizophrenia\"=list(setdiff(unique(Demo$primaryid),pids_schizophrenia))) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"haloperidol\",                                     reac_selected = \"gambling disorder\",                                     meddra_level = \"pt\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }   disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"not_schizophrenia\",\"main\",\"schizophrenia\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>           nested                label_IC #>            <ord>                  <char> #> 1:          main   2.19 (1.69-2.54) [45] #> 2: schizophrenia -0.91 (-1.64--0.4) [21] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"confounding-by-comorbidity","dir":"Articles","previous_headings":"Start the subproject > Confounding bias","what":"Confounding by comorbidity","title":"Causal inference","text":"Another instance involves issue confounding comorbidity (comorbidity indication using drug real cause event). , focus might investigating whether quetiapine leads osteoporosis. However, since quetiapine often prescribed schizophrenia, frequently co-occurs alcoholism—known risk factor osteoporosis—encounter positive confounding effect. means find statistical dependence (grey estimate) even absence causal dependence. condition reports alcoholism, association tends vanish (gold estimate), although determine whether simply due increased uncertainty, since small number reports mentions alcoholism-related terms. Alternatively, restrict schizophrenia reports, mitigate positive confounding effect. Note, however, restriction also address negative confounding factor depicted Directed Acyclic Graph (DAG): association schizophrenia younger age, correlates reduced risk osteoporosis. reason always important remember DAG help causal inference, inferences true long assumptions drawn DAG verified (may distorted incomplete wrong DAG). Thus, impact conditioning less straightforward predict. Another possibility restrict reports without mentions alcoholism (blue estimate), however, alcoholism drastically -reported ICSRs, conditioning unlikely effective closing backdoor path - information still flow reports alcoholic patients, reporting alcoholism.","code":"alcoholism <- c(\"alcoholism\",\"alcohol problem\",\"alcoholic encephalopathy\",\"alcoholic coma\",                 \"alcohol use disorder\",\"alcoholic ketoacidosis\",\"ex-alcohol user\",                 \"alcoholic pancreopathy\",\"ex-alcoholic\",\"alcoholic pancreatitis\",                 \"prophylaxis against alcoholic withdrawal syndrome\",                 \"alcoholic seizure\",\"alcohol rehabilitation\",\"alcohol withdrawal syndrome\",                 \"alcohol detoxification\",\"alcohol use\",\"social alcohol drinker\",                 \"polyneuropathy alcoholic\",\"hepatitis alcoholic\",\"gastritis alcoholic haemorrhagic\",                 \"gastritis alcoholic\",\"fatty liver alcoholic\",\"cirrhosis alcoholic\",                 \"cardiomyopathy alcoholic\",\"amblyopia alcohol\",\"alcoholic psychosis\",                 \"alcoholic pseudo cushing's syndrome\",\"alcoholic liver disease\",                 \"alcoholic hangover\",\"alcohol poisoning\",\"alcohol induced persisting dementia\",                 \"alcohol abuse\") pids_alcoholism <- union(Reac[pt%in%alcoholism]$primaryid,Indi[indi_pt%in%alcoholism]$primaryid) restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"alcoholism\"=list(pids_alcoholism))#,                   #   \"non-alcoholism\"=list(setdiff(Demo$primaryid,pids_alcoholism)))  disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"quetiapine\",                                     reac_selected = \"osteoporosis\",                                     meddra_level = \"pt\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }  disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"non-alcoholism\",\"main\",\"alcoholism\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>        nested               label_IC #>         <ord>                 <char> #> 1:       main 0.59 (0.44-0.69) [526] #> 2: alcoholism  0.21 (-1.86-1.41) [3] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"confounding-by-differential-prescription","dir":"Articles","previous_headings":"Start the subproject > Confounding bias","what":"Confounding by differential prescription","title":"Causal inference","text":"third example concerns confounding differential prescription (allocation bias/channelling bias). statistical dependence (lack ) generated existence differential prescriptive habits subgroups different susceptibility event. investigate relation nivolumab risk preterm birth, find negative statistical association (grey estimate), , evidence positive association, according pharmacovigilance standards (see footnote 2). However, pregnancy associated risk event (pregnancy, preterm delivery), lower use nivolumab. drug indeed unlikely used pregnancy due lower probability cancer fertile age lack safety evidence population (partial contraindication). Drawing DAG, can infer confounding push towards negative association (odd number minus signs): nivolumab less used pregnancy therefore less co-reported preterm birth. Restricting cases pregnancy, positive association nivolumab preterm birth emerges (gold estimate). instance, conditioning confounder led missing potential safety signal signal detection.","code":"pids_pregnancy_indi <- unique(Indi[indi_pt%in%MedDRA[soc==\"pregnancy, puerperium and perinatal conditions\"]$pt]$primaryid) pids_pregnancy_reac <- unique(Reac[pt%in%MedDRA[soc==\"pregnancy, puerperium and perinatal conditions\"]$pt]$primaryid) pids_pregnancy <- union(pids_pregnancy_indi,pids_pregnancy_reac)  restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"pregnancy\"=list(pids_pregnancy)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"nivolumab\",                                     reac_selected = list(\"preterm birth\"=list(\"premature baby\",\"premature delivery\")),                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) } disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"main\",\"pregnancy\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>       nested                 label_IC #>        <ord>                   <char> #> 1:      main -2.11 (-2.62--1.74) [42] #> 2: pregnancy    1.04 (0.53-1.41) [42] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"confounding-by-coprescription","dir":"Articles","previous_headings":"Start the subproject > Confounding bias","what":"Confounding by coprescription","title":"Causal inference","text":"Confounding due co-prescription generated frequent coprescription drug interest drug real cause event. examining potential link hydrochlorothiazide dysphonia, important consider hydrochlorothiazide commonly co-prescribed valsartan, causes dysphonia coughing. restricting reports mentioning valsartan (gold estimate), can infer observed association drug event (grey estimate) likely solely due co-prescription valsartan. confounding comorbidity co-prescription see restricting reports recording value (blue estimate) seem affect IC estimate, likely due residual unaccounted confounding.","code":"pids_valsartan <- unique(Drug[substance==\"valsartan\"]$primaryid)  restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"valsartan\"=list(pids_valsartan))#,                      #\"non-valsartan\"=list(setdiff(Demo$primaryid,pids_valsartan))) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"hydrochlorothiazide\",                                     reac_selected = \"dysphonia\",                                     meddra_level = \"pt\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }  disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"non-valsartan\",\"main\",\"valsartan\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>       nested                label_IC #>        <ord>                  <char> #> 1:      main 0.91 (0.83-0.97) [1678] #> 2: valsartan 0.01 (-0.23-0.18) [193] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"confounding-by-demographic-factor","dir":"Articles","previous_headings":"Start the subproject > Confounding bias","what":"Confounding by demographic factor","title":"Causal inference","text":"Lastly, demographic factors can also introduce confounding. instance, exploring potential link trastuzumab prostate cancer, must consider among individuals receiving trastuzumab (primarily breast cancer), small subset male thus risk prostate cancer. demographic confounding can decrease statistical dependence (grey estimate), although remains statistically significant focusing solely males (gold estimate).","code":"pids_male <- Demo[sex==\"M\"]$primaryid  restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"male\"=list(pids_male)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"trastuzumab\",                                     reac_selected = \"prostate cancer\",                                     meddra_level = \"pt\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) } disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"main\",\"male\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>    nested                label_IC #>     <ord>                  <char> #> 1:   main  -6.69 (-9.28--5.3) [2] #> 2:   male -3.77 (-6.36--2.38) [2] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"gray45\",\"goldenrod\"))"},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"collider-bias-by-outcome","dir":"Articles","previous_headings":"Start the subproject > Collider bias","what":"Collider bias by outcome","title":"Causal inference","text":"investigate causal dependence Chimeric Antigen Receptor T (CAR-T) therapy infections, find positive statistical association (grey estimate). limit analysis reports mention death one outcomes find even stronger association (red estimate). CAR-T therapies reduce mortality, infections may lead mortality, thus restricting reports mentioning death opens path likely introduces positive distortion data. , restrict reports mentioning death, produce noisy inference (blue estimate).","code":"#> Error in knitr::include_graphics(\"causal_inference-outc.png\", dpi = 144): Cannot find the file(s): \"causal_inference-outc.png\" pids_death <- unique(Outc[outc_cod==\"DE\"]$primaryid) restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"Dead\"=list(pids_death))#,\"non_Dead\"=list(setdiff(unique(Demo$primaryid),pids_death))) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"axicabtagene ciloleucel\",                                     reac_selected = \"infections and infestations\",                                     meddra_level = \"soc\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) } disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"non_Dead\",\"main\",\"Dead\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>    nested                label_IC #>     <ord>                  <char> #> 1:   main 0.52 (0.41-0.59) [1047] #> 2:   Dead     1 (0.84-1.12) [416] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"red\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"collider-bias-by-prophylaxis","dir":"Articles","previous_headings":"Start the subproject > Collider bias","what":"Collider bias by prophylaxis","title":"Causal inference","text":"investigate relation aspirin gastric ulcer, find positive statistical association (grey estimate). However, wary conditioning whether report also mentions proton pump inhibitors (PPIs). PPIs can indeed used treat gastric ulcer – administered together aspirin - prevent . case, condition use proton pump inhibitors (red estimate), expected association aspirin gastric ulcer going biased towards null: among patients taking PPIs, taking aspirin likely prophylaxis therefore already gastric ulcer. Therefore, conditioning collider risk losing potential signal. , observe restricting reports mention PPIs (blue estimate) minimal impact IC estimate. likely reporting rate PPIs suspected drug presumed low.","code":"pids_PPI <- unique(Drug[substance%in%ATC[Class4==\"Proton pump inhibitors\"]$substance]$primaryid)  restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"PPI\"=list(pids_PPI))#,\"non_PPI\"=list(setdiff(unique(Demo$primaryid),pids_PPI))) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"acetylsalicylic acid\",                                     reac_selected = \"gastric ulcer\",                                     meddra_level = \"pt\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) } disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"non_PPI\",\"main\",\"PPI\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>    nested                label_IC #>     <ord>                  <char> #> 1:   main 1.91 (1.85-1.95) [2852] #> 2:    PPI  0.15 (0.03-0.24) [746] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"red\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"collider-bias-by-double-mechanism","dir":"Articles","previous_headings":"Start the subproject > Collider bias","what":"Collider bias by double mechanism","title":"Causal inference","text":"Another scenario arises aware drug induces event, suspected reaction may contribute event (.e., potential indirect effect drug). example, interested causal dependence Glucagone Like Peptide GLP 1-agonists anxiety, statistical association negative (grey estimate). However, wary GLP 1-agonists anxiety cause weight-loss. Therefore, condition weight-loss open path introduce negative collider bias (red estimate). case, direction statistical association change, can anticipate confirm shift towards negative estimate. , restricting reports mention weight loss change outcome (blue estimate).","code":"pids_weight <- union(Reac[pt%in%c(\"weight decreased\")]$primaryid,                      Indi[indi_pt%in%c(\"weight decreased\")]$primaryid) restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"weight loss\"=list(pids_weight))#                      #,\"non-weight loss\"=list(setdiff(Demo$primaryid,pids_weight)))  disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=list(\"GLP1-agonist\"=list(\"liraglutide\",\"exenatide\",\"semaglutide\",\"dulaglutide\")),                                     reac_selected = \"anxiety disorders and symptoms\",                                     meddra_level = \"hlgt\",                                                          restriction = t_pids)[,nested:=t_name]                                     disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }  disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"non-weight loss\",\"main\",\"weight loss\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>         nested                   label_IC #>          <ord>                     <char> #> 1:        main -0.26 (-0.31--0.23) [5114] #> 2: weight loss  -1.31 (-1.42--1.23) [906] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"red\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"information-bias","dir":"Articles","previous_headings":"Start the subproject","what":"Information bias","title":"Causal inference","text":"report information presence absence exposure, outcome, confounder, collider affected measurement error. deriving bias known information component, can similarly addressed strategies described . examples.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"ascertainment-bias","dir":"Articles","previous_headings":"Start the subproject > Information bias","what":"Ascertainment bias","title":"Causal inference","text":"Ascertainment bias occurs exposure drug determines increased attention reporting rate specific event. Taking clozapine, risk agranulocytosis, results frequent blood tests higher probability detecting reporting hyperkalaemia. reason, analysis entire population (grey estimate), gives higher (still significant) IC restrict reports recording investigation (gold estimate).","code":"pids_investigations <- Reac[pt%in%MedDRA[soc==\"investigations\"]$pt]$primaryid restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"investigation\"=list(pids_investigations)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"clozapine\",                                     reac_selected = \"hyperkalaemia\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) } disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"main\",\"investigation\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>           nested                 label_IC #>            <ord>                   <char> #> 1:          main  -1.7 (-2.13--1.39) [60] #> 2: investigation -2.25 (-2.94--1.77) [24] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"surrogate-confounder-and-missing-data","dir":"Articles","previous_headings":"Start the subproject > Information bias","what":"Surrogate confounder and missing data","title":"Causal inference","text":"Finally, missing data common issue ICSRs suspected drug reaction mandatory fields reporting system. instance, investigating whether cisplatin causes thrombosis, find association (grey estimate) recognize cancer likely common cause exposure outcome. may condition confounder either restricting reports recording cancer among indications reports recording antineoplastic agent (blue estimates), may lead small sample reduced accuracy missing information. address challenge, might restrict reports satisfying two inclusion criteria (gold estimate).","code":"pids_onco_indi <- Indi[indi_pt%in%MedDRA[soc==\"neoplasms benign, malignant and unspecified (incl cysts and polyps)\"]$pt]$primaryid pids_onco_drug <- Drug[substance%in%c(ATC[Class2==\"Antineoplastic\"]$substance,                                       \"navitoclax\")]$primaryid pids_onco_drugindi <- union(pids_onco_drug,pids_onco_indi) restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"onco_drug\"=list(pids_onco_drug),\"onco_indi\"=list(pids_onco_indi),\"onco_drugindi\"=list(pids_onco_drugindi)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"cisplatin\",                                     reac_selected = \"thrombosis\",                                     meddra_level = \"pt\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }  disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"onco_drug\",\"onco_indi\",\"main\",\"onco_drugindi\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>           nested                  label_IC #>            <ord>                    <char> #> 1:          main    0.43 (0.26-0.55) [376] #> 2:     onco_drug    0.19 (0.02-0.32) [376] #> 3:     onco_indi -0.52 (-0.71--0.38) [300] #> 4: onco_drugindi -0.24 (-0.41--0.11) [376] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"blue\",\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"reporting-bias","dir":"Articles","previous_headings":"Start the subproject","what":"Reporting bias","title":"Causal inference","text":"Reporting biases instead characterized fact specific episodes drug-event combination may reported , preferential reporting may affected differently cases non-cases. point, discussion assumed direct access drug exposure event incidence rates therefore mostly ignored ICSRs reports likely generated biased measurement processes. Indeed, many drug-event co-occurrences never reported (underreporting) due, instance, lack awareness motivation patient /clinician, complexity time demands submitting report. Perhaps even worrisome, drug exposure without adverse events reported, events occurring without drug administration. account scenarios, DAGs incorporate biases differentially affect baseline reported occurrences cases interest. following DAGs, accordingly introduce measurements underlying variables, denoted asterisk *, partly deviate traditional DAG conventions. particular, disproportionality can directly assessed know often drug D used – without occurrence event E - often event E occurs – without administration D. However, access data. Rather, disproportionality analyses calculate measures drug use (D) relying number reports drug event interest (DE) number reports drug interest events (DnE, rather directly counting patients taking drug experiencing event), compared reports (drug-event occurrences) mentioning drug (nD). Analogously, access occurrence event E, rely number reports drug event interest (DE) reports event co-occurring drugs D (nDE), compared reports mentioning event (nE). measurements used calculate IC measure association D E* , present measurement errors (reporting biases, R), can introduce inaccuracies imprecision inference. utility IC surrogate measure association drug event based key assumption reporting bias equally affect reporting drugs events (independent reporting bias). problem arises dependent reporting bias, differentially affecting four different measures (DE, nDE, DnE, nDnE). can distinguish positive negative reporting biases based whether amplify (.e., increase DE* /nDnE) dampen IC (.e., increase DnE* /nDE). can tackle reporting biases restricting analyses reports affected biased measurement error, principle – although done yet practice – explicitly include estimates measurement error model mitigation factors. Reporting rates can vary depending report type (e.g., spontaneous, solicited, literature case report), reporter’s expertise (misclassification bias, e.g., use ambiguous terms refer speech impairment) diverse reporting habits among different reporter types (e.g., medical doctors, patients, lawyers), regulatory systems, settings use. variability way pharmacovigilance officers code verbatim events recorded patients MedDRA might affect downstream statistical analyses. anticipating differential effects, may appropriate consider restrictions, even predicting exact direction distortion often challenging: e.g., severity event might increase reporting rate, therefore DE (inflates IC) nDE* (deflates IC). better investigated reporting biases, exact direction distortion can predicted.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"notoriety-bias","dir":"Articles","previous_headings":"Start the subproject > Reporting bias","what":"Notoriety bias","title":"Causal inference","text":"Let us take example notoriety bias, may affect healthcare professionals patients. regulatory warnings issued, healthcare professionals may become aware inclined report specific drug-event combinations. Similarly, highly publicized cases can attract media attention, leading public higher awareness inclination report. inflates DE* reporting rate compared reporting just drug event alone, therefore inflates IC (grey estimate). address bias, can, instance, restrict DPA reports collected regulatory warning, enough cases available, thereby conditioning source bias (gold estimate). proof concept, can restrict cases following regulatory warning obtain inflated statistical dependence (blue estimate).","code":"pids_warning <- Demo[init_fda_dt<20160503]$primaryid restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"pre-warning\"=list(pids_warning),                      \"post-warning\"=setdiff(Demo$primaryid,pids_warning)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"aripiprazole\",                                     reac_selected = \"hypersexuality\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) } disproportionality_df <- disproportionality_df[,nested:=factor(nested, levels=c(\"post-warning\",\"main\",\"pre-warning\"),ordered=TRUE)] disproportionality_df[,.(nested,label_IC)] #>          nested               label_IC #>           <ord>                 <char> #> 1:         main 5.19 (5.03-5.32) [383] #> 2:  pre-warning  2.68 (1.84-3.27) [16] #> 3: post-warning 5.45 (5.28-5.58) [367] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"lawyers-reports","dir":"Articles","previous_headings":"Start the subproject > Reporting bias","what":"Lawyers reports","title":"Causal inference","text":"notoriety bias similarly acting precautionary bias (e.g., reports patient support programs, increased reporting rate) characterized differential underreporting: DE reported – .e., less underreported - background cases. Conversely, reports may even occur lack actual event – case superficial diagnostic verification (e.g., reporting drug-induced liver injury without verifying diagnostic criteria) malicious reporting (speculated court litigations) – may proliferate single report many duplicates. differential reporting DE* can dealt conditioning source bias: e.g., removing reports lawyers duplicates. instance, investigating causal dependence aripiprazole gambling, find positive association (grey estimate). However, due potential malicious reporting lawyers within court litigation, result may reliable. inspect potential bias, restrict reports produced lawyers find smaller still significant association (gold estimate). proof concept, can restrict reports produced lawyers find bigger association (blue estimates). ’s important note reports valuable, illustrated FDA warning aripiprazole-induced impulse control disorders 2016, relied reports patients lawyers (REF DAA partial). Hence, reports encouraged, considerations potential bias limited analysis data collection. Based DAG, sensitivity quantitative qualitative analyses can performed restricting specific subpopulations account expected biases. conducting sensitivity analyses, raw disproportionality result result sensitivity analysis reported discussed together.","code":"pids_lawyers <- Demo[occp_cod==\"LW\"]$primaryid restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"lawyers\"=list(pids_lawyers),                      \"non-lawyers\"=setdiff(Demo$primaryid,pids_lawyers)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"aripiprazole\",                                     reac_selected = \"gambling disorder\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }  disproportionality_df[,.(nested,label_IC)] #>         nested                label_IC #>         <char>                  <char> #> 1:        main 6.27 (6.19-6.32) [2014] #> 2:     lawyers 7.68 (7.58-7.75) [1118] #> 3: non-lawyers  5.56 (5.45-5.64) [896] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"blue\",\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"masking","dir":"Articles","previous_headings":"Start the subproject > Reporting bias","what":"Masking","title":"Causal inference","text":"Masking/cloaking additional example reporting bias can take form drug-competition bias (increased reporting rate event drugs nDE*) event competition bias (increased reporting rate drug events DnE*), may also derive notoriety biases sharing DE exclusively drug event. bias likely dampens IC can tackled removing database reports competing drug-event pair. fact distortions induced masking evident compared effect biases presented manuscript agreement previous studies question importance.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"drug-competition-bias","dir":"Articles","previous_headings":"Start the subproject > Reporting bias > Masking","what":"Drug competition bias","title":"Causal inference","text":"Investigating causal dependence cariprazine gambling, find statistical dependence (grey estimate) nonetheless increases even remove reports gambling competing dopamine agonists (gold estimate).","code":"pids_unmasked <- setdiff(Demo$primaryid,Drug[substance%in%ATC[Class4==\"Dopamine agonists\"]$substance]$primaryid) pids_unmasked <- setdiff(Demo$primaryid,intersect(Drug[substance%in%ATC[Class4==\"Dopamine agonists\"]$substance]$primaryid,Reac[pt==\"gambling disorder\"]$primaryid)) restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"unmasked\"=list(pids_unmasked)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"cariprazine\",                                     reac_selected = \"gambling disorder\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }  disproportionality_df[,.(nested,label_IC)] #>      nested              label_IC #>      <char>                <char> #> 1:     main 3.23 (2.43-3.78) [18] #> 2: unmasked    3.79 (3-4.34) [18] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Causal_inference.html","id":"event-competition-bias","dir":"Articles","previous_headings":"Start the subproject > Reporting bias > Masking","what":"Event competition bias","title":"Causal inference","text":"Similarly, investigating causal dependence warfarin skin discoloration observe statistical dependence (grey estimate) even increase remove reports warfarin competing event bleeding (gold estimate).","code":"pids_unmasked <- setdiff(Demo$primaryid,intersect(Reac[pt%in%MedDRA[grepl(\"bleeding|haemorrhage\",pt)]$pt]$primaryid,Drug[substance==\"warfarin\"]$primaryid)) restrictions <- list(\"main\"=list(unique(Demo$primaryid)),\"unmasked\"=list(pids_unmasked)) disproportionality_df <- data.table() for (n in 1:length(restrictions)){   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(drug_selected=\"warfarin\",                                     reac_selected = \"skin discolouration\",                                     restriction = t_pids)[,nested:=t_name]   disproportionality_df <- rbindlist(list(disproportionality_df,df),fill = TRUE) }  disproportionality_df[,.(nested,label_IC)] #>      nested               label_IC #>      <char>                 <char> #> 1:     main 0.99 (0.88-1.06) [967] #> 2: unmasked    1 (0.88-1.08) [835] render_forest(disproportionality_df,nested = \"nested\",nested_colors=c(\"gray45\",\"goldenrod\"))"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"requisites","dir":"Articles","previous_headings":"","what":"Requisites","title":"Disproportionality Analysis","text":"tutorial requires first: installed R R Studio, installed DiAna package, set project folder. Otherwise get back ReadMe follow instructions. also recommended, necessary, read previous vignettes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"start-the-subproject","dir":"Articles","previous_headings":"","what":"Start the subproject","title":"Disproportionality Analysis","text":"DiAna main project, open new R script run snippet ‘new_FAERS_project’ set project.","code":"# Information ----------------------------------------------------------------- ## Project title -------------------------------------------------------------- ### v02_Disproportionality analysis ## Data ----------------------------------------------------------------------- ### FDA Adverse Event Reporting System Quarterly Data  ## Authors -------------------------------------------------------------------- ### Michele Fusaroli  ## Version -------------------------------------------------------------------- ### Set up: 2024-07-29 ### Last update: 2024-07-29 ### DiAna version: 2.1.0  # Set up ---------------------------------------------------------------------- ## upload DiAna --------------------------------------------------------------- library(DiAna)  ## Project_path --------------------------------------------------------------- DiAna_path <- here::here() project_name <- \"v02_Disproportionality_Analysis\" project_path <- paste0(DiAna_path, \"/projects/\", project_name) if (!file.exists(project_path)) {   dir.create(project_path) } project_path <- paste0(project_path, \"/\")  ## FAERS_version --------------------------------------------------------------  FAERS_version <- \"24Q1\"  ## Import data ---------------------------------------------------------------- import(\"DRUG\") #>           primaryid   drug_seq       substance role_cod #>               <num>      <int>          <fctr>    <ord> #>        1:   4261825 1004486228        atropine        C #>        2:   4261825 1004486228   diphenoxylate        C #>        3:   4262057 1004487206     amoxicillin       PS #>        4:   4262057 1004487206 clavulanic acid       PS #>        5:   4262057 1004487210        macrogol        C #>       ---                                               #> 69763501: 992001227        580      loratadine       SS #> 69763502: 992001227        581      loratadine       SS #> 69763503: 992001227        582      loratadine       SS #> 69763504: 992001227        586       magnesium        C #> 69763505: 992001227        587       magnesium        C import(\"REAC\") #>           primaryid                            pt drug_rec_act #>               <num>                         <ord>        <ord> #>        1:   4204616                abdominal pain         <NA> #>        2:   4204616          heart rate increased         <NA> #>        3:   4204616                        nausea         <NA> #>        4:   4204616                       pyrexia         <NA> #>        5:   4204616            uterine tenderness         <NA> #>       ---                                                      #> 52222720: 237079291         chemical burn of skin         <NA> #> 52222721: 237079291    toxicity to various agents         <NA> #> 52222722: 237079291                          scar         <NA> #> 52222723: 237203351 injection site discolouration         <NA> #> 52222724: 237203351       injection site bruising         <NA>  ## Input files ----------------------------------------------------------------  ## Output files ---------------------------------------------------------------  ## Definitions ----------------------------------------------------------------  ## Reference groups -----------------------------------------------------------  ## Descriptive analysis -------------------------------------------------------  ## Disproportionality analysis ------------------------------------------------  ## Case by case analysis ------------------------------------------------------"},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"basic-application","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Basic application","title":"Disproportionality Analysis","text":"Let’s explore disproportionality_analysis function. investigating possibility role “aripiprazole” causing “impulse control disorder” (ICD), therefore draft definitions objects study. Already using simple definitions, can ran simplest disproportionality analysis: want save object called disproportionality_df, results disproportionality analysis drug reaction specified. run command message appears console: “events selected found database, check following terms misspelling alternative nomenclature: impulse control disorder. like revise query? (Yes//cancel)”. message implies exact term “impulse control disorder” exists database. can proceed? write “Yes” console run command “return”. function warns us revise query, definition object study. can check correct spelling? can look MedDRA , quickly search directly database following command, run just console since need keep script. Tab 1: MedDRA Preferred Terms including substring impuls. previous command can read : “within database Reac, count many times (.N) preferred term occurs (=”pt”). order pt decreasing N (order(-N)). Finally, filter rows pattern “impuls” pt. can see two terms plausibly include analysis: impulsive behaviour, term used even even consider , “impulse-control disorder” term wanted consider also dash first two words. First, let’s fix definition. get back definition section script fix including dash reaction pt follows rerun disproportionality analysis: Tab 2: Disproportionality dataframe structure. time error appears, seconds can see environment (window pane usually upper right) populated dataset called disproportionalitY_df. Calling name object prints console, can see object now dataset one row (per drug-event combination) 19 columns, including name substance event, instances contingency table, median 95% confidence interval Reporting Odds Ratio ROR Information component, results summarised string following format “median (lower limit-upper limit) [N cases]”. Bonferroni column specifies whether ROR still significant correcting multiple comparison, two columns summarise whether signal exists (SDR) (SDR) exists disappear correction multiple comparison (weak SDR). case found signal disproportionate reporting using analyses. columns exist simplify input functions, , example, visualization using render_forest. forest plots see x axis information component (default) ROR specify index parameter. median shown using dot, whose size proportional number cases. 95% confidence interval shown line. dashed vertical axis (0 IC 1 ROR) highlights threshold statistical significance, compared lower limit confidence interval must higher identify signal disproportionate reporting. case, identified clear signal disproportionate reporting using methods.","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\" reac_selected <- \"impulse control disorder\" ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) Reac[, .N, by = \"pt\"][order(-N)][grepl(\"impuls\", pt)] ## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\" reac_selected <- \"impulse-control disorder\"  ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, index = \"IC\") render_forest(disproportionality_df, index = \"ROR\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"extend-queries","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Extend queries","title":"Disproportionality Analysis","text":"said , definition exhaustive, risk missing many cases impulsivity used different PT “impulse-control disorder”. fact undetected cases part background reference group potentially distort results. can extend definition? Let’s go back definition paragraph add interesting terms definition impulse-control disorder, using named list. Tab 3: Disproportionality results extending query impulsivity. see now number cases increased 286 701, still find SDR.","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\" reac_selected <- list(\"impulse-control disorder\" = list(   \"impulse-control disorder\",   \"impulsive behaviour\" ))  ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df)"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"multiple-queries","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Multiple queries","title":"Disproportionality Analysis","text":"Taking , consider impulsivity manifests often pervasive behaviors, gambling, compulsive shopping, hyperphagia, hypersexuality. add extended query impulse-control disorders refined years (see Parkinsonism Related Disorders 90 (2021) 79–83 documentation obtained first definition combining scoping review disproportionality analysis). also use feature disproportionality_analysis function run analysis parallel several possible behavioral manifestations impulsivity, just adding named elements list. Specifically, first define named list called ICDs subqueries related different manifestations (e.g., gambling disorder reported either gambling disorder gambling), run rlist append store reac_selected parameter individual sub-queries full query. run analysis see message terms (“erotophonophilia” “frotteurism” found, case know terms spelled correctly (just case noone used FAERS yet) run “” console let analysis proceed. case also add parameter render_forest function, make print event different line Tab 4: Disproportionality results considering also specific behaviors. results now show 16 rows (one per drug-event combination), found SDR apart excessive exercise overwork found less 3 cases (minimum identify SDR IC. can see render forests confidence interval larger combinations fewer cases (compare different size dots).","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- \"aripiprazole\"  ICDs <- list(   \"gambling disorder\" = list(\"gambling disorder\", \"gambling\"),   \"hypersexuality\" = list(     \"compulsive sexual behaviour\",     \"hypersexuality\",     \"excessive masturbation\",     \"excessive sexual fantasies\",     \"libido increased\",     \"sexual activity increased\",     \"kluver-bucy syndrome\"   ),   \"paraphilia\" = list(     \"erotophonophilia\", \"exhibitionism\",     \"fetishism\", \"frotteurism\",     \"masochism\", \"paraphilia\", \"paedophilia\",     \"sadism\", \"transvestism\", \"voyeurism\",     \"sexually inappropriate behaviour\"   ),   \"compulsive shopping\" = list(\"compulsive shopping\"),   \"hyperphagia\" = list(     \"binge eating\", \"food craving\", \"hyperphagia\",     \"increased appetite\"   ),   \"gaming disorder\" = list(\"gaming disorder\"),   \"pyromania\" = list(\"pyromania\"),   \"kleptomania\" = list(\"kleptomania\", \"shoplifting\"),   \"compulsive hoarding\" = list(\"compulsive hoarding\"),   \"excessive exercise\" = list(\"excessive exercise\"),   \"overwork\" = list(\"overwork\"),   \"poriomania\" = list(\"poriomania\"),   \"body-focused disorder\" = list(     \"compulsive cheek biting\",     \"compulsive lip biting\",     \"dermatillomania\",     \"dermatophagia\", \"nail picking\",     \"compulsive handwashing\",     \"trichotemnomania\",     \"trichotillomania\", \"onychophagia\",     \"thumb sucking\"   ),   \"stereotypy\" = list(\"automatism\", \"stereotypy\"),   \"impulsivity\" = list(     \"impulse-control disorder\",     \"impulsive behaviour\",     \"disinhibition\", \"behavioural addiction\",     \"abnormal behaviour\"   ) ) reac_selected <- rlist::list.append(ICDs, \"ICD\" = as.list(unlist(purrr::flatten(ICDs))))  ## Disproportionality analysis ---------------------------------------------------------- disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, row = \"event\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"positive-and-negative-controls","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Positive and negative controls","title":"Disproportionality Analysis","text":"considerations can fact performed also drug (may want check association aripiprazole alone pharmacological class group (third generation antipsychotics: also brexpiprazole cariprazine), can used include also negative positive controls: may include “pramipexole” positive control (drug known cause impulsivity), “paracetamol” negative control (drug known cause impulsivity), potentially also events known reactions aripiprazole (e.g., insomnia, headache) events known good certainty reactions aripiprazole (“liver injury”). case may want add render forest option give drug facet, seen script. Tab 5: Disproportionality results considering positive negative controls. see extensive association impulsive manifestations aripiprazole, class (fact almost aripiprazole two drugs far less used), positive control pramipexole (shows also enough cases excessive exercise, even enough cases pyromania). Aripiprazole associated liver injury headache (expected), instead paracetamol associated , first known reaction, second reverse causality (take paracetamol treat headache). Paracetamol associated many impulsivity manifestations, still associated impulsivity, ICD, gambling overwork (see red dots plot identify SDR). possible explanations may present: overwork use paracetamol fight subsequent migraine comprehensible association, also impulsivity intended general irritability due pain.","code":"## Definitions -------------------------------------------------------------------------- drug_selected <- list(   \"aripiprazole\" = list(\"aripiprazole\"),   \"TGAs\" = list(\"aripiprazole\", \"brexpiprazole\", \"cariprazine\"),   \"pramipexole\" = list(\"pramipexole\"), # positive control   \"paracetamol\" = list(\"paracetamol\") ) # negative control  ICDs <- list(   \"gambling disorder\" = list(\"gambling disorder\", \"gambling\"),   \"hypersexuality\" = list(     \"compulsive sexual behaviour\",     \"hypersexuality\",     \"excessive masturbation\",     \"excessive sexual fantasies\",     \"libido increased\",     \"sexual activity increased\",     \"kluver-bucy syndrome\"   ),   \"paraphilia\" = list(     \"erotophonophilia\", \"exhibitionism\",     \"fetishism\", \"frotteurism\",     \"masochism\", \"paraphilia\", \"paedophilia\",     \"sadism\", \"transvestism\", \"voyeurism\",     \"sexually inappropriate behaviour\"   ),   \"compulsive shopping\" = list(\"compulsive shopping\"),   \"hyperphagia\" = list(     \"binge eating\", \"food craving\", \"hyperphagia\",     \"increased appetite\"   ),   \"gaming disorder\" = list(\"gaming disorder\"),   \"pyromania\" = list(\"pyromania\"),   \"kleptomania\" = list(\"kleptomania\", \"shoplifting\"),   \"compulsive hoarding\" = list(\"compulsive hoarding\"),   \"excessive exercise\" = list(\"excessive exercise\"),   \"overwork\" = list(\"overwork\"),   \"poriomania\" = list(\"poriomania\"),   \"body-focused disorder\" = list(     \"compulsive cheek biting\",     \"compulsive lip biting\",     \"dermatillomania\",     \"dermatophagia\", \"nail picking\",     \"compulsive handwashing\",     \"trichotemnomania\",     \"trichotillomania\", \"onychophagia\",     \"thumb sucking\"   ),   \"stereotypy\" = list(\"automatism\", \"stereotypy\"),   \"impulsivity\" = list(     \"impulse-control disorder\",     \"impulsive behaviour\",     \"disinhibition\", \"behavioural addiction\",     \"abnormal behaviour\"   ) ) reac_selected <- rlist::list.append(ICDs,   \"ICD\" = as.list(unlist(purrr::flatten(ICDs))),   \"insomnia\" = list(\"insomnia\"), # positive control   \"headache\" = list(\"headache\"), # positive control   \"liver injury\" = list(\"liver injury\") ) # negative control  ## Disproportionality analysis ---------------------------------------------------------- # Positive and negative controls disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected ) ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"focusing-on-suspected-drugs","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Focusing on suspected drugs","title":"Disproportionality Analysis","text":"fact, paracetamol used much many cases just recorded concomitant. reason next step performing analysis considering suspected drugs. going change anymore definition section. Let’s work disproportionality one, specifying temp_drug (drug database want use, entire drug default) drugs recorded primary secondary suspect (rol_cod %% c(“PS”,“SS”)). Remember respond “” console function asks want refine query. Tab 6: Disproportionality results considering suspected drugs. see way associations impulsivity paracetamol disappear, including, interestingly, also one headache (one overwork).","code":"## Disproportionality analysis ---------------------------------------------------------- # Suspected drugs disproportionality_df <- disproportionality_analysis(   drug_selected = drug_selected,   reac_selected = reac_selected,   temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")] ) ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"removing-duplicates","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Removing duplicates","title":"Disproportionality Analysis","text":"Duplicates may also distort results. problem sure reports duplicates . Applying deduplication algorithm may therefore introduce even distortion. DiAna package already comes multiple rule-based strategies detect potential duplicates, soon add even advanced probabilistic algorithms. results duplicates detection stored DEMO dataset. therefore first import , going back dedicated section adding following row together two importing Drug Reac: printed dataset see last two columns RB_duplicates RB_duplicates_only_susp: first conservative, considering duplicates reports sex, age, country, event list, event date, suspected drug list, also concomitants. second algorithm considers instead suspected drugs drug list. Let’s reduce queries considered among reactions visualize better differences disproportionality results obtained two different algorithms compared raw analysis. can comment previous generation reac_selected # want keep go back previous definition later. disproportionality_analysis section know include loop several possible restrictions background reference group: raw deduplicated datasets using different algorithms (raw entire dataset, RB1 conservative RB2 speculative deduplication). answer console every time asked (three times). disproportionality_df now row drug-event-background combination, background specified “nested” column, specified “nested” parameter render_forest. Tab 7: Disproportionality results considering deduplication algorithms. forest plot shows fact almost difference using raw analysis compared two different rule-based deduplication algorithms available DiAna investigated drug-event combination, resulting significant difference paracetamol (signal impulsivity appears deduplicating, independently algorithm). drug-event combinations, expect find small differences deduplicating, always recommended provide raw deduplicated analyses.","code":"## Import data ---------------------------------------------------------------- import(\"DEMO\") #>           primaryid    sex age_in_days wt_in_kgs occr_country event_dt #>               <num> <fctr>       <num>     <num>       <fctr>    <int> #>        1:  45217461      M        9855        NA         <NA> 19861106 #>        2:  57910401   <NA>          NA        NA         <NA>       NA #>        3:  56962401   <NA>          NA        NA         <NA> 19960123 #>        4:  54662121      F       22630        NA         <NA> 19960919 #>        5:  31231172      F       21535        68         <NA> 19970927 #>       ---                                                              #> 17598475: 236937711      F        9490        68         <NA> 20240318 #> 17598476: 236937721      M        6205        NA         <NA> 20240101 #> 17598477: 236937741      F       13140       134         <NA> 20240322 #> 17598478: 237079261      F       15695        90         <NA>       NA #> 17598479: 237079291      M       22265       108         <NA> 20240228 #>           occp_cod          reporter_country rept_cod init_fda_dt   fda_dt #>             <fctr>                    <fctr>   <fctr>       <int>    <int> #>        1:       MD  United States of America      DIR    19861224 19861224 #>        2:     <NA>  United States of America      DIR    19920917 19920917 #>        3:     <NA>  United States of America      DIR    19960126 19960126 #>        4:       CN South Africa, Republic of      EXP    19961022 19961022 #>        5:       MD  United States of America      EXP    19971203 19971212 #>       ---                                                                  #> 17598475:       CN  United States of America      DIR    20240331 20240331 #> 17598476:       CN  United States of America      DIR    20240331 20240331 #> 17598477:       CN  United States of America      DIR    20240331 20240331 #> 17598478:       CN  United States of America      DIR    20240331 20240331 #> 17598479:       CN  United States of America      DIR    20240331 20240331 #>           premarketing literature RB_duplicates RB_duplicates_only_susp #>                 <lgcl>     <lgcl>        <lgcl>                  <lgcl> #>        1:        FALSE      FALSE         FALSE                   FALSE #>        2:        FALSE      FALSE         FALSE                   FALSE #>        3:        FALSE      FALSE         FALSE                   FALSE #>        4:        FALSE      FALSE         FALSE                   FALSE #>        5:        FALSE      FALSE         FALSE                   FALSE #>       ---                                                               #> 17598475:        FALSE      FALSE         FALSE                   FALSE #> 17598476:        FALSE      FALSE         FALSE                   FALSE #> 17598477:        FALSE      FALSE         FALSE                   FALSE #> 17598478:        FALSE      FALSE         FALSE                   FALSE #> 17598479:        FALSE      FALSE         FALSE                   FALSE ## Definitions --------------------------------------------------------------------------  # .....all the content before....  # reac_selected <- rlist::list.append(ICDs,\"ICD\"=as.list(unlist(purrr::flatten(ICDs)))) reac_selected <- list(\"ICD\" = as.list(unlist(purrr::flatten(ICDs))))  ## Disproportionality analysis ---------------------------------------------------------- # Deduplication restrictions <- list(   \"raw\" = list(Demo$primaryid),   \"RB1\" = list(Demo[RB_duplicates == FALSE]$primaryid),   \"RB2\" = list(Demo[RB_duplicates_only_susp == FALSE]$primaryid) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"restricting-on-indication","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Restricting on indication","title":"Disproportionality Analysis","text":"Another important application made possible disproportionality_analysis function related addressing expected biases. investigating potential causal role aripiprazole inducing impulsivity, consider bipolar disorder, major indication using aripiprazole, also known risk factor impulsivity impulsive behaviors. sufficient explain association (SDR) found? address, least partly, indication bias answer question can restrict analysis patients sharing diagnosis bipolar disorder, checking population homogeneous values confounder whether impulsivity often recorded together aripiprazole drugs. pedagogical article chose background reference group (restricting confounder preferred adjusting ) see https://doi.org/10.31219/osf.io/h5w9u. check presence confounder among indications, therefore import Indi database adding import data section. can search Indi dataset recording bipolar disorder, select primaryids. exhaustive identification reports concerning patients diagnosed bipolar disorder, thus collecting greater number reports analysis, search bipolar disorder also Reac database (confusion may arisen compilation), lithium (specific tratment bipolar disorder) among drugs. Tab 8: Disproportionality results considering reports recording bipolar disorder. forest plot see general, restricting confounder bipolar disorder, see smaller IC. paracetamol show difference, bipolar disorder configures competitive exposure rather confounder (.e., confounder, factor cause drug event, bipolar disorder increase chance prescribed paracetamol). also see confidence interval smaller manage retrieve bigger background reference groups, therefore using information included Indi, Drug, Reac suggested. can also consider bipolar disorder may reported using many terms. can use MedDRA HLGT “manic bipolar mood disorders disturbances” make even bigger reference group, still addressing bias? Note chunk script works MedDRA subscription followed https://github.com/fusarolimichele/DiAna instructions make DiAna-compatible MedDRA. Tab 9: Disproportionality results restricting bipolar disorder using MedDRA.","code":"## Import data ---------------------------------------------------------------- import(\"INDI\") #>           primaryid   drug_seq                                 indi_pt #>               <num>      <int>                                   <ord> #>        1:   4204616 1004278786                        abortion induced #>        2:   4223542 1004334703                         crohn's disease #>        3:   4250482 1004434717                         crohn's disease #>        4:   4261823 1004486217                     bronchial carcinoma #>        5:   4261823 1004486218                     bronchial carcinoma #>       ---                                                              #> 41380269: 992001227        583     product used for unknown indication #> 41380270: 992001227        586     product used for unknown indication #> 41380271: 236936391          1 beta haemolytic streptococcal infection #> 41380272: 237079291          1                    acrochordon excision #> 41380273: 237203351          1     product used for unknown indication ## Reference groups -------------------------------------------------------------------- bipolar_disorder_indi_pt <- unique(Indi[indi_pt == \"bipolar disorder\"]$primaryid) bipolar_disorder_reac_pt <- unique(Reac[pt == \"bipolar disorder\"]$primaryid) bipolar_disorder_drug <- unique(Drug[substance == \"lithium\"]$primaryid) bipolar_disorder_total_pt <- union(union(bipolar_disorder_indi_pt, bipolar_disorder_reac_pt), bipolar_disorder_drug)  ## Disproportionality analysis ----------------------------------------------------------  restrictions <- list(   \"raw\" = as.list(Demo$primaryid),   \"indi_pt\" = as.list(bipolar_disorder_indi_pt),   \"reac_pt\" = as.list(bipolar_disorder_reac_pt),   \"drug\" = as.list(bipolar_disorder_drug),   \"total\" = as.list(bipolar_disorder_total_pt) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\") ## Reference groups -------------------------------------------------------------------- # .... import_MedDRA() #>           def                                            soc #>        <char>                                         <char> #>     1:   cong     congenital, familial and genetic disorders #>     2:    inv                                 investigations #>     3:    inv                                 investigations #>     4:    inv                                 investigations #>     5:    inv                                 investigations #>    ---                                                       #> 25408:  inj&p injury, poisoning and procedural complications #> 25409:   preg pregnancy, puerperium and perinatal conditions #> 25410:   surg                surgical and medical procedures #> 25411:   surg                surgical and medical procedures #> 25412:  blood           blood and lymphatic system disorders #>                                                         hlgt #>                                                       <char> #>     1:        metabolic and nutritional disorders congenital #>     2:          endocrine investigations (incl sex hormones) #>     3:          endocrine investigations (incl sex hormones) #>     4:          endocrine investigations (incl sex hormones) #>     5:          endocrine investigations (incl sex hormones) #>    ---                                                       #> 25408:     procedural related injuries and complications nec #> 25409: pregnancy, labour, delivery and postpartum conditions #> 25410:   obstetric and gynaecological therapeutic procedures #> 25411:             male genital tract therapeutic procedures #> 25412:                            white blood cell disorders #>                                                  hlt #>                                               <char> #>     1:            inborn errors of steroid synthesis #>     2:                 reproductive hormone analyses #>     3:                 reproductive hormone analyses #>     4:                 reproductive hormone analyses #>     5:                 reproductive hormone analyses #>    ---                                               #> 25408:    non-site specific procedural complications #> 25409:         normal pregnancy, labour and delivery #> 25410:                 cervix therapeutic procedures #> 25411: male genital tract therapeutic procedures nec #> 25412:                        eosinophilic disorders #>                                      pt #>                                  <char> #>     1:   11-beta-hydroxylase deficiency #>     2:            17 ketosteroids urine #>     3:  17 ketosteroids urine decreased #>     4:  17 ketosteroids urine increased #>     5:     17 ketosteroids urine normal #>    ---                                  #> 25408:     incision site skin puckering #> 25409: spontaneous rupture of membranes #> 25410:           cervix stent placement #> 25411:           sperm cryopreservation #> 25412:      paraneoplastic eosinophilia bipolar_disorder_total_hlgt <- union(   union(     Indi[indi_pt %in% MedDRA[hlgt == \"manic and bipolar mood disorders and disturbances\"]$pt]$primaryid,     Reac[pt %in% MedDRA[hlgt == \"manic and bipolar mood disorders and disturbances\"]$pt]$primaryid   ),   bipolar_disorder_drug )  ## Disproportionality analysis ----------------------------------------------------------  restrictions <- list(   \"raw\" = as.list(Demo$primaryid),   \"total_pt\" = as.list(bipolar_disorder_total_pt),   \"total_hlgt\" = as.list(bipolar_disorder_total_hlgt) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\") #> Error in knitr::include_graphics(\"disproportionality_analysis-retrieve_with_MedDRA_forest-1.png\", : Cannot find the file(s): \"disproportionality_analysis-retrieve_with_MedDRA_forest-1.png\""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"addressing-notoriety-bias","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Addressing notoriety bias","title":"Disproportionality Analysis","text":"FDA warning 2016-03-05 concerning aripiprazole-induced impulsivity may inflated reporting distorting results (.e., notoriety bias). address bias can restrict reports submitted date warning, repeat disproportionality analysis. compare result raw analysis, restriction bipolar disorder, restriction bipolar disorder pre-warning, finally last complete restriction also deduplication. analyses performed considering suspected drugs. Tab 10: Disproportionality results addressing notoriety bias. see green results analysis restricting pre-warning. can see analysis affect bipolar disorder headache, affects impulse control disorders apart gambling. Plausibly FDA warning based mainly suspect aripiprazole-induced gambling disorder. Therefore, can see even warning taking account considered biases, FDA enough information publish warning.","code":"## Reference groups --------------------------------------------------------------------- warning_date <- 20160305 pre_warning <- Demo[ifelse(is.na(init_fda_dt), fda_dt < warning_date, init_fda_dt < warning_date)]$primaryid  ## Disproportionality analysis ----------------------------------------------------------  restrictions <- list(   \"raw\" = as.list(Demo$primaryid),   \"indication_bias\" = as.list(bipolar_disorder_total_pt),   \"notoriety_bias\" = as.list(pre_warning),   \"both_biases\" = as.list(intersect(     bipolar_disorder_total_pt,     pre_warning   )),   \"both_biases_dedup\" = as.list(intersect(     intersect(       bipolar_disorder_total_pt, pre_warning     ),     Demo[RB_duplicates == FALSE]$primaryid   )) ) disproportionality_df <- data.table() for (n in 1:length(restrictions)) {   t <- restrictions[n]   t_name <- names(t)   t_pids <- unlist(t)   df <- disproportionality_analysis(     drug_selected = drug_selected,     reac_selected = reac_selected,     temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],     restriction = t_pids   )[, nested := t_name]   disproportionality_df <- rbindlist(list(disproportionality_df, df), fill = TRUE) } ## Definitions -------------------------------------------------------------------------- disproportionality_df render_forest(disproportionality_df, row = \"event\", facet_v = \"substance\", nested = \"nested\") #> Error in knitr::include_graphics(\"disproportionality_analysis-notoriety_bias_forest-1.png\", : Cannot find the file(s): \"disproportionality_analysis-notoriety_bias_forest-1.png\""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"disproportionality-trend","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Disproportionality trend","title":"Disproportionality Analysis","text":"Can check exactly signal appeared FAERS? example case disproportionality restricted bipolar disorder suspected drugs ? inquiry, DiAna proposes specific function: disproportionality_trend, allow adopt granularity month, quarter, year.","code":"## Import data -------------------------------------------------------------------------- import(\"DEMO_SUPP\") #>           primaryid rpsr_cod   caseid caseversion i_f_cod auth_num  e_sub #>               <num>   <fctr>    <int>      <fctr>  <fctr>   <char> <fctr> #>        1:  45217461       HP  4521746           1       I     <NA>      N #>        2:  57910401     <NA>  5791040           1       I     <NA>      N #>        3:  56962401     <NA>  5696240           1       I     <NA>      N #>        4:  54662121      FGN  5466212           1       I     <NA>      N #>        5:  54662121       HP  5466212           1       I     <NA>      N #>       ---                                                                 #> 18283734: 236937711      CSM 23693771           1       I   697702      N #> 18283735: 236937721      CSM 23693772           1       I   697662      N #> 18283736: 236937741      CSM 23693774           1       I   697678      N #> 18283737: 237079261      CSM 23707926           1       I   697660      N #> 18283738: 237079291      CSM 23707929           1       I   697693      N #>           lit_ref  rept_dt to_mfr         mfr_sndr     mfr_num   mfr_dt #>            <char>    <int> <char>           <char>      <char>    <int> #>        1:    <NA>       NA   <NA>             <NA>        <NA>       NA #>        2:    <NA>       NA   <NA>             <NA>        <NA>       NA #>        3:    <NA>       NA   <NA>             <NA>        <NA>       NA #>        4:    <NA> 19961015   <NA> ELI LILLY AND CO ZA96101984A 19961010 #>        5:    <NA> 19961015   <NA> ELI LILLY AND CO ZA96101984A 19961010 #>       ---                                                               #> 18283734:    <NA> 20240331      N          FDA-CTU        <NA> 20240331 #> 18283735:    <NA> 20240331      N          FDA-CTU        <NA> 20240331 #> 18283736:    <NA> 20240331   <NA>          FDA-CTU        <NA> 20240331 #> 18283737:    <NA> 20240331      Y          FDA-CTU        <NA> 20240331 #> 18283738:    <NA> 20240331      Y          FDA-CTU        <NA> 20240331 #>           quarter #>            <fctr> #>        1:    20Q3 #>        2:    20Q3 #>        3:    20Q3 #>        4:    20Q3 #>        5:    20Q3 #>       ---         #> 18283734:    24Q1 #> 18283735:    24Q1 #> 18283736:    24Q1 #> 18283737:    24Q1 #> 18283738:    24Q1 ## Disproportionality analysis ---------------------------------------------------------- disproportionality_trend_df <- disproportionality_trend(   drug_selected = \"brexpiprazole\",   reac_selected = unlist(reac_selected),   temp_drug = Drug[role_cod %in% c(\"PS\", \"SS\")],   time_granularity = \"year\" ) plot_disproportionality_trend(disproportionality_trend_results = disproportionality_trend_df)"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Disproportionality_Analysis.html","id":"comparing-several-disproportionality-metrics","dir":"Articles","previous_headings":"Disproportionality analysis","what":"Comparing several disproportionality metrics","title":"Disproportionality Analysis","text":"ROR IC, extremely common pharmacovigilance, disproportionality metrics. compare results disproportionality metrics can use disproportionality_comparison function","code":"disproportionality_comparison(   drug_count = length(unique(Drug[substance == \"aripiprazole\" & role_cod %in% c(\"PS\", \"SS\")]$primaryid)),   event_count = length(unique(Reac[pt == \"impulsive behaviour\"]$primaryid)),   drug_event_count = length(intersect(Drug[substance == \"aripiprazole\" & role_cod %in% c(\"PS\", \"SS\")]$primaryid, Reac[pt == \"impulsive behaviour\"]$primaryid)),   tot = nrow(Demo) ) #>       E       nE #> D   379    81046 #> nD 2885 17514169 #>  #>  #> ROR = 28.39 (25.4-31.58) #> PRR = 28.26 (25.4-31.45) #> RRR = 25.1 (22.57-27.91) #> IC = 4.6 (4.43-4.72) #> IC_gamma = 4.48 (4.46-4.75)"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Start_Subproject.html","id":"requisites","dir":"Articles","previous_headings":"","what":"Requisites","title":"Start Subproject","text":"tutorial requires first: installed R R Studio, installed DiAna package, set project folder. Otherwise get back ReadMe follow instructions.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Start_Subproject.html","id":"starting-a-subproject","dir":"Articles","previous_headings":"","what":"Starting a subproject","title":"Start Subproject","text":"DiAna main project, now want create subproject specific tutorial. first thing open new R script (white paper green white cross top left corner rstudio) insert details project. specified , every time use # inserting comment. Comments extremely useful document explain project, run affect results. can also see can create kind skeleton/structure script : using one # first level headings, ## second level headings, … adding dashes heading point R studio actually heading. nice thing starting work organized way make script readable researchers future. also forces aware entire study design moment, reducing possibility creating overlapping chunks codes making errors. Finally, allows easily navigate script using window pane can access clicking writing left corner script. included information deem necessary document script, upload DiAna package.","code":"# Information ----------------------------------------------------------------- ## Project title -------------------------------------------------------------- ### Setting up a DiAna subproject  ## Data ----------------------------------------------------------------------- ### FDA Adverse Event Reporting System Quarterly Data  ## Authors -------------------------------------------------------------------- ### Michele Fusaroli  ## Version -------------------------------------------------------------------- ### Set up: 2024-07-23 ### Last update: 2024-07-23 # Set up ---------------------------------------------------------------------- ## upload DiAna --------------------------------------------------------------- library(DiAna) #> Loading required package: data.table #> Loading required package: ggplot2"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Start_Subproject.html","id":"setting-up-your-diana-subproject","dir":"Articles","previous_headings":"Starting a subproject","what":"Setting Up Your DiAna Subproject","title":"Start Subproject","text":"section, guide setting subproject within DiAna analysis environment. following R code chunk creates new directory named “tutorial” within “projects” folder DiAna folder. ::() function helps locate current DiAna package directory, project_path variable defined point “tutorial” folder storing output. want give better name project just change string assinged variable project_name. running code, establish structured subproject environment. “tutorial” folder contain necessary files configurations subproject, ensuring seamless organized analysis experience. Finally, save script subproject folder, using blue floppy icon script finding right directory. suggest give script name folder.","code":"## Project_path --------------------------------------------------------------- DiAna_path <- here::here() project_name <- \"tutorial\" project_path <- paste0(DiAna_path, \"/projects/\", project_name) if (!file.exists(project_path)) {   dir.create(project_path) } project_path <- paste0(project_path, \"/\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Start_Subproject.html","id":"input-data-and-packages","dir":"Articles","previous_headings":"Starting a subproject","what":"Input data and packages","title":"Start Subproject","text":"DiAna package, seamless data import crucial aspect empowering pharmacovigilance analyses. first set FAERS version, last quarter want included analysis. Note first download data using setup_DiAna, following information ReadMe, otherwise find data folder data want import. structure help , needed, update results new quarter just changing quarter rerunning whole script. second code chunk utilizes import() function load essential datasets FDA Adverse Event Reporting System (FAERS). uses FAERS_version provided, set , see error remembering set FAERS_version. importing datasets like “DRUG”, “REAC”, “DEMO”, “INDI” DiAna equips users comprehensive information drugs, adverse reactions, patient demographics, indications. act importing prints also sample data console. Furthermore, note sample FAERS dataset (including also Outc, Ther, Doses, Demo_Supp, Drug_Supp, Drug_Name) information 1000 random reports available package can accessed calling “sample_” name dataset, shown (may run , may include script): Notably, can get information information stored FAERS database just running name dataset interested preceded question mark (, may run may include script). help window R studio, usually lower right corner, include documentation. Moreover, DiAna offers functionality import data related Anatomical Therapeutic Chemical (ATC) classification linked active ingredients translated DiAna dictionary. ATC file crucial component grouping drugs based therapeutic use. DiAna make available Medical Dictionary Regulatory Activities (MedDRA, hierarchical dictionary used code events), upon subscription, makes available import_MedDRA function. access MedDRA, can follow instructions DiAna GitHub repository create MedDRA file import_MedDRA function.","code":"## FAERS_version -------------------------------------------------------------- FAERS_version <- \"24Q1\" ## Import data ---------------------------------------------------------------- import(\"DRUG\") import(\"REAC\") import(\"DEMO\") import(\"INDI\") sample_Demo #>       primaryid    sex age_in_days wt_in_kgs             occr_country event_dt #>           <num> <fctr>       <num>     <num>                   <fctr>    <int> #>    1:   4315260      M          NA        NA                     <NA>       NA #>    2:   4329569      F          NA        NA                     <NA>       NA #>    3:   4447614      F          NA        NA                     <NA>       NA #>    4:   4450462      M       21900        NA                     <NA> 20031203 #>    5:   4458274      F       16790        NA                     <NA>       NA #>   ---                                                                          #>  996: 221121011      F          NA        NA United States of America       NA #>  997: 221339931   <NA>          NA        NA United States of America       NA #>  998: 221399731      F       29200        NA United States of America       NA #>  999: 220166883      M       18250        92 United States of America 20230214 #> 1000: 220784242      F       16790        NA United States of America 20230222 #>       occp_cod         reporter_country rept_cod init_fda_dt   fda_dt #>         <fctr>                   <fctr>   <fctr>       <int>    <int> #>    1:       OT                     <NA>      EXP          NA 20040309 #>    2:       CN                     <NA>      PER          NA 20040319 #>    3:       CN                     <NA>      PER          NA 20040823 #>    4:     <NA>                     <NA>      EXP          NA 20040914 #>    5:       CN                     <NA>      PER          NA 20040917 #>   ---                                                                 #>  996:       CN United States of America      PER    20230318 20230318 #>  997:       CN United States of America      PER    20230324 20230324 #>  998:       HP United States of America      EXP    20230327 20230327 #>  999:       CN United States of America      PER    20230221 20230328 #> 1000:       MD United States of America      PER    20230309 20230330 #>       premarketing literature RB_duplicates RB_duplicates_only_susp #>             <lgcl>     <lgcl>        <lgcl>                  <lgcl> #>    1:        FALSE      FALSE         FALSE                    TRUE #>    2:        FALSE      FALSE          TRUE                    TRUE #>    3:        FALSE      FALSE         FALSE                   FALSE #>    4:        FALSE      FALSE         FALSE                   FALSE #>    5:        FALSE      FALSE         FALSE                   FALSE #>   ---                                                               #>  996:        FALSE      FALSE         FALSE                   FALSE #>  997:        FALSE      FALSE         FALSE                   FALSE #>  998:        FALSE       TRUE         FALSE                   FALSE #>  999:        FALSE      FALSE         FALSE                   FALSE #> 1000:        FALSE      FALSE         FALSE                   FALSE ?sample_Demo import_ATC()"},{"path":"https://fusarolimichele.github.io/DiAna_package/articles/Start_Subproject.html","id":"summing-up","dir":"Articles","previous_headings":"Starting a subproject","what":"Summing up","title":"Start Subproject","text":"vignette showed initiate subproject folder, setup FAERS version, import access FAERS data documentation. plausible repeat script every time start new FAERS project. promote clarity standardization, time gratify laziness, way include entire script automatically instead manually. called snippet: chunk code can included script just writing script short snippet command. can get set useful snippets running DiAna command snippets_install_github() console, internet connection. Note way extremely easy share scripts FAERS studies. running function, can just open new R script write “new_FAERS_project” (R Studio says us snippet), autocompile script something similar following chunk. just need include details specific study.","code":"# Information ----------------------------------------------------------------- ## Project title -------------------------------------------------------------- ### TITLE  ## Data ----------------------------------------------------------------------- ### FDA Adverse Event Reporting System Quarterly Data  ## Authors -------------------------------------------------------------------- ### NAME SURNAME  ## Version -------------------------------------------------------------------- ### Set up: yyyy-mm-dd ### Last update: yyyy-mm-dd ### DiAna version: X.X.X  # Set up ---------------------------------------------------------------------- ## upload DiAna --------------------------------------------------------------- library(DiAna)  ## Project_path --------------------------------------------------------------- DiAna_path <- here::here() project_name <- \"project_name\" project_path <- paste0(DiAna_path, \"/projects/\", project_name) if (!file.exists(project_path)) {   dir.create(project_path) } project_path <- paste0(project_path, \"/\")  ## FAERS_version --------------------------------------------------------------  FAERS_version <- \"24Q1\"  ## Import data ---------------------------------------------------------------- import(\"DRUG\") import(\"REAC\") import(\"DEMO\") import(\"DEMO_SUPP\") import(\"INDI\") import(\"DOSES\") import(\"THER\") import(\"OUTC\") import(\"DRUG_SUPP\") import(\"DRUG_NAME\") import_MedDRA() import_ATC()  ## Input files ---------------------------------------------------------------  ## Output files --------------------------------------------------------------"},{"path":"https://fusarolimichele.github.io/DiAna_package/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michele Fusaroli. Author, maintainer, copyright holder. Valentina Giunchi. Author. Violetta Zoffoli. Contributor. Lionel Van Holle. Contributor. Takamasa Sakai. Contributor. Nhung Trinh. Contributor.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Fusaroli M, Giunchi V (2024). “DiAna version 2.1.0. open-source toolkit DIsproportionality ANAlysis pharmacovigilance investigations FAERS.” https://fusarolimichele.github.io/DiAna_package/.","code":"@Misc{,   title = {DiAna version 2.1.0. An open-source toolkit for DIsproportionality ANAlysis and other pharmacovigilance investigations in the FAERS.},   author = {Michele Fusaroli and Valentina Giunchi},   year = {2024},   url = {https://fusarolimichele.github.io/DiAna_package/}, }"},{"path":"https://fusarolimichele.github.io/DiAna_package/index.html","id":"diana","dir":"","previous_headings":"","what":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","title":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","text":"goal DiAna enchance transparency, flexibility,replicability, tool exchange capabilities within domain pharmacovigilance studies. specialized R package meticulously crafted facilitate intricate process disproportionality analysis FDA Adverse Event Reporting System (FAERS) data. DiAna empowers researchers pharmacovigilance professionals comprehensive toolkit conduct rigorous transparent analyses. providing customizable functions clear documentation, package ensures step analysis fully understood reproducible. Pharmacovigilance studies often require tailored approaches due diverse nature adverse event data. package offers range versatile tools can seamlessly adapted different study designs, data structures, analytical goals. Researchers can effortlessly modify parameters methods suit specific requirements. Collaboration knowledge-sharing fundamental advancing pharmacovigilance research. DiAna plays pivotal role enabling exchange tools methodologies among researchers. modular design encourages development integration new analysis techniques, fostering dynamic environment innovation. DiAna simplifies process importing cleaned FAERS data, retrieving cases interest, conducting descriptive analysis, performing disproportionality analysis. Whether ’re novice expert pharmacovigilance, DiAna designed make analyses easy efficient.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/index.html","id":"prerequisites-installing-r-and-r-studio","dir":"","previous_headings":"","what":"Prerequisites: Installing R and R Studio","title":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","text":"can start using DiAna, need R R Studio installed system. haven’t installed yet, follow simple steps: Installing R Visit official R project website (https://cran.r-project.org) download appropriate version R operating system (Windows, macOS, Linux). Run installer follow instructions complete installation. R provides powerful flexible environment statistical computing graphics, forming foundation data analysis DiAna. Installing R Studio R Studio integrated development environment (IDE) R makes R programming easier efficient. R installed, go R Studio website (https://posit.co/download/rstudio-desktop/) download free version R Studio Desktop. Install R Studio following installation instructions operating system. R R Studio installed, comprehensive user-friendly environment ready conducting pharmacovigilance analyses using DiAna.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/index.html","id":"setting-up-your-diana-project","dir":"","previous_headings":"","what":"Setting Up Your DiAna Project","title":"DIsproportionality ANAlysis and Pharmacovigilance in the FAERS","text":"organized efficient workflow, recommend creating dedicated project DiAna analyses. Follow steps set DiAna project R Studio: Open R Studio: Start opening R Studio computer. ’ve just installed R Studio, can find applications programs menu. Create New Project: R Studio, click File upper left corner, select New Project. Choose New Directory New Project. Name project (e.g., “DiAna”) specify location Desktop preferred directory. Install DiAna package: Begin installing DiAna package GitHub writing running following lines console: may useful run command time time download latest update package (e.g., bugs solved, new improved functions) Setup DiAna project: first time use DiAna, set folder data stored together results analyses. command require good internet connection. better internet connection, faster download. usually takes minutes 20 minutes. console, run two rows (note rows preceded # comments commands): library DiAna imported DiAna package (.e., toolbox functions use analyses). setup_DiAna(quarter=“24Q1”) automaticatilly setting project: create folder store cleaned FAERS data, downloaded OSF repository (particular downloading entire FAERS database, including quarters 24Q1). entire cleaning process made transparent github (https://github.com/fusarolimichele/DiAna). also create folder external sources folder store projects. external sources, also download DiAna dictionary used translate free text drug names active ingredients, linkage ATC code, useful data sources. external sources available download require subscription (e.g., MedDRA).","code":"install.packages(\"devtools\") devtools::install_github(\"fusarolimichele/DiAna_package\") library(DiAna) setup_DiAna(quarter = \"24Q1\") # input yes when asked to download the FAERS"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna-package.html","id":null,"dir":"Reference","previous_headings":"","what":"DiAna: DIsproportionality ANAlysis and Pharmacovigilance in the FAERS — DiAna-package","title":"DiAna: DIsproportionality ANAlysis and Pharmacovigilance in the FAERS — DiAna-package","text":"Advanced tools analyzing FDA Adverse Event Reporting System (FAERS) data, enhancing drug safety research. Provides functions download cleaned FAERS data import relational datasets, facilitating case identification control selection address confounding analyses. Provides functions descriptive disproportionality analysis, time--onset analysis, network analysis, retrieval algorithms, visualization.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"DiAna: DIsproportionality ANAlysis and Pharmacovigilance in the FAERS — DiAna-package","text":"Maintainer: Michele Fusaroli michele.fusaroli@gmail.com (ORCID) [copyright holder] Authors: Valentina Giunchi valentina.giunchi2@unibo.(ORCID) contributors: Violetta Zoffoli [contributor] Lionel Van Holle lionel.vanholle@opensourcepv.com (ORCID) [contributor] Takamasa Sakai tksakai@meijo-u.ac.jp [contributor] Nhung Trinh nhung.trinh@farmasi.uio.[contributor]","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":null,"dir":"Reference","previous_headings":"","what":"Get DiAna reference — DiAna_reference","title":"Get DiAna reference — DiAna_reference","text":"function provides DiAna reference, used using DiAna.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get DiAna reference — DiAna_reference","text":"","code":"DiAna_reference(print = TRUE)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get DiAna reference — DiAna_reference","text":"print Logical, output printed? Default TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get DiAna reference — DiAna_reference","text":"DiAna reference","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/DiAna_reference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get DiAna reference — DiAna_reference","text":"","code":"DiAna_reference() #> [1] \"To cite this package in your work and publications use:\"                                                                                                                                                                                                                                                                   #> [2] \"Fusaroli M., Giunchi V. - DiAna version 2.1.0 (2025-02-22). An open-source toolkit for DIsproportionality ANAlysis and other pharmacovigilance investigations in the FAERS. https://github.com/fusarolimichele/DiAna_package; https://github.com/fusarolimichele/DiAna; https://osf.io/zqu89/.\"                            #> [3] \"\"                                                                                                                                                                                                                                                                                                                          #> [4] \"DiAna contributors for specific functions were: Zoffoli V. for helping developing the cleaning procedure for the FAERS, Van Holle L. for time to onset analysis (cfr. https://doi.org/10.1002/pds.3226), Sakai T. and Trinh N. for pregnancy algorithm (cfr. 10.3389/fphar.2022.1063625)\"                                  #> [5] \"\"                                                                                                                                                                                                                                                                                                                          #> [6] \"Additional reference: Fusaroli M, Giunchi V, Battini V, Puligheddu S, Khouri C, Carnovale C, Raschi E, Poluzzi E. Enhancing Transparency in Defining Studied Drugs: The Open-Source Living DiAna Dictionary for Standardizing Drug Names in the FAERS. Drug Saf. 2024 Mar;47(3):271-284. doi: 10.1007/s40264-023-01391-4.\""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":null,"dir":"Reference","previous_headings":"","what":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"function provides specifics dictionaries used cleaning specified database version","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"","code":"FAERS_quarter_specifics(quarter = FAERS_version, print = TRUE)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"quarter quarter specifics needed. Default FAERS_version. print Logical, output printed? Default TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"Specifics","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/FAERS_quarter_specifics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get specifics of dictionaries used in database version — FAERS_quarter_specifics","text":"","code":"FAERS_quarter_specifics(\"24Q1\") #> [1] \"The DiAna dictionary used to convert drugnames to substances is 24Q1\"                                                                                                                                                                                                                                                              #> [2] \"If a reference is needed use: Fusaroli M, Giunchi V, Battini V, Puligheddu S, Khouri C, Carnovale C, Raschi E, Poluzzi E. Enhancing Transparency in Defining Studied Drugs: The Open-Source Living DiAna Dictionary for Standardizing Drug Names in the FAERS. Drug Saf. 2024 Mar;47(3):271-284. doi: 10.1007/s40264-023-01391-4.\" #> [3] \"\"                                                                                                                                                                                                                                                                                                                                  #> [4] \"Events are coded according to MedDRA (the international Medical Dictionary for Regulatory Activities terminology developed under the auspices of the International Council for Harmonisation of Technical Requirements for Pharmaceuticals for Human Use (ICH), version 26.1)\""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":null,"dir":"Reference","previous_headings":"","what":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"function updates DiAna dictionary based changes specified Excel file. imports necessary data, identifies records fixed, updates dictionary accordingly.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"","code":"Fix_DiAna_dictionary_locally(changes_xlsx_name)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"changes_xlsx_name string specifying name Excel file containing changes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"data.table updated Drug information.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"function performs following steps: Reads changes specified Excel file. Imports necessary data tables (DRUG_NAME DRUG) already exist. Identifies records Drug_name need fixed based changes. Joins changes identified records updates Drug table. Removes old records adds updated records Drug table.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/Fix_DiAna_dictionary_locally.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fix DiAna Dictionary Locally — Fix_DiAna_dictionary_locally","text":"","code":"# This example needs that DiAna dictionary is downloaded (using setup_DiAna), # and that an excel file with intended changes is available if (file.exists(\"changes.xlsx\") & file.exists(\"external_source/DiAna_dictionary.csv\")) {   Drug <- Fix_DiAna_dictionary_locally(\"changes.xlsx\") }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Country Dictionary Dataset — country_dictionary","title":"Country Dictionary Dataset — country_dictionary","text":"dataset containing mappings country names, abbreviations, respective continents.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Country Dictionary Dataset — country_dictionary","text":"","code":"country_dictionary"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Country Dictionary Dataset — country_dictionary","text":"data frame 3 variables: countryname Character. name country, can include official names various abbreviations. country Character. official name country. continent Character. continent country belongs.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/country_dictionary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Country Dictionary Dataset — country_dictionary","text":"dataset provides comprehensive mapping country names respective continents. includes various forms country names official names abbreviations. used internally functions descriptive.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Descriptive Statistics for a Sample — descriptive","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"function generates descriptive statistics sample data, including cases non-cases, saves results Excel file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"","code":"descriptive(   pids_cases,   RG = NULL,   drug = NULL,   save_in_excel = TRUE,   file_name = \"Descriptives.xlsx\",   vars = c(\"sex\", \"Submission\", \"Reporter\", \"age_range\", \"Outcome\", \"country\",     \"continent\", \"age_in_years\", \"wt_in_kgs\", \"Reactions\", \"Indications\", \"Substances\",     \"year\", \"role_cod\", \"time_to_onset\"),   list_pids = list(),   method = \"independence_test\",   temp_demo = Demo,   temp_drug = Drug,   temp_reac = Reac,   temp_indi = Indi,   temp_outc = Outc,   temp_ther = Ther )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"pids_cases vector primary IDs cases. RG vector primary IDs: reference group. Default NULL. drug vector drug names. Default NULL. save_in_excel Whether save outcome excel. Defaults TRUE file_name name Excel file save results. Default \"Descriptives.xlsx\". works save_in_excel TRUE. vars character vector variable names include analysis. list_pids list vectors primary IDs custom groups whose distribution described. Default empty list. method method Chi-square test analysis, either \"independence_test\" \"goodness_of_fit\". Default \"independence_test\". applies comparisons cases non-cases. temp_demo Demo dataset. Defaults Demo. Can se sample_Demo testing temp_drug Drug dataset. Can set sample_Drug testing temp_reac Reac dataset. Can set sample_Reac testing temp_indi Indi dataset. Can set sample_Indi testing temp_outc Outc dataset. Can set sample_Outc testing temp_ther Ther dataset. Can set sample_Ther testing","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"function generates descriptive statistics gt_table potentially saves Excel file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/descriptive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Descriptive Statistics for a Sample — descriptive","text":"","code":"pids_cases <- unique(sample_Demo[sex == \"M\"]$primaryid) RG <- unique(sample_Demo[sex == \"M\"]$primaryid)  # Generate descriptive statistics for cases descriptive(   pids_cases = pids_cases, save_in_excel = FALSE,   temp_demo = sample_Demo, temp_drug = sample_Drug,   temp_reac = sample_Reac, temp_indi = sample_Indi,   temp_outc = sample_Outc, temp_ther = sample_Ther ) #> Warning: Variables role_cod and time_to_onset not considered. If you want to include them please provide the drug investigated #> # A tibble: 113 × 3 #>    `**Characteristic**`    N_cases `%_cases` #>    <chr>                   <chr>   <chr>     #>  1 N                       355     \"\"        #>  2 sex                     NA       NA       #>  3 Male                    355     \"100.00\"  #>  4 Submission              NA       NA       #>  5 Direct                  24      \"6.76\"    #>  6 Expedited               181     \"50.99\"   #>  7 Periodic                150     \"42.25\"   #>  8 Reporter                NA       NA       #>  9 Consumer                163     \"48.37\"   #> 10 Healthcare practitioner 20      \"5.93\"    #> # ℹ 103 more rows  # Generate descriptive statistics for cases and non-cases descriptive(   pids_cases = pids_cases, RG = RG, save_in_excel = FALSE,   temp_demo = sample_Demo, temp_drug = sample_Drug,   temp_reac = sample_Reac, temp_indi = sample_Indi,   temp_outc = sample_Outc, temp_ther = sample_Ther ) #> Warning: Variables role_cod and time_to_onset not considered. If you want to include them please provide the drug investigated #> Warning: NAs introduced by coercion #> Warning: number of columns of result, 6, is not a multiple of vector length 7 of arg 1 #> # A tibble: 113 × 6 #>    `**Characteristic**`  N_cases `%_cases` N_controls `%_controls` `**q-value**` #>    <chr>                 <chr>   <chr>     <chr>      <chr>        <chr>         #>  1 N                     355     \"\"        NA         \"\"           \"\"            #>  2 __sex__               NA       NA       NA         NA           NA            #>  3 Male                  355     \"100.00\"  NA         NA           NA            #>  4 __Submission__        NA       NA       NA         NA           NA            #>  5 Direct                24      \"6.76\"    NA         NA           NA            #>  6 Expedited             181     \"50.99\"   NA         NA           NA            #>  7 Periodic              150     \"42.25\"   NA         NA           NA            #>  8 __Reporter__          NA       NA       NA         NA           NA            #>  9 Consumer              163     \"48.37\"   NA         NA           NA            #> 10 Healthcare practitio… 20      \"5.93\"    NA         NA           NA            #> # ℹ 103 more rows"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Disproportionality Analysis — disproportionality_analysis","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"performs disproportionality analysis returns results, can plotted using render_forest(). Look DiAna website fore extensive tutorials practically use function (vignette(\"Disproportionality Analysis\", package = \"DiAna\")) design run disproportionality analysis based expected biases (vignette(\"Causal Inference\", package = \"DiAna\")) Contrary disproportionality_comparison(), calculates association based Drug Reac database, based number reports. See disproportionality_trend() investigating disproportionality changed time.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"","code":"disproportionality_analysis(   drug_selected,   reac_selected,   temp_drug = Drug,   temp_reac = Reac,   meddra_level = \"pt\",   drug_level = \"substance\",   restriction = \"none\",   minimum_cases = 3,   frequentist_threshold = 1,   log2_threshold = 0,   multiple_comparison = TRUE,   store_pids = FALSE,   save_in_excel = FALSE,   file_name = \"disproportionality_results\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"drug_selected list drugs analysis. Can list lists (collapse terms together). reac_selected list adverse events analysis. Can list lists (collapse terms together). temp_drug Drug dataset. Can set sample_Drug testing temp_reac Reac dataset. Can set sample_Reac testing meddra_level desired MedDRA level analysis (default \"pt\"). drug_level desired drug level analysis (default \"substance\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). restriction Primary IDs consider analysis (default \"none\", includes entire population). set Demo[!RB_duplicates_only_susp]$primaryid, example, allows exclude duplicates according one deduplication algorithms. minimum_cases Threshold minimum cases calculating identifyin signal (default 3). frequentist_threshold Threshold defining significance lower limit Reporting Odds Ratio (default 1). log2_threshold Threshold defining significance lower limit Information Component (default 0). multiple_comparison Logical specifying whether perform Bonferroni correction multiple testing ROR. Default TRUE. Particularly important running disproportionality many combinations. store_pids Logical specifying whether store primaryids recording drug primaryids recording event lists. Default FALSE. save_in_excel Whether save outcome excel. Defaults TRUE file_name name Excel file save results. Default \"Descriptives.xlsx\". works save_in_excel TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"data.table containing disproportionality analysis results.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_analysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform Disproportionality Analysis — disproportionality_analysis","text":"","code":"disproportionality_analysis(   drug_selected = \"paracetamol\",   reac_selected = \"overdose\",   temp_drug = sample_Drug,   temp_reac = sample_Reac ) #>      substance    event   D_E  D_nE     D  nD_E     E nD_nE ROR_median #>         <fctr>    <ord> <num> <num> <num> <num> <num> <num>      <num> #> 1: paracetamol overdose     5    46    51    10    15   939      10.14 #>    ROR_lower ROR_upper IC_median IC_lower IC_upper              label_ROR #>        <num>     <num>     <num>    <num>    <num>                 <char> #> 1:      2.61     34.19      2.12     0.55      3.1 10.14 (2.61-34.19) [5] #>               label_IC Bonferroni ROR_signal IC_signal #>                 <char>     <lgcl>      <ord>     <ord> #> 1: 2.12 (0.55-3.1) [5]       TRUE        SDR       SDR"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"function performs disproportionality analysis drug-event combinations FAERS dataset, calculating various metrics Reporting Odds Ratio (ROR), Proportional Reporting Ratio (PRR), Relative Reporting Ratio (RRR), Information Component (IC). Contrary disproportionality_analysis(), calculates association based number reports, based Drug Reac database. flexible application disproportionality measures, can look vignette pvda R package.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"","code":"disproportionality_comparison(   drug_count = length(pids_drug),   event_count = length(pids_event),   drug_event_count = length(intersect(pids_drug, pids_event)),   tot = nrow(Demo),   print_results = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"drug_count integer representing number reports drug interest. Default length pids_drug. event_count integer representing number reports event interest. Default length pids_event. drug_event_count integer representing number reports drug-event combination. Default length intersection pids_drug pids_event. tot integer representing total number reports dataset. Default number rows Demo table. print_results logical control whether results also printed, besides stored results.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"function prints contingency table several disproportionality metrics (also stored list): ROR: Reporting Odds Ratio confidence intervals. PRR: Proportional Reporting Ratio confidence intervals. RRR: Relative Reporting Ratio confidence intervals. IC: Information Component confidence intervals. IC_gamma: Gamma distribution-based Information Component confidence intervals.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"function constructs contingency table drug-event combination computes following metrics: ROR Reporting Odds Ratio: Based odds ratio PRR Proportional Reporting Ratio: expected probability event calculated population drug interest. RRR Relative Reporting Ratio: expected probability event calculated entire population. IC Information Component: measure based Bayesian confidence propagation neural network models. log2 shrinked RRR. IC_gamma Gamma distribution-based Information Component: alternative IC calculation using gamma distribution. appropriate small databases","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_comparison.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison","text":"","code":"# Example usage disproportionality_comparison(   drug_count = 100, event_count = 50,   drug_event_count = 10, tot = 10000 ) #>     E   nE #> D  10   90 #> nD 40 9860 #>  #>  #> ROR = 27.32 (11.81-57.83) #> PRR = 24.75 (12.74-48.1) #> RRR = 20 (10.44-38.3) #> IC = 3.39 (2.31-4.11) #> IC_gamma = 3.35 (2.36-4.15)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"function calculates disproportionality time trend given drug-event combination. Check disproportionality_analysis() options address biases. results can visualized using plot_disproportionality_trend().","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"","code":"disproportionality_trend(   drug_selected,   reac_selected,   temp_drug = Drug,   temp_reac = Reac,   temp_demo = Demo,   temp_demo_supp = Demo_supp[, .(primaryid, quarter)],   meddra_level = \"pt\",   drug_level = \"substance\",   restriction = \"none\",   time_granularity = \"year\",   cumulative = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"drug_selected Drug selected reac_selected Event selected temp_drug Drug dataset. Can set sample_Drug testing temp_reac Reac dataset. Can set sample_Reac testing temp_demo Demo dataset. Defaults Demo. Can se sample_Demo testing temp_demo_supp Data frame containing supplementary demographic data, particular quarter. Defaults Demo_supp\\[, .(primaryid, quarter)\\]. meddra_level desired MedDRA level analysis (default \"pt\"). drug_level desired drug level analysis (default \"substance\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). restriction Primary IDs consider analysis (default \"none\", includes entire population). set Demo[!RB_duplicates_only_susp]$primaryid, example, allows exclude duplicates according one deduplication algorithms. time_granularity Character string specifying time granularity. Options \"year\", \"quarter\", \"month\". Defaults \"year\". cumulative Logical indicating whether calculate cumulative values. Defaults TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"data frame containing disproportionality results time, including: period Time period. Deafult 'year'. values 'quarter' 'month'. using 'quarter' Demo_supp required TOT Total number reports D_E Number reports drug event D_nE Number reports drug event D Total number reports drug nD_E Number reports event drug E Total number reports event nD_nE Number reports neither drug event ROR_median Reporting odds ratio (ROR) median ROR_lower ROR lower bound (2.5%) ROR_upper ROR upper bound (97.5%) p_value_fisher Fisher's exact test p-value Bonferroni Bonferroni-corrected p-value IC_median Information component (IC) median IC_lower IC lower bound IC_upper IC upper bound label_ROR Formatted ROR label label_IC Formatted IC label","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"function processes provided data calculate reporting odds ratio (ROR) information component (IC) specified drug-event combination time.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/disproportionality_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disproportionality Time Trend for a Drug-Event Combination — disproportionality_trend","text":"","code":"drug_selected <- \"paracetamol\" reac_selected <- \"overdose\" result <- disproportionality_trend(drug_selected, reac_selected,   temp_drug = sample_Drug, temp_reac = sample_Reac, temp_demo = sample_Demo,   temp_demo_supp = sample_Demo_supp[, .(primaryid, quarter)] )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Input for Disproportionality Analysis — format_input_disproportionality","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"function formats input drug reac selected disproportionality analysis. ensures input correct list format processes meet specific structural requirements, allowing researcher greater freedom calling function.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"","code":"format_input_disproportionality(input)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"input list object can converted list (specifically, drug_selected reac_selected).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"formatted list drugs events suitable disproportionality analysis","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/format_input_disproportionality.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Input for Disproportionality Analysis — format_input_disproportionality","text":"","code":"input <- format_input_disproportionality(c(\"TGA\" = list(   \"aripiprazole\",   \"brexpiprazole\",   \"cariprazine\" )))"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Drug Names from FAERS Database — get_drugnames","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"function retrieves drug names occurrence percentages FDA Adverse Event Reporting System (FAERS) database specified drug substance.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"","code":"get_drugnames(drug, temp_d = Drug, temp_d_name = Drug_name)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"drug Character string representing drug substance drug names retrieved. temp_d Drug database. Can set sample_Drug testing. temp_d_name Drug_name database. Can set sample_Drug_Name testing.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"data table containing drug names corresponding occurrence percentages.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"function imports data \"DRUG\" \"DRUG_NAME\" tables specified quarter FAERS database. calculates total number occurrences unique drug name orders results descending order based occurrence count. resulting data table includes drug names occurrence percentages.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/get_drugnames.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Drug Names from FAERS Database — get_drugnames","text":"","code":"if (FALSE) { # \\dontrun{ # This example needs that setup_DiAna has been run before, to download DiAna dictionary if (file.exists(\"external_source/DiAna_dictionary.csv\")) {   FAERS_version <- \"24Q1\"   result <- get_drugnames(\"aripiprazole\")   print(result) } } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Hierarchy of events or substances — hierarchycal_rates","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"function generates hierarchy reporting rates specified entity based different MedDRA ATC levels writes result xlsx file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"","code":"hierarchycal_rates(   pids_cases,   entity = \"reaction\",   file_name = paste0(project_path, \"reporting_rates.xlsx\"),   drug_role = c(\"PS\", \"SS\", \"I\", \"C\") )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"pids_cases Vector primary IDs identifying sample interest. entity Entity investigated. can one following: reaction; indication; substance. file_name Path save XLSX file containing hierarchy. drug_role entity substance, possible specify drug roles considered","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"excel file hierarchy interest. indications reactions, SOCs ordered occurrences , within, HLGTs, HLTs, PTs. substances, ATC hierarchy followed.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/hierarchycal_rates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Hierarchy of events or substances — hierarchycal_rates","text":"","code":"# The following examples require the MedDRA and the ATC to be imported if (file.exists(\"external_sources/meddra_primary\")) {   hierarchycal_rates(pids, \"reaction\", \"reactions_rates.xlsx\") } if (file.exists(\"external_sources/meddra_primary\")) {   hierarchycal_rates(pids, \"indication\", \"indications_rates.xlsx\") } if (file.exists(\"external_sources/ATC_DiAna\")) {   hierarchycal_rates(pids, \"substance\", \"substances_rates.xlsx\") }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":null,"dir":"Reference","previous_headings":"","what":"import — import","title":"import — import","text":"Imports specified FAERS relational database.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import — import","text":"","code":"import(   df_name,   quarter = FAERS_version,   pids = NA,   save_in_environment = TRUE,   env = .GlobalEnv )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"import — import","text":"df_name Name data file (without \".rds\" extension). can one following: DRUG =  Suspect concomitant drugs (active ingredient); REAC =  Suspect reactions (MedDRA PT); DEMO =  Demographics Reporting; DEMO_SUPP =  Demographics Reporting; INDI =  Reasons use; OUTC =  Outcomes; THER =  Drug regimen information; DOSES =  Dosage information; DRUG_SUPP =  Dechallenge, Rechallenge, route, form; DRUG_NAME =  Suspect concomitant drugs (raw terms); quarter quarter import data. updated analyses use last quarterly update, format 23Q1. Defaults value assigned FAERS_version. pids Optional vector primary IDs subset imported data. Defaults entire population. save_in_environment parameter automatically used within functions avoid imported databases overscribed. env environment data assigned. Default .GlobalEnv","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"import — import","text":"data.table containing imported data.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"import — import","text":"","code":"# This example requires that setup_DiAna has been run to download data FAERS_version <- \"24Q1\" if (file.exists(\"data/24Q1/DRUG.rds\")) {   import(\"DRUG\") }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":null,"dir":"Reference","previous_headings":"","what":"Import ATC classification — import_ATC","title":"Import ATC classification — import_ATC","text":"function reads ATC (Anatomical Therapeutic Chemical) classification external source assigns global environment variable.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import ATC classification — import_ATC","text":"","code":"import_ATC(primary = T, env = .GlobalEnv)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import ATC classification — import_ATC","text":"primary Whether primary ATC retrieved. env environment data assigned. Default .GlobalEnv","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import ATC classification — import_ATC","text":"data frame containing dataset ATC linkage.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_ATC.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import ATC classification — import_ATC","text":"","code":"if (file.exists(\"external_source/ATC_DiAna.csv\")) {   import_ATC() }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":null,"dir":"Reference","previous_headings":"","what":"Import MedDRA Data — import_MedDRA","title":"Import MedDRA Data — import_MedDRA","text":"function imports MedDRA (Medical Dictionary Regulatory Activities) data CSV file stores global environment.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import MedDRA Data — import_MedDRA","text":"","code":"import_MedDRA(env = .GlobalEnv)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import MedDRA Data — import_MedDRA","text":"env environment data assigned. Default .GlobalEnv","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import MedDRA Data — import_MedDRA","text":"data table containing MedDRA data.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Import MedDRA Data — import_MedDRA","text":"function reads MedDRA data CSV file located path specified ()/external_sources/meddra_primary.csv. file exist, stop execution provide instructions obtain MedDRA data. file exists, load data, select specific columns (def, soc, hlgt, hlt, pt), remove duplicates, store global environment \"MedDRA\".","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/import_MedDRA.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import MedDRA Data — import_MedDRA","text":"","code":"# This example requires a specific file that can only be available with a MeDRA subscription. if (file.exists(\"external_source/meddra_primary.csv\")) {   import_MedDRA() }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Network Analysis and Visualization — network_analysis","title":"Perform Network Analysis and Visualization — network_analysis","text":"function performs network analysis provided data generates visualization network. uses IsingFit model network structure, clusters nodes using Louvain method, visualizes resulting network graph.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Network Analysis and Visualization — network_analysis","text":"","code":"network_analysis(   pids,   entity = \"reaction\",   remove_singlet = TRUE,   remove_negative_edges = TRUE,   file_name = paste0(project_path, \"network.tiff\"),   width = 1500,   height = 1500,   labs_size = 1,   min_frequency_term = 0.01,   restriction = \"none\",   temp_reac = Reac,   temp_indi = Indi,   temp_drug = Drug,   save_plot = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Network Analysis and Visualization — network_analysis","text":"pids Numeric vector unique identifiers network analysis performed. entity Character specifying type entity analyze (\"reaction\", \"indication\", \"substance\"). remove_singlet Logical indicating whether remove singleton nodes (nodes edges). Default TRUE. remove_negative_edges Logical indicating whether remove edges negative weights. Default TRUE. file_name Character string specifying file name (including path) save network visualization. Default \"network.tiff\". width Numeric specifying width saved image pixels. Default 1500. height Numeric specifying height saved image pixels. Default 1500. labs_size Size labels network visualization. Default 1. can changed visualization good. min_frequency_term Frequency threshold term dataset included analysis. Default 0.01 restriction Restriction performed analysis. Default none. set 'suspects' entity 'substance' restrict analysis primary secondary suspects temp_reac Reac dataset. Can set sample_Reac testing temp_indi Indi dataset. Can set sample_Indi testing temp_drug Drug dataset. Can set sample_Drug testing save_plot Whether plot saved tiff. Defaults true","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Network Analysis and Visualization — network_analysis","text":"NULL (invisibly). Saves network visualization TIFF file.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Perform Network Analysis and Visualization — network_analysis","text":"Fusaroli M, Raschi E, Gatti M, De Ponti F, Poluzzi E. Development Network-Based Signal Detection Tool: COVID-19 Adversome FDA Adverse Event Reporting System. Front Pharmacol. 2021 Dec 8;12:740707. doi: 10.3389/fphar.2021.740707. PMID: 34955821; PMCID: PMC8694570. Fusaroli, M., Polizzi, S., Menestrina, L. et al. Unveiling Burden Drug-Induced Impulsivity: Network Analysis FDA Adverse Event Reporting System. Drug Saf (2024). https://doi.org/10.1007/s40264-024-01471-z","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/network_analysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform Network Analysis and Visualization — network_analysis","text":"","code":"# Perform network analysis for reactions with specified pids net_plot <- network_analysis(   pids = sample_Demo$primaryid,   entity = \"reaction\", temp_reac = sample_Reac,   save_plot = FALSE ) #>    |                                                                               |                                                                      |   0%   |                                                                               |                                                                      |   1%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |===                                                                   |   5%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |=====                                                                 |   8%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |=======                                                               |  11%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |============                                                          |  18%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |==============                                                        |  21%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |=================                                                     |  25%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |===================                                                   |  28%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |=====================                                                 |  31%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |==========================                                            |  38%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  39%   |                                                                               |============================                                          |  40%   |                                                                               |============================                                          |  41%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |==============================                                        |  44%   |                                                                               |===============================                                       |  44%   |                                                                               |===============================                                       |  45%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |=================================                                     |  48%   |                                                                               |==================================                                    |  48%   |                                                                               |==================================                                    |  49%   |                                                                               |===================================                                   |  49%   |                                                                               |===================================                                   |  50%   |                                                                               |===================================                                   |  51%   |                                                                               |====================================                                  |  51%   |                                                                               |====================================                                  |  52%   |                                                                               |=====================================                                 |  52%   |                                                                               |=====================================                                 |  53%   |                                                                               |======================================                                |  54%   |                                                                               |======================================                                |  55%   |                                                                               |=======================================                               |  55%   |                                                                               |=======================================                               |  56%   |                                                                               |========================================                              |  56%   |                                                                               |========================================                              |  57%   |                                                                               |========================================                              |  58%   |                                                                               |=========================================                             |  58%   |                                                                               |=========================================                             |  59%   |                                                                               |==========================================                            |  59%   |                                                                               |==========================================                            |  60%   |                                                                               |==========================================                            |  61%   |                                                                               |===========================================                           |  61%   |                                                                               |===========================================                           |  62%   |                                                                               |============================================                          |  62%   |                                                                               |============================================                          |  63%   |                                                                               |=============================================                         |  64%   |                                                                               |=============================================                         |  65%   |                                                                               |==============================================                        |  65%   |                                                                               |==============================================                        |  66%   |                                                                               |===============================================                       |  67%   |                                                                               |===============================================                       |  68%   |                                                                               |================================================                      |  68%   |                                                                               |================================================                      |  69%   |                                                                               |=================================================                     |  69%   |                                                                               |=================================================                     |  70%   |                                                                               |=================================================                     |  71%   |                                                                               |==================================================                    |  71%   |                                                                               |==================================================                    |  72%   |                                                                               |===================================================                   |  72%   |                                                                               |===================================================                   |  73%   |                                                                               |====================================================                  |  74%   |                                                                               |====================================================                  |  75%   |                                                                               |=====================================================                 |  75%   |                                                                               |=====================================================                 |  76%   |                                                                               |======================================================                |  77%   |                                                                               |======================================================                |  78%   |                                                                               |=======================================================               |  78%   |                                                                               |=======================================================               |  79%   |                                                                               |========================================================              |  79%   |                                                                               |========================================================              |  80%   |                                                                               |========================================================              |  81%   |                                                                               |=========================================================             |  81%   |                                                                               |=========================================================             |  82%   |                                                                               |==========================================================            |  82%   |                                                                               |==========================================================            |  83%   |                                                                               |===========================================================           |  84%   |                                                                               |===========================================================           |  85%   |                                                                               |============================================================          |  85%   |                                                                               |============================================================          |  86%   |                                                                               |=============================================================         |  87%   |                                                                               |=============================================================         |  88%   |                                                                               |==============================================================        |  88%   |                                                                               |==============================================================        |  89%   |                                                                               |===============================================================       |  89%   |                                                                               |===============================================================       |  90%   |                                                                               |===============================================================       |  91%   |                                                                               |================================================================      |  91%   |                                                                               |================================================================      |  92%   |                                                                               |=================================================================     |  92%   |                                                                               |=================================================================     |  93%   |                                                                               |=================================================================     |  94%   |                                                                               |==================================================================    |  94%   |                                                                               |==================================================================    |  95%   |                                                                               |===================================================================   |  95%   |                                                                               |===================================================================   |  96%   |                                                                               |====================================================================  |  97%   |                                                                               |====================================================================  |  98%   |                                                                               |===================================================================== |  98%   |                                                                               |===================================================================== |  99%   |                                                                               |======================================================================|  99%   |                                                                               |======================================================================| 100%  #> Joining with `by = join_by(s)` plot(net_plot)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"function generates KS plot comparing two distributions using Kolmogorov-Smirnov statistic.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"","code":"plot_KS(results_tto_analysis, RG = \"drug\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"results_tto_analysis results time--event analysis. RG Specifies whether drug-event combination interest compared reports \"drug\" \"event\".","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"ggplot object representing KS plot.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"function takes results time--event analysis compares two distributions based specified type data (drug event). uses ggplot2 package create KS plot, highlighting points greatest distance cumulative distribution functions (CDFs) two groups.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_KS.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Kolmogorov-Smirnov (KS) plot — plot_KS","text":"","code":"df <- time_to_onset_analysis(   drug_selected = \"skin care\",   reac_selected = list(\"skin affection\" = list(     \"dry skin\",     \"skin burning sensation\",     \"skin irritation\",     \"erythema\",     \"rash macular\",     \"acne\",     \"skin haemorrhage\"   )),   temp_drug = sample_Drug, temp_reac = sample_Reac,   temp_ther = sample_Ther ) plot_KS(df, RG = \"event\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Disproportionality Trend — plot_disproportionality_trend","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"function plots disproportionality trend time given metric. Visualizes results ofdisproportionality_trend().","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"","code":"plot_disproportionality_trend(   disproportionality_trend_results,   metric = \"IC\",   time_granularity = \"year\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"disproportionality_trend_results Data frame containing results disproportionality_trend function. metric Character string specifying metric plot. Options \"IC\" (information component) \"ROR\" (reporting odds ratio). Defaults \"IC\". time_granularity Character string specifying time frame. recommeded use specified 'disproportionality_trend' function. Default \"year\". Alternatives \"quarter\" \"month\".","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"ggplot object representing disproportionality trend plot specified metric.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"function creates plot visualize disproportionality trend drug-event combination time. Depending selected metric, plots either information component (IC) reporting odds ratio (ROR) corresponding confidence intervals.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/plot_disproportionality_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Disproportionality Trend — plot_disproportionality_trend","text":"","code":"drug_selected <- \"paracetamol\" reac_selected <- \"overdose\" trend_results <- disproportionality_trend(drug_selected, reac_selected,   temp_drug = sample_Drug,   temp_reac = sample_Reac,   temp_demo = sample_Demo,   temp_demo_supp = sample_Demo_supp[     , .(primaryid, quarter)   ] ) plot_disproportionality_trend(trend_results, metric = \"IC\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":null,"dir":"Reference","previous_headings":"","what":"Render Forest Plot — render_forest","title":"Render Forest Plot — render_forest","text":"function generates forest plot visualization disproportions visualizing results disproportionality_analysis().","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Render Forest Plot — render_forest","text":"","code":"render_forest(   disproportionality_df,   index = \"IC\",   row = \"substance\",   levs_row = NA,   nested = FALSE,   show_legend = TRUE,   transformation = \"identity\",   custom_threshold = NA,   text_size_legend = 15,   text_size_axis = 15,   text_size_strip = 15,   dodge = 0.3,   nested_colors = NA,   facet_v = NA,   facet_h = NA,   legend_position = \"right\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Render Forest Plot — render_forest","text":"disproportionality_df data frame containing disproportionality metrics. Generated disproportionality_analysis. index Type data use rendering: \"ROR\" \"IC\". row Variable rows forest plot (default \"drug\"). levs_row Levels rows forest plot. nested Variable indicating nested plotting required (default FALSE). nested plotting required name variable replace FALSE. show_legend Logical indicating whether show legend (default FALSE). transformation Transformation x-axis (default \"identity\"). custom_threshold Threshold value analysis (default 1). text_size_legend Size text legend (default 15). text_size_axis Size text axes (default 15). text_size_strip Size text axes (default 15). dodge Position adjustment dodging (default 0.3). nested_colors Vector colors plot elements. facet_v Variable vertical facetting (default \"event\"). facet_h Variable horizontal facetting (default NA). legend_position place legend.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Render Forest Plot — render_forest","text":"ggplot object representing forest plot visualization.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_forest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Render Forest Plot — render_forest","text":"","code":"disproportionality_df <- disproportionality_analysis(   drug_selected = \"paracetamol\",   reac_selected = \"overdose\",   temp_drug = sample_Drug,   temp_reac = sample_Reac )  render_forest(disproportionality_df)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":null,"dir":"Reference","previous_headings":"","what":"TTO Render Forest Plot — render_tto","title":"TTO Render Forest Plot — render_tto","text":"function generates forest plot visualization time onset analysis","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"TTO Render Forest Plot — render_tto","text":"","code":"render_tto(   df,   row = \"substance\",   levs_row = NA,   nested = FALSE,   show_legend = TRUE,   transformation = \"log10\",   text_size_legend = 15,   dodge = 0.3,   nested_colors = NA,   facet_v = NA,   facet_h = NA )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"TTO Render Forest Plot — render_tto","text":"df Data.table containing data rendering forest plot. row Variable rows forest plot (default \"substance\"). levs_row Levels rows forest plot. nested Variable indicating nested plotting required (default FALSE). nested plotting required name variable replace FALSE. show_legend Logical indicating whether show legend (default FALSE). transformation Transformation x-axis (default \"identity\"). text_size_legend Size text legend (default 15). dodge Position adjustment dodging (default 0.3). nested_colors Vector colors plot elements. facet_v Variable vertical facetting (default \"NA\", setted e.g., \"event\"). facet_h Variable horizontal facetting (default NA).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"TTO Render Forest Plot — render_tto","text":"ggplot object representing forest plot visualization.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/render_tto.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"TTO Render Forest Plot — render_tto","text":"","code":"df <- time_to_onset_analysis(   drug_selected = \"skin care\",   reac_selected = list(\"skin affection\" = list(     \"dry skin\",     \"skin burning sensation\",     \"skin irritation\",     \"erythema\",     \"rash macular\",     \"acne\",     \"skin haemorrhage\"   )),   temp_drug = sample_Drug, temp_reac = sample_Reac,   temp_ther = sample_Ther ) render_tto(df)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"Reporting rates of events or substances — reporting_rates","title":"Reporting rates of events or substances — reporting_rates","text":"counts occurrences reactions/indications/substance given set primary IDs. Calculates % proportion individuals recording event.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reporting rates of events or substances — reporting_rates","text":"","code":"reporting_rates(   pids_cases,   entity = \"reaction\",   level = \"pt\",   drug_role = c(\"PS\", \"SS\", \"I\", \"C\"),   drug_indi = NA,   temp_reac = Reac,   temp_drug = Drug,   temp_indi = Indi )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reporting rates of events or substances — reporting_rates","text":"pids_cases Vector primary IDs consider counting reactions. entity Entity investigated. can one following: reaction; indication; substance. level desired MedDRA ATC level counting (default \"pt\"). drug_role used substances. default suspect concomitant drugs included. drug_indi used indications. default indications drugs selected primaryids considered, can specify vector drugs. temp_reac Reac dataset. Can set sample_Reac testing temp_drug Drug dataset. Can set sample_Drug testing temp_indi Indi dataset. Can set sample_Indi testing","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reporting rates of events or substances — reporting_rates","text":"data.table containing counts percentages investigated entity specified level descending order.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/reporting_rates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reporting rates of events or substances — reporting_rates","text":"","code":"# select only reports recording paracetamol from the sample dataset, # and provide the most reported events (at the pt level), # drugs, and indications (at the PT level). pids_cases <- reporting_rates(unique(sample_Drug[substance == \"paracetamol\"]$primaryid),  \"reaction\", \"pt\",   temp_reac = sample_Reac,   temp_drug = sample_Drug, temp_indi = sample_Indi ) reporting_rates(unique(sample_Drug[substance == \"paracetamol\"]$primaryid),   \"indication\", \"pt\",   temp_reac = sample_Reac,   temp_drug = sample_Drug, temp_indi = sample_Indi ) #>                                    pt #>                                 <ord> #>  1:                              pain #>  2:              rheumatoid arthritis #>  3:                         back pain #>  4:                           anxiety #>  5:  gastrooesophageal reflux disease #>  6:                        depression #>  7:                      hypertension #>  8:               plasma cell myeloma #>  9:                         psoriasis #> 10:                            asthma #> 11:          type 2 diabetes mellitus #> 12:                     premedication #> 13:                          covid-19 #> 14:             psoriatic arthropathy #> 15:                affective disorder #> 16:                psychotic disorder #> 17:           intentional self-injury #> 18:                 candida infection #> 19:              ill-defined disorder #> 20: low density lipoprotein increased #> 21:              abdominal pain upper #> 22:                     muscle spasms #> 23:                         neuralgia #> 24:                 breakthrough pain #> 25:                          migraine #> 26:                          insomnia #> 27:      systemic lupus erythematosus #> 28:                      chemotherapy #> 29:                  hypersensitivity #> 30:                     contraception #> 31:          mucopolysaccharidosis vi #> 32:         chronic myeloid leukaemia #> 33:                multiple sclerosis #> 34:             oral fungal infection #> 35:               atrial fibrillation #> 36:                postoperative care #> 37:        cardiac failure congestive #> 38:                          cachexia #> 39:                       tonsillitis #> 40:                         dyspepsia #> 41:                              gout #> 42:                calcium deficiency #> 43:              vitamin d deficiency #> 44:                  blood phosphorus #> 45:                     renal failure #> 46:                           anaemia #> 47:                        leukopenia #> 48:                   crohn's disease #> 49:             infection prophylaxis #> 50:        essential thrombocythaemia #> 51:  immunodeficiency common variable #> 52:           acute myeloid leukaemia #> 53:              pancreatic carcinoma #> 54:            influenza like illness #> 55:                           pyrexia #> 56:                            chills #> 57:                         infection #> 58:           blood pressure abnormal #> 59:                      renal injury #> 60:        blood cholesterol abnormal #> 61:                  cardiac disorder #> 62:                             cough #> 63:                       rhinorrhoea #> 64:       upper-airway cough syndrome #> 65:                   fabry's disease #> 66:                colitis ulcerative #> 67:             covid-19 immunisation #>                                    pt #>                                          label_pt  N_pt #>                                            <char> <int> #>  1:                             pain (17.95%) [7]     7 #>  2:              rheumatoid arthritis (7.69%) [3]     3 #>  3:                         back pain (7.69%) [3]     3 #>  4:                           anxiety (7.69%) [3]     3 #>  5:  gastrooesophageal reflux disease (7.69%) [3]     3 #>  6:                        depression (7.69%) [3]     3 #>  7:                      hypertension (5.13%) [2]     2 #>  8:               plasma cell myeloma (5.13%) [2]     2 #>  9:                         psoriasis (5.13%) [2]     2 #> 10:                            asthma (5.13%) [2]     2 #> 11:          type 2 diabetes mellitus (5.13%) [2]     2 #> 12:                     premedication (5.13%) [2]     2 #> 13:                          covid-19 (5.13%) [2]     2 #> 14:             psoriatic arthropathy (5.13%) [2]     2 #> 15:                affective disorder (2.56%) [1]     1 #> 16:                psychotic disorder (2.56%) [1]     1 #> 17:           intentional self-injury (2.56%) [1]     1 #> 18:                 candida infection (2.56%) [1]     1 #> 19:              ill-defined disorder (2.56%) [1]     1 #> 20: low density lipoprotein increased (2.56%) [1]     1 #> 21:              abdominal pain upper (2.56%) [1]     1 #> 22:                     muscle spasms (2.56%) [1]     1 #> 23:                         neuralgia (2.56%) [1]     1 #> 24:                 breakthrough pain (2.56%) [1]     1 #> 25:                          migraine (2.56%) [1]     1 #> 26:                          insomnia (2.56%) [1]     1 #> 27:      systemic lupus erythematosus (2.56%) [1]     1 #> 28:                      chemotherapy (2.56%) [1]     1 #> 29:                  hypersensitivity (2.56%) [1]     1 #> 30:                     contraception (2.56%) [1]     1 #> 31:          mucopolysaccharidosis vi (2.56%) [1]     1 #> 32:         chronic myeloid leukaemia (2.56%) [1]     1 #> 33:                multiple sclerosis (2.56%) [1]     1 #> 34:             oral fungal infection (2.56%) [1]     1 #> 35:               atrial fibrillation (2.56%) [1]     1 #> 36:                postoperative care (2.56%) [1]     1 #> 37:        cardiac failure congestive (2.56%) [1]     1 #> 38:                          cachexia (2.56%) [1]     1 #> 39:                       tonsillitis (2.56%) [1]     1 #> 40:                         dyspepsia (2.56%) [1]     1 #> 41:                              gout (2.56%) [1]     1 #> 42:                calcium deficiency (2.56%) [1]     1 #> 43:              vitamin d deficiency (2.56%) [1]     1 #> 44:                  blood phosphorus (2.56%) [1]     1 #> 45:                     renal failure (2.56%) [1]     1 #> 46:                           anaemia (2.56%) [1]     1 #> 47:                        leukopenia (2.56%) [1]     1 #> 48:                   crohn's disease (2.56%) [1]     1 #> 49:             infection prophylaxis (2.56%) [1]     1 #> 50:        essential thrombocythaemia (2.56%) [1]     1 #> 51:  immunodeficiency common variable (2.56%) [1]     1 #> 52:           acute myeloid leukaemia (2.56%) [1]     1 #> 53:              pancreatic carcinoma (2.56%) [1]     1 #> 54:            influenza like illness (2.56%) [1]     1 #> 55:                           pyrexia (2.56%) [1]     1 #> 56:                            chills (2.56%) [1]     1 #> 57:                         infection (2.56%) [1]     1 #> 58:           blood pressure abnormal (2.56%) [1]     1 #> 59:                      renal injury (2.56%) [1]     1 #> 60:        blood cholesterol abnormal (2.56%) [1]     1 #> 61:                  cardiac disorder (2.56%) [1]     1 #> 62:                             cough (2.56%) [1]     1 #> 63:                       rhinorrhoea (2.56%) [1]     1 #> 64:       upper-airway cough syndrome (2.56%) [1]     1 #> 65:                   fabry's disease (2.56%) [1]     1 #> 66:                colitis ulcerative (2.56%) [1]     1 #> 67:             covid-19 immunisation (2.56%) [1]     1 #>                                          label_pt  N_pt reporting_rates(unique(sample_Drug[substance == \"paracetamol\"]$primaryid),   entity = \"substance\",   temp_reac = sample_Reac, temp_drug = sample_Drug,   temp_indi = sample_Indi ) #>                 substance                    label_substance N_substance #>                    <fctr>                             <char>       <int> #>   1:          paracetamol            paracetamol (100%) [51]          51 #>   2:            oxycodone            oxycodone (31.37%) [16]          16 #>   3:          hydrocodone          hydrocodone (25.49%) [13]          13 #>   4: acetylsalicylic acid acetylsalicylic acid (19.61%) [10]          10 #>   5:           salbutamol            salbutamol (17.65%) [9]           9 #>  ---                                                                     #> 264:            enalapril              enalapril (1.96%) [1]           1 #> 265:            aciclovir              aciclovir (1.96%) [1]           1 #> 266:           nifedipine             nifedipine (1.96%) [1]           1 #> 267:         upadacitinib           upadacitinib (1.96%) [1]           1 #> 268:     covid-19 vaccine       covid-19 vaccine (1.96%) [1]           1"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve data for specific primaryids — retrieve","title":"Retrieve data for specific primaryids — retrieve","text":"function retrieves data specific group primaryids, allowing -depth case--case evaluation clinical reasoning. MedDRA available PTs clustered HLGT.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve data for specific primaryids — retrieve","text":"","code":"retrieve(   pids,   file_name = \"individual_cases\",   temp_reac = Reac,   temp_drug = Drug,   temp_demo = Demo,   temp_demo_supp = Demo_supp,   temp_outc = Outc,   temp_ther = Ther,   temp_doses = Doses,   temp_drug_supp = Drug_supp,   temp_indi = Indi,   temp_drug_name = Drug_name,   temp_meddra = NA,   temp_atc = NA,   save_in_excel = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve data for specific primaryids — retrieve","text":"pids Primaryids interest. file_name name output xlsx file (default \"individual cases\"). temp_reac Reac dataset. Can set sample_Reac testing temp_drug Drug dataset. Can set sample_Drug testing temp_demo Demo dataset. Defaults Demo. Can se sample_Demo testing temp_demo_supp Demo_supp databases. Can set sample_Demo_Supp testing temp_outc Outc dataset. Can set sample_Outc testing temp_ther Ther dataset. Can set sample_Ther testing temp_doses Doses databases. Can set sample_Doses testing temp_drug_supp Drug_supp databases. Can set sample_Drug_Supp testing temp_indi Indi dataset. Can set sample_Indi testing temp_drug_name Drug_name databases. Can set sample_Drug_Name testing temp_meddra MedDRA dictionary, available. Defaults NA subscription requirement. temp_atc ATC classification, available. Defaults NA testing. save_in_excel Whether save outcome excel. Defaults TRUE","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve data for specific primaryids — retrieve","text":"Two xlsx files individual cases information: one general row per ICSR, one drug information multiple rows per ICSR.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve data for specific primaryids — retrieve","text":"","code":"FAERS_version <- \"24Q1\" pids <- sample_Demo[sex == \"M\"]$primaryid if (file.exists(\"data/24Q1.csv\")) {   retrieve(pids, save_in_excel = FALSE) }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"function retrieves identifiers pregnancy-related reports FDA Adverse Event Reporting System (FAERS) specified quarter.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"","code":"retrieve_pregnancy_pids(quarter = FAERS_version)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"quarter character string specifying FAERS quarter retrieve data . Default current FAERS version (FAERS_version). can also set \"sample\" use instead sample data, mainly testing.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"list containing five elements: high_specificity vector identifiers high specificity pregnancy-related reports. medium_specificity vector identifiers medium specificity pregnancy-related reports. low_specificity vector identifiers low specificity pregnancy-related reports. paternal_exposure vector identifiers paternal exposure-related reports. flowchart editable flowchart showing case retrieval","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"function processes data multiple FAERS tables (DEMO, DRUG, REAC, INDI, OUTC, THER, DRUG_SUPP) identify pregnancy-related reports based specific indications, reactions, drug routes. results filtered exclude reports unlikely related pregnancy (e.g., reports involving males, children, older adults). algorithm implementation evolution original pregnancy algorithm Sakai,ref. 10.3389/fphar.2022.1063625 #' @references Sakai T, Mori C, Ohtsu F. Potential safety signal pregnancy loss vascular endothelial growth factor inhibitor intraocular injection: disproportionality analysis using Food Drug Administration Adverse Event Reporting System. Front Pharmacol. 2022 Nov 10;13:1063625. doi: 10.3389/fphar.2022.1063625. PMID: 36438807; PMCID: PMC9684212.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/retrieve_pregnancy_pids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Pregnancy-Related Report Identifiers from FAERS — retrieve_pregnancy_pids","text":"","code":"# This function retrieves the pregnancy FAERS from the entire database. # therefore it requires the data to have been downloaded. FAERS_version <- \"24Q1\" if (file.exists(\"data/24Q1/DEMO.rds\")) {   pids_pregnancy <- retrieve_pregnancy_pids()   pids_pregnancy$medium_specificity }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Demographic Data — sample_Demo","title":"Sample Demographic Data — sample_Demo","text":"dataset containing demographic information individuals various details sex, age days, weight kilograms, related information.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Demographic Data — sample_Demo","text":"","code":"sample_Demo"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Demographic Data — sample_Demo","text":"data frame 15 variables: primaryid Unique identifier individual (numeric). sex Sex individual (factor), levels M male F female. age_in_days Age individual days (numeric). wt_in_kgs Weight individual kilograms (numeric). occr_country Country event occurred (factor). event_dt Date event (integer), format YYYYMMDD. occp_cod Occupation reporter (factor), levels CN consumers/patients, MD medical doctors, PH pharmacist, RN registered nurse, HP healthcare professional, LW lawyer, OT occupation. reporter_country Country reporter (factor). rept_cod Report code (factor), levels EXP expedited (.e., serious unexpected reaction reported within 30 days first reception pharmaceutical company), PER periodic (.e., expected non-serious event, sent pharmaceutical company regulatory agency yearly basis), DIR directed reports (.e., submitted directly reporter MedWatch form, without going pharmaceutical companies). init_fda_dt First date reception FDA (integer), format YYYYMMDD. fda_dt Date reception last update FDA (integer), format YYYYMMDD. premarketing Logical indicator case premarketing (.e., clinical trials) (logical). literature Logical indicator case literature (logical). RB_duplicates Logical indicator case duplicate based Rule Based algorithm (logical). RB_duplicates_only_susp Logical indicator case duplicate based Rule Based algorithm considering suspected drugs (logical).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Demographic Data — sample_Demo","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Demographic Data — sample_Demo","text":"dataset subset actual Demo data (can downloaded using setup_DiAna()), providing glimpse structure database allowing tests documentation.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Supplementary Demographic Data — sample_Demo_Supp","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"dataset containing supplementary demographic information individuals, including reporter codes, case IDs, additional details.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"","code":"sample_Demo_Supp"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"data.table 10 variables: primaryid Unique identifier individual (numeric). rpsr_cod Report source code (factor). caseid Case ID link report public dashboard (integer). caseversion Case version case multiple updates (factor). i_f_cod Initial follow-version (factor). auth_num Authorization number (character). e_sub Electronic submission  (factor). lit_ref Literature reference case (character). rept_dt Reporting date (integer). to_mfr Sent manufacturer (character). mfr_sndr Manufacturer sender (character). mfr_num Manufacturer id number (character). mfr_dt Manufacturer date (integer). quarter FAERS Quarter report stored  (factor).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Demo_Supp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Supplementary Demographic Data — sample_Demo_Supp","text":"subset Demo_Supp provides supplementary demographic information reports, including details related reporting manufacturer information. useful understanding additional context around adverse drug reaction reports.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Drug Doses — sample_Doses","title":"Sample Data on Drug Doses — sample_Doses","text":"dataset containing information drug doses administered, linking primary IDs dose details.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Drug Doses — sample_Doses","text":"","code":"sample_Doses"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Drug Doses — sample_Doses","text":"data.table 7 variables: primaryid Unique identifier individual (numeric). drug_seq Sequence number identifying specific drug report (integer). dose_vbm Verbatim (free-text) dose description (character). dose_unit Unit dose (character). cum_dose_chr Cumulative dose character (numeric). dose_amt Amount dose (character). cum_dose_unit Cumulative dose unit (character). dose_freq Frequency dose (factor).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Drug Doses — sample_Doses","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Doses.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Drug Doses — sample_Doses","text":"subset Doses provides detailed information drug doses administered, including verbatim descriptions, units, cumulative doses, amounts, frequency administration, facilitating analysis related dosing patterns. can observed sample, dataset NA (info available).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Drug Administration — sample_Drug","title":"Sample Data on Drug Administration — sample_Drug","text":"dataset containing information drugs administered individuals, including substance names, roles.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Drug Administration — sample_Drug","text":"","code":"sample_Drug"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Drug Administration — sample_Drug","text":"data.table 4 variables: primaryid Unique identifier individual (numeric). drug_seq Sequence number identifying specific drug report (integer). substance Name drug substance (active ingredient), standardized using DiAna_Dictionary (factor). role_cod Role code indicating role drug (ordered), levels PS primary suspect, SS secondary suspect, C concomitant, interacting.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Drug Administration — sample_Drug","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Drug Administration — sample_Drug","text":"subset Drug provides detailed information drugs administered individuals, specifying suspected roles context adverse drug reactions.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Drug Names before standardization — sample_Drug_Name","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"dataset containing information drug names associated details, including drug names, additional attributes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"","code":"sample_Drug_Name"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"data.table 5 variables: primaryid Unique identifier report (numeric). drug_seq Sequence number identifying specific drug report (integer). val_vbm Validity flag indicating whether drug name valid free text (reliable) (integer). nda_num New Drug Application number (character). drugname Name drug recorded reporter (factor). prod_ai Product active ingredient recorded reporter (factor).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Name.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Drug Names before standardization — sample_Drug_Name","text":"subset Drug_Name provides detailed information drug names associated attributes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Supplementary Drug Information — sample_Drug_Supp","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"dataset containing supplementary information drugs administered, including administration routes, formulation, related details.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"","code":"sample_Drug_Supp"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"data.table 8 variables: primaryid Unique identifier report (numeric). drug_seq Sequence number identifying specific drug report (integer). route Route drug administration (factor). dose_form Form drug dose (factor). dechal Dechallenged flag indicating dechallenge verified: event abated discontinuation drug (factor). rechal Rechallenged flag indicating rechallenge verified: event reappeared readminstering drug (factor). lot_num Lot number drug (character). exp_dt Expiration date drug (numeric).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Drug_Supp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Supplementary Drug Information — sample_Drug_Supp","text":"dataset provides supplementary information drugs administered, including details administration routes, dose forms, dechallenge/rechallenge flags. complements adverse drug reaction data providing additional context drug usage.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample dataset containing indications for using reported drugs. — sample_Indi","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"dataset provides information indications. report (primaryid) can record multiple drugs therefore multiple indications (rows).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"","code":"sample_Indi"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"data.table 3 variables: primaryid Unique identifier report. drug_seq Sequence number identifying specific drug reported report. indi_pt Preferred term describing drug indication according Medical Dictionary Regulatory Activities.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Indi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample dataset containing indications for using reported drugs. — sample_Indi","text":"dataset provides detailed information drug indications reported individuals, categorized primary ID drug sequence, facilitating analysis related specific indications observed adverse drug reaction reports. report can record multiple drugs therefore multiple indications.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Individual Outcomes — sample_Outc","title":"Sample Data on Individual Outcomes — sample_Outc","text":"dataset containing individual-level outcomes associated adverse drug reactions, linking primary IDs outcome codes.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Individual Outcomes — sample_Outc","text":"","code":"sample_Outc"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Individual Outcomes — sample_Outc","text":"data.table 2 variables: primaryid Unique identifier individual (numeric). outc_cod Outcome code indicating severity outcome adverse event (ordered), levels DE death, LT life-threatening, HO hospitalization, DS disability, RI required intervention, OT ","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Individual Outcomes — sample_Outc","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Outc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Individual Outcomes — sample_Outc","text":"dataset provides information outcomes associated reported adverse drug reactions, specifying severity nature event observed individuals.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"dataset provides information adverse drug reactions (ADRs). report (primaryid) can record multiple events (rows).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"","code":"sample_Reac"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"data.table 3 variables: primaryid Unique identifier report (primary ID) pt Preferred term describing adverse reaction according Medical Dictionary Regulatory Activities drug_rec_act Drug rechallenged action (event recurred rechallenge, going shown ).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Reac.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample dataset containing events (suspected adverse drug reactions) and related information. — sample_Reac","text":"dataset subset actual Reac data (can downloaded using setup_DiAna()), providing glimpse structure database allowing tests documentation.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Data on Therapy Details — sample_Ther","title":"Sample Data on Therapy Details — sample_Ther","text":"dataset containing details therapeutic interventions, including drug therapy start end dates, duration days, time onset events related therapy, event dates.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Data on Therapy Details — sample_Ther","text":"","code":"sample_Ther"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample Data on Therapy Details — sample_Ther","text":"data.table 7 variables: primaryid Unique identifier individual (numeric). drug_seq Sequence number identifying specific drug within report (integer). start_dt Date first administration therapy (numeric), YYYYMMDD format. dur_in_days Duration therapy days (numeric). end_dt Date last administration therapy (numeric), YYYYMMDD format. time_to_onset Time onset related events days (numeric). TTO per drug, independently event, since event date report. TTO calculated difference event date start date. event_dt Date occurrence events (one per report even multiple events) (integer), YYYYMMDD format.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample Data on Therapy Details — sample_Ther","text":"https://github.com/fusarolimichele/DiAna","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/sample_Ther.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample Data on Therapy Details — sample_Ther","text":"subset dataset provides detailed information therapeutic interventions, facilitates analysis therapy durations, onset times.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Up DiAna Environment — setup_DiAna","title":"Set Up DiAna Environment — setup_DiAna","text":"function sets DiAna environment creating necessary folders downloading DiAna data specified quarter DiAna dictionary together csv link drugs ATC.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Up DiAna Environment — setup_DiAna","text":"","code":"setup_DiAna(quarter = \"23Q1\", timeout = 1e+05)"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Up DiAna Environment — setup_DiAna","text":"quarter quarter set DiAna environment (default \"23Q1\"). ones available: 23Q1 23Q3 23Q4 24Q1 24Q2 24Q3 24Q4 timeout amount time R stops task still unfinished. Default 100000It may necessary increase case slow connection.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Up DiAna Environment — setup_DiAna","text":"None. function sets environment downloads data.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/setup_DiAna.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Up DiAna Environment — setup_DiAna","text":"","code":"if (FALSE) { # \\dontrun{ # Set up DiAna environment for the default quarter # Run only when needed to download the FAERS datasets for the first time # and at new quarter updates. setup_DiAna() } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":null,"dir":"Reference","previous_headings":"","what":"Install RStudio Snippets from GitHub Repository — snippets_install_github","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"function installs RStudio code snippets specified GitHub repository.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"","code":"snippets_install_github(repo = \"fusarolimichele/DiAna_snippets\")"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"repo Character. GitHub repository containing snippets. Default \"fusarolimichele/DiAna_snippets\".","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"None. function called side effects, include installing RStudio snippets.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/snippets_install_github.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install RStudio Snippets from GitHub Repository — snippets_install_github","text":"","code":"if (FALSE) { # \\dontrun{ # This example is using internet connection to download snippets to initialize scripts. # It automatically includes snippets among the ones available to the user. # It should not be run at the check. snippets_install_github() } # }"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":null,"dir":"Reference","previous_headings":"","what":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"function analyzes data frame disproportionality metrics categorizes signals based specified thresholds.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"","code":"tailor_disproportionality_threshold(   disproportionality_df,   minimum_cases = 3,   log2_threshold = 0,   frequentist_threshold = 1,   multiple_comparison = TRUE )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"disproportionality_df data frame containing disproportionality metrics. Generated disproportionality_analysis. minimum_cases integer specifying minimum number cases required consider signal. Defaults 3. log2_threshold numeric value specifying threshold Information Component (IC) signal. Defaults 0. frequentist_threshold numeric value specifying threshold Reporting Odds Ratio (ROR) signal. Defaults 1. multiple_comparison logical value indicating whether apply multiple comparison adjustments (e.g., Bonferroni correction). Defaults TRUE.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"data frame two new columns: ROR_signal IC_signal, categorizing signals based provided thresholds.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"function categorizes signals four levels: \"enough cases\": number cases less minimum_cases. \"SDR\": signal meet specified threshold. \"weak SDR\": signal disappear multiple comparison adjustments. \"SDR\": signal remain multiple comparison.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/tailor_disproportionality_threshold.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tailor Disproportionality Threshold — tailor_disproportionality_threshold","text":"","code":"disproportionality_df <- disproportionality_analysis(   drug_selected = \"paracetamol\",   reac_selected = \"headache\",   temp_drug = sample_Drug,   temp_reac = sample_Reac )  disproportionality_df <- tailor_disproportionality_threshold(disproportionality_df,   minimum_cases = 5 )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"function conducts time--onset analysis associations drugs events based user-specified parameters.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"","code":"time_to_onset_analysis(   drug_selected,   reac_selected,   temp_drug = Drug,   temp_reac = Reac,   temp_ther = Ther,   meddra_level = \"pt\",   drug_level = \"substance\",   restriction = \"none\",   minimum_cases = 3,   max_TTO = 365,   test = \"AD\" )"},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"drug_selected list drugs analysis. Can list lists (collapse terms together) drug_level set custom. reac_selected list adverse events analysis. Can list lists (collapse terms together) meddra_level set custom. temp_drug Data table containing drug data (default Drug). set Drug[role_cod %% c(\"PS\",\"SS\")] allows investigate suspects. temp_reac Data table containing reaction data (default Reac). temp_ther Data table containing therapy temporal data (default Ther). meddra_level desired MedDRA level analysis (default \"pt\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). drug_level desired drug level analysis (default \"substance\"). set \"custom\" allows list lists reac_selected (collapsing multiple terms). restriction Primary IDs consider analysis (default \"none\", includes entire population). set Demo[!RB_duplicates_only_susp]$primaryid, example, allows exclude duplicates according one deduplication algorithms. minimum_cases minimum number cases required analysis (default 3). max_TTO maximum time onset considered analysis, days (default 365). test two-sample goodness fit test apply TTO analysis. Choices AD (Anderson-Darling test - default) KS (Kolmogorov-Smirnov test).","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"data.table containing results time--onset analysis, including drug-event associations, KS test statistics, p-values.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"Van Holle, L., Zeinoun, Z., Bauchau, V. Verstraeten, T. (2012), Using time--onset detecting safety signals spontaneous reports adverse events following immunization: proof concept study. Pharmacoepidemiol Drug Saf, 21: 603-610. https://doi.org/10.1002/pds.3226 Scholl JHG, van Hunsel FPAM, Hak E, van Puijenbroek EP. Time onset statistical signal detection revisited: follow-study long-term onset adverse drug reactions. Pharmacoepidemiology Drug Safety. 2019;28:1283–9.","code":""},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/reference/time_to_onset_analysis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform time-to-onset analysis for drug-event associations — time_to_onset_analysis","text":"","code":"# This is just an example of how to use the function, # as sample_Data has only little information about time to onset. df <- time_to_onset_analysis(   drug_selected = \"skin care\",   reac_selected = list(\"skin affection\" = list(     \"dry skin\",     \"skin burning sensation\",     \"skin irritation\",     \"erythema\",     \"rash macular\",     \"acne\",     \"skin haemorrhage\"   )),   temp_drug = sample_Drug, temp_reac = sample_Reac,   temp_ther = sample_Ther )"},{"path":[]},{"path":"https://fusarolimichele.github.io/DiAna_package/news/index.html","id":"breaking-changes-2-1-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"DiAna 2.1.0","text":"Download now faster dependencies reduced Included tests (coverage > 80%) Names parameters standardized across functions Requires databases uploaded, make clear user databases used function. Give user decision whether save excel just keep results descriptive retrieve function environment. Necessary testing.","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/news/index.html","id":"new-features-2-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"DiAna 2.1.0","text":"Included documented sample data country dictionary package Added website Added articles/tutorials setting subproject performing disproportionality analysis website Improved documentation Included running examples","code":""},{"path":"https://fusarolimichele.github.io/DiAna_package/news/index.html","id":"minor-improvements-and-fixes-2-1-0","dir":"Changelog","previous_headings":"","what":"Minor improvements and fixes","title":"DiAna 2.1.0","text":"disproportionality_analysis() related functions robust: accept different formatting drug_selected event selected; warn unexpected drug event terms input. meddra/pt_level == “custom” deprecated inferred input. render_forest() function flexible: allows changing position legend. Fixed bug providing colors shown. *Updating descriptive comply recent version gtsummary.","code":""}]
