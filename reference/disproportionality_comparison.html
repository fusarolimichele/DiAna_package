<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison • DiAna</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Disproportionality Analysis for Drug-Event Combinations — disproportionality_comparison"><meta name="description" content="This function performs a disproportionality analysis for drug-event combinations in the FAERS dataset,
calculating various metrics such as the Reporting Odds Ratio (ROR), Proportional Reporting Ratio (PRR),
Relative Reporting Ratio (RRR), and Information Component (IC).
Contrary to disproportionality_analysis(), it calculates the association based on number of reports,
and not based on the Drug and Reac database.
For a more flexible application of other disproportionality measures,
you can look at this vignette
of the pvda R package."><meta property="og:description" content="This function performs a disproportionality analysis for drug-event combinations in the FAERS dataset,
calculating various metrics such as the Reporting Odds Ratio (ROR), Proportional Reporting Ratio (PRR),
Relative Reporting Ratio (RRR), and Information Component (IC).
Contrary to disproportionality_analysis(), it calculates the association based on number of reports,
and not based on the Drug and Reac database.
For a more flexible application of other disproportionality measures,
you can look at this vignette
of the pvda R package."><meta property="og:image" content="https://fusarolimichele.github.io/DiAna_package/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DiAna</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Get started</h6></li>
    <li><a class="dropdown-item" href="../articles/Start_Subproject.html">Start Subproject</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Disproportionality Analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/Disproportionality_Analysis.html">Disproportionality Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Causal_inference.html">Causal inference</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fusarolimichele/DiAna_package/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Disproportionality Analysis for Drug-Event Combinations</h1>
      <small class="dont-index">Source: <a href="https://github.com/fusarolimichele/DiAna_package/blob/main/R/disproportionality_analysis.R" class="external-link"><code>R/disproportionality_analysis.R</code></a></small>
      <div class="d-none name"><code>disproportionality_comparison.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function performs a disproportionality analysis for drug-event combinations in the FAERS dataset,
calculating various metrics such as the Reporting Odds Ratio (ROR), Proportional Reporting Ratio (PRR),
Relative Reporting Ratio (RRR), and Information Component (IC).
Contrary to <code><a href="disproportionality_analysis.html">disproportionality_analysis()</a></code>, it calculates the association based on number of reports,
and not based on the Drug and Reac database.
For a more flexible application of other disproportionality measures,
you can look at <a href="https://CRAN.R-project.org/package=pvda" class="external-link">this vignette</a>
of the pvda R package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">disproportionality_comparison</span><span class="op">(</span></span>
<span>  drug_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">pids_drug</span><span class="op">)</span>,</span>
<span>  event_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">pids_event</span><span class="op">)</span>,</span>
<span>  drug_event_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">intersect</a></span><span class="op">(</span><span class="va">pids_drug</span>, <span class="va">pids_event</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  tot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Demo</span><span class="op">)</span>,</span>
<span>  print_results <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-drug-count">drug_count<a class="anchor" aria-label="anchor" href="#arg-drug-count"></a></dt>
<dd><p>An integer representing the number of reports for the drug of interest. Default is the length of <code>pids_drug</code>.</p></dd>


<dt id="arg-event-count">event_count<a class="anchor" aria-label="anchor" href="#arg-event-count"></a></dt>
<dd><p>An integer representing the number of reports for the event of interest. Default is the length of <code>pids_event</code>.</p></dd>


<dt id="arg-drug-event-count">drug_event_count<a class="anchor" aria-label="anchor" href="#arg-drug-event-count"></a></dt>
<dd><p>An integer representing the number of reports for the drug-event combination. Default is the length of the intersection of <code>pids_drug</code> and <code>pids_event</code>.</p></dd>


<dt id="arg-tot">tot<a class="anchor" aria-label="anchor" href="#arg-tot"></a></dt>
<dd><p>An integer representing the total number of reports in the dataset. Default is the number of rows in the <code>Demo</code> table.</p></dd>


<dt id="arg-print-results">print_results<a class="anchor" aria-label="anchor" href="#arg-print-results"></a></dt>
<dd><p>A logical to control whether the results should also be printed, besides being stored in the results.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>This function prints a contingency table and several disproportionality metrics (which are also stored in a list):</p><ul><li><p><code>ROR</code>: Reporting Odds Ratio with confidence intervals.</p></li>
<li><p><code>PRR</code>: Proportional Reporting Ratio with confidence intervals.</p></li>
<li><p><code>RRR</code>: Relative Reporting Ratio with confidence intervals.</p></li>
<li><p><code>IC</code>: Information Component with confidence intervals.</p></li>
<li><p><code>IC_gamma</code>: Gamma distribution-based Information Component with confidence intervals.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function constructs a contingency table for the drug-event combination and computes the following metrics:</p><dl><dt><code>ROR</code></dt>
<dd><p>Reporting Odds Ratio: Based on odds ratio</p></dd>

<dt><code>PRR</code></dt>
<dd><p>Proportional Reporting Ratio: The expected probability of the event is calculated on the population not having the drug of interest.</p></dd>

<dt><code>RRR</code></dt>
<dd><p>Relative Reporting Ratio: The expected probability of the event is calculated on the entire population.</p></dd>

<dt><code>IC</code></dt>
<dd><p>Information Component: A measure based on Bayesian confidence propagation neural network models. It is the log2 of the shrinked RRR.</p></dd>

<dt><code>IC_gamma</code></dt>
<dd><p>Gamma distribution-based Information Component: An alternative IC calculation using the gamma distribution. It is more appropriate for small databases</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other disproportionality functions:
<code><a href="disproportionality_analysis.html">disproportionality_analysis</a>()</code>,
<code><a href="disproportionality_trend.html">disproportionality_trend</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example usage</span></span></span>
<span class="r-in"><span><span class="fu">disproportionality_comparison</span><span class="op">(</span></span></span>
<span class="r-in"><span>  drug_count <span class="op">=</span> <span class="fl">100</span>, event_count <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  drug_event_count <span class="op">=</span> <span class="fl">10</span>, tot <span class="op">=</span> <span class="fl">10000</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     E   nE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> D  10   90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nD 40 9860</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ROR = 27.32 (11.81-57.83)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PRR = 24.75 (12.74-48.1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RRR = 20 (10.44-38.3)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IC = 3.39 (2.31-4.11)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IC_gamma = 2.53 (2.36-4.15)</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michele Fusaroli, Valentina Giunchi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

